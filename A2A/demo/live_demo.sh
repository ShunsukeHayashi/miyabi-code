#!/bin/bash
# A2A Live Demo Script
# ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§ç”»åƒç”Ÿæˆã—ãªãŒã‚‰ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ‡ãƒ¢

CYAN='\033[1;36m'
YELLOW='\033[1;33m'
GREEN='\033[1;32m'
BLUE='\033[1;34m'
MAGENTA='\033[1;35m'
RED='\033[1;31m'
RESET='\033[0m'

SLIDES_DIR="/Users/shunsuke/Dev/01-miyabi/_core/miyabi-private/A2A/slides"
DEMO_SLIDES_DIR="/Users/shunsuke/Dev/01-miyabi/_core/miyabi-private/A2A/demo/slides"

clear

cat << 'BANNER'

    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—     â–ˆâ–ˆâ•—     â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—
   â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â•šâ•â•â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—    â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â•
   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘    â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—
   â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â• â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘    â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•”â•â•â•
   â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•”â• â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—
   â•šâ•â•  â•šâ•â•â•šâ•â•â•â•â•â•â•â•šâ•â•  â•šâ•â•    â•šâ•â•â•â•â•â•â•â•šâ•â•  â•šâ•â•â•â•  â•šâ•â•â•â•â•â•â•
                    DEMO

BANNER

echo ""
echo -e "${CYAN}â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•${RESET}"
echo -e "${CYAN}   ğŸ¯ A2A Multi-Agent System - Live Demo                          ${RESET}"
echo -e "${CYAN}   ğŸ“¸ ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§ Gemini/Imagen ãŒç”»åƒç”Ÿæˆä¸­...              ${RESET}"
echo -e "${CYAN}â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•${RESET}"
echo ""
echo -e "   ${YELLOW}Press Enter to continue each section...${RESET}"
echo ""
read -r

# Section 1: ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦
echo -e "${MAGENTA}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${RESET}"
echo -e "${MAGENTA}  ğŸ“– Section 1: A2A ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦                                  ${RESET}"
echo -e "${MAGENTA}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${RESET}"
echo ""
echo -e "  ${CYAN}A2A (Agent-to-Agent)${RESET} = tmuxãƒ™ãƒ¼ã‚¹ã®ãƒãƒ«ãƒã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆé€šä¿¡"
echo ""
echo -e "  ${YELLOW}æ§‹æˆè¦ç´ :${RESET}"
echo -e "    ğŸ¯ ${GREEN}Conductor (æŒ‡æ®è«–)${RESET} - å…¨ä½“çµ±æ‹¬ãƒ»ã‚¿ã‚¹ã‚¯åˆ†é…"
echo -e "    ğŸ ${GREEN}æ¥“ (Kaede)${RESET}         - CodeGen (ã‚³ãƒ¼ãƒ‰ç”Ÿæˆ)"
echo -e "    ğŸŒ¸ ${GREEN}æ¡œ (Sakura)${RESET}        - Review (ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼)"
echo -e "    ğŸŒº ${GREEN}æ¤¿ (Tsubaki)${RESET}       - PR (ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆç®¡ç†)"
echo -e "    ğŸŒ¼ ${GREEN}ç‰¡ä¸¹ (Botan)${RESET}       - Deploy (ãƒ‡ãƒ—ãƒ­ã‚¤)"
echo -e "    ğŸ” ${GREEN}è¦‹ä»˜è«– (Mitsukeroon)${RESET} - Issue (Issueç®¡ç†)"
echo ""

# ç”»åƒãƒã‚§ãƒƒã‚¯
if [[ -f "$SLIDES_DIR/slide_01_title.png" ]]; then
    echo -e "  ${GREEN}ğŸ“¸ ç”»åƒã‚ã‚Š: slide_01_title.png${RESET}"
fi
echo ""
read -r

# Section 2: P0.2 ãƒ—ãƒ­ãƒˆã‚³ãƒ«
echo -e "${MAGENTA}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${RESET}"
echo -e "${MAGENTA}  ğŸ“– Section 2: P0.2 é€šä¿¡ãƒ—ãƒ­ãƒˆã‚³ãƒ«                               ${RESET}"
echo -e "${MAGENTA}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${RESET}"
echo ""
echo -e "  ${YELLOW}ã‚³ãƒãƒ³ãƒ‰å½¢å¼:${RESET}"
echo -e "  ${BLUE}â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”${RESET}"
echo -e "  ${BLUE}â”‚ tmux send-keys -t %PANE_ID 'MESSAGE' && sleep 0.5 && \\    â”‚${RESET}"
echo -e "  ${BLUE}â”‚ tmux send-keys -t %PANE_ID Enter                           â”‚${RESET}"
echo -e "  ${BLUE}â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜${RESET}"
echo ""
echo -e "  ${YELLOW}é‡è¦ãƒ«ãƒ¼ãƒ«:${RESET}"
echo -e "    âœ… æ°¸ç¶šãƒšã‚¤ãƒ³ID (%18ç­‰) ã‚’ä½¿ç”¨"
echo -e "    âœ… sleep 0.5 ã‚’å«ã‚ã‚‹ï¼ˆå®‰å®šæ€§ï¼‰"
echo -e "    âœ… PUSHå‹å ±å‘Šã®ã¿ï¼ˆãƒãƒ¼ãƒªãƒ³ã‚°ç¦æ­¢ï¼‰"
echo ""
echo -e "  ${YELLOW}ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ:${RESET}"
echo -e "    ${GREEN}[ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆå] çŠ¶æ…‹: è©³ç´°${RESET}"
echo -e "    ä¾‹: [æ¥“] ğŸš€ é–‹å§‹: Issue #123 ã®å®Ÿè£…ã‚’é–‹å§‹"
echo ""
echo -e "  ${YELLOW}ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚¢ã‚¤ã‚³ãƒ³:${RESET}"
echo -e "    ğŸš€ é–‹å§‹  ğŸ”„ é€²è¡Œä¸­  âœ… å®Œäº†  âŒ ã‚¨ãƒ©ãƒ¼  â³ å¾…æ©Ÿ  â“ ç¢ºèª"
echo ""
read -r

# Section 3: é–‹ç™ºãƒ•ãƒ­ãƒ¼
echo -e "${MAGENTA}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${RESET}"
echo -e "${MAGENTA}  ğŸ“– Section 3: é–‹ç™ºãƒ•ãƒ­ãƒ¼ (Issue â†’ Deploy)                      ${RESET}"
echo -e "${MAGENTA}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${RESET}"
echo ""
echo -e "  ${CYAN}â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”${RESET}"
echo -e "  ${CYAN}â”‚ Issue  â”‚â”€â”€â†’â”‚CodeGen â”‚â”€â”€â†’â”‚ Review â”‚â”€â”€â†’â”‚   PR   â”‚â”€â”€â†’â”‚ Deploy â”‚${RESET}"
echo -e "  ${CYAN}â”‚ è¦‹ä»˜è«– â”‚   â”‚   æ¥“   â”‚   â”‚   æ¡œ   â”‚   â”‚   æ¤¿   â”‚   â”‚  ç‰¡ä¸¹  â”‚${RESET}"
echo -e "  ${CYAN}â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜${RESET}"
echo ""
echo -e "  ${YELLOW}å„ã‚¹ãƒ†ãƒ¼ã‚¸ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³:${RESET}"
echo -e "    1. Issueä½œæˆãƒ»ãƒ©ãƒ™ãƒ«ä»˜ã‘"
echo -e "    2. ã‚³ãƒ¼ãƒ‰ç”Ÿæˆãƒ»ãƒ†ã‚¹ãƒˆä½œæˆ"
echo -e "    3. ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ»LGTM/ä¿®æ­£ä¾é ¼"
echo -e "    4. ãƒãƒ¼ã‚¸ãƒ»ãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆ"
echo -e "    5. æœ¬ç•ªãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆæ‰¿èªå¿…é ˆï¼‰"
echo ""
read -r

# Section 4: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
echo -e "${MAGENTA}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${RESET}"
echo -e "${MAGENTA}  ğŸ“– Section 4: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é€šä¿¡ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³                   ${RESET}"
echo -e "${MAGENTA}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${RESET}"
echo ""

messages=(
    "YELLOW|[18:00:00] ğŸ“‹ æŒ‡æ®è«– â†’ æ¥“|Issue #42: ãƒ­ã‚°ã‚¤ãƒ³æ©Ÿèƒ½ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„"
    "GREEN|[18:00:02] ğŸš€ æ¥“ â†’ æŒ‡æ®è«–|é–‹å§‹: Issue #42 ã®å®Ÿè£…ã‚’é–‹å§‹"
    "BLUE|[18:00:30] ğŸ”„ æ¥“ â†’ æŒ‡æ®è«–|é€²æ—: auth.ts ä½œæˆå®Œäº† (50%)"
    "GREEN|[18:01:00] âœ… æ¥“ â†’ æŒ‡æ®è«–|å®Œäº†: Issue #42 å®Ÿè£…å®Œäº†"
    "YELLOW|[18:01:01] ğŸ“‹ æ¥“ â†’ æ¡œ|ãƒ¬ãƒ“ãƒ¥ãƒ¼ä¾é ¼: PR #100"
    "GREEN|[18:01:30] âœ… æ¡œ â†’ æŒ‡æ®è«–|å®Œäº†: LGTM! ğŸ‰"
    "YELLOW|[18:01:31] ğŸ“‹ æ¡œ â†’ æ¤¿|ãƒãƒ¼ã‚¸ä¾é ¼: PR #100"
    "GREEN|[18:01:45] âœ… æ¤¿ â†’ æŒ‡æ®è«–|å®Œäº†: main ã«ãƒãƒ¼ã‚¸å®Œäº†"
    "YELLOW|[18:01:46] ğŸ“‹ æ¤¿ â†’ ç‰¡ä¸¹|ãƒ‡ãƒ—ãƒ­ã‚¤ä¾é ¼: v1.2.0"
    "MAGENTA|[18:02:00] â“ ç‰¡ä¸¹ â†’ æŒ‡æ®è«–|ç¢ºèª: æœ¬ç•ªãƒ‡ãƒ—ãƒ­ã‚¤æº–å‚™å®Œäº†"
    "GREEN|[18:02:30] âœ… ç‰¡ä¸¹ â†’ æŒ‡æ®è«–|å®Œäº†: ãƒ‡ãƒ—ãƒ­ã‚¤æˆåŠŸï¼ ğŸš€"
)

for msg in "${messages[@]}"; do
    IFS='|' read -r color header detail <<< "$msg"
    case $color in
        YELLOW) c=$YELLOW ;;
        GREEN) c=$GREEN ;;
        BLUE) c=$BLUE ;;
        MAGENTA) c=$MAGENTA ;;
        *) c=$RESET ;;
    esac
    echo -e "  ${c}${header}${RESET}"
    echo -e "       ${detail}"
    echo ""
    sleep 0.8
done

read -r

# Section 5: Claude --agents
echo -e "${MAGENTA}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${RESET}"
echo -e "${MAGENTA}  ğŸ“– Section 5: Claude --agents ã®ä½¿ã„æ–¹                          ${RESET}"
echo -e "${MAGENTA}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${RESET}"
echo ""
echo -e "  ${YELLOW}èµ·å‹•ã‚³ãƒãƒ³ãƒ‰:${RESET}"
echo -e "  ${GREEN}claude --agents \"\$(cat miyabi_agents_optimized.json)\"${RESET}"
echo ""
echo -e "  ${YELLOW}JSONå½¢å¼:${RESET}"
echo -e "  ${BLUE}{${RESET}"
echo -e "  ${BLUE}  \"kaede\": {${RESET}"
echo -e "  ${BLUE}    \"description\": \"CodeGen - ã‚³ãƒ¼ãƒ‰ç”Ÿæˆ\",${RESET}"
echo -e "  ${BLUE}    \"prompt\": \"ã‚ãªãŸã¯æ¥“ã€ã‚³ãƒ¼ãƒ‰ç”Ÿæˆæ‹…å½“...\"${RESET}"
echo -e "  ${BLUE}  }${RESET}"
echo -e "  ${BLUE}}${RESET}"
echo ""
echo -e "  ${YELLOW}å‘¼ã³å‡ºã—ãƒ•ãƒ­ãƒ¼:${RESET}"
echo -e "  ãƒ¦ãƒ¼ã‚¶ãƒ¼ â†’ Claude â†’ Task(kaede) â†’ æ¥“ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ"
echo ""
read -r

# å®Œäº†
echo ""
echo -e "${CYAN}â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•${RESET}"
echo -e "${CYAN}   âœ¨ A2A Live Demo å®Œäº†ï¼                                        ${RESET}"
echo -e "${CYAN}â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•${RESET}"
echo ""

# ç”Ÿæˆã•ã‚ŒãŸç”»åƒã‚’ç¢ºèª
echo -e "  ${YELLOW}ğŸ“¸ ç”Ÿæˆã•ã‚ŒãŸã‚¹ãƒ©ã‚¤ãƒ‰ç”»åƒ:${RESET}"
if [[ -d "$SLIDES_DIR" ]]; then
    ls -la "$SLIDES_DIR"/*.png 2>/dev/null | while read line; do
        echo "    $line"
    done
fi
if [[ -d "$DEMO_SLIDES_DIR" ]]; then
    ls -la "$DEMO_SLIDES_DIR"/*.png 2>/dev/null | while read line; do
        echo "    $line"
    done
fi
echo ""
echo -e "  ${GREEN}ç”»åƒã‚’è¡¨ç¤ºã™ã‚‹ã«ã¯:${RESET}"
echo -e "  open $SLIDES_DIR/"
echo ""
