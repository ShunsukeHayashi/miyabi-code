# Miyabi Coding Agents Configuration
# External coding agents that run in tmux sessions via Claude Code CLI

coding_agents:
  # ğŸš€ Autonomous Orchestration (Recommended)
  - agent: "InfinityMode"
    session_name: "miyabi-infinity"
    description: "ğŸŒŠ å®Œå…¨è‡ªå¾‹å®Ÿè¡Œãƒ¢ãƒ¼ãƒ‰ - å…¨Issueè‡ªå‹•å‡¦ç†"
    command: |
      echo "========================================="
      echo "ğŸš€ InfinityMode èµ·å‹•ä¸­..."
      echo "ğŸ“… é–‹å§‹æ™‚åˆ»: $(date '+%Y-%m-%d %H:%M:%S')"
      echo "ğŸ“‚ ä½œæ¥­ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª: {{repo_root}}"
      echo "ğŸ“ ãƒ­ã‚°ä¿å­˜å…ˆ: .ai/logs/$(date +%Y-%m-%d).md"
      echo "âš™ï¸  ä¸¦åˆ—åº¦: 3 | ã‚¹ãƒ—ãƒªãƒ³ãƒˆã‚µã‚¤ã‚º: 5"
      echo "========================================="
      echo ""
      cd "{{desktop_dir}}"
      claude --dangerously-skip-permissions "cd {{repo_root}} && RUST_LOG=info cargo run --release --bin miyabi -- infinity --concurrency 3 --sprint-size 5"
      echo ""
      echo "âœ… å®Œäº†: $(date '+%Y-%m-%d %H:%M:%S')"

  - agent: "ParallelMode"
    session_name: "miyabi-parallel"
    description: "âš¡ ä¸¦åˆ—å®Ÿè¡Œãƒ¢ãƒ¼ãƒ‰ - è¤‡æ•°IssueåŒæ™‚å‡¦ç†"
    command: |
      echo "========================================="
      echo "âš¡ ParallelMode èµ·å‹•ä¸­..."
      echo "ğŸ“… é–‹å§‹æ™‚åˆ»: $(date '+%Y-%m-%d %H:%M:%S')"
      echo "ğŸ“‚ ä½œæ¥­ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª: {{repo_root}}"
      echo "âš™ï¸  ä¸¦åˆ—åº¦: 3"
      echo "========================================="
      echo ""
      cd "{{desktop_dir}}"
      claude --dangerously-skip-permissions "cd {{repo_root}} && RUST_LOG=info cargo run --release --bin miyabi -- parallel --concurrency 3"
      echo ""
      echo "âœ… å®Œäº†: $(date '+%Y-%m-%d %H:%M:%S')"

  # ğŸ¯ Individual Agents (Manual Mode)
  - agent: "CoordinatorAgent"
    session_name: "miyabi-coordinator"
    description: "ğŸ“‹ ã‚¿ã‚¹ã‚¯çµ±æ‹¬Agent (Issue æŒ‡å®šã§èµ·å‹•)"
    command: |
      echo "========================================="
      echo "ğŸ“‹ CoordinatorAgent èµ·å‹•ä¸­..."
      echo "ğŸ“… é–‹å§‹æ™‚åˆ»: $(date '+%Y-%m-%d %H:%M:%S')"
      echo "ğŸ¯ å¯¾è±¡Issue: #{{issue_number}}"
      echo "ğŸ“‚ ä½œæ¥­ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª: {{repo_root}}"
      echo "========================================="
      echo ""
      cd "{{desktop_dir}}"
      claude --dangerously-skip-permissions "cd {{repo_root}} && RUST_LOG=info cargo run --release --bin miyabi -- agent coordinator --issue {{issue_number}}"
      echo ""
      echo "âœ… å®Œäº†: $(date '+%Y-%m-%d %H:%M:%S')"

  - agent: "CodeGenAgent"
    session_name: "miyabi-codegen"
    description: "ğŸ’» ã‚³ãƒ¼ãƒ‰ç”ŸæˆAgent (Issue æŒ‡å®šã§èµ·å‹•)"
    command: |
      echo "========================================="
      echo "ğŸ’» CodeGenAgent èµ·å‹•ä¸­..."
      echo "ğŸ“… é–‹å§‹æ™‚åˆ»: $(date '+%Y-%m-%d %H:%M:%S')"
      echo "ğŸ¯ å¯¾è±¡Issue: #{{issue_number}}"
      echo "ğŸ“‚ ä½œæ¥­ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª: {{repo_root}}"
      echo "========================================="
      echo ""
      cd "{{desktop_dir}}"
      claude --dangerously-skip-permissions "cd {{repo_root}} && RUST_LOG=info cargo run --release --bin miyabi -- agent codegen --issue {{issue_number}}"
      echo ""
      echo "âœ… å®Œäº†: $(date '+%Y-%m-%d %H:%M:%S')"

  - agent: "ReviewAgent"
    session_name: "miyabi-review"
    description: "ğŸ” å“è³ªåˆ¤å®šAgent (Issue æŒ‡å®šã§èµ·å‹•)"
    command: |
      echo "========================================="
      echo "ğŸ” ReviewAgent èµ·å‹•ä¸­..."
      echo "ğŸ“… é–‹å§‹æ™‚åˆ»: $(date '+%Y-%m-%d %H:%M:%S')"
      echo "ğŸ¯ å¯¾è±¡Issue: #{{issue_number}}"
      echo "ğŸ“‚ ä½œæ¥­ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª: {{repo_root}}"
      echo "========================================="
      echo ""
      cd "{{desktop_dir}}"
      claude --dangerously-skip-permissions "cd {{repo_root}} && RUST_LOG=info cargo run --release --bin miyabi -- agent review --issue {{issue_number}}"
      echo ""
      echo "âœ… å®Œäº†: $(date '+%Y-%m-%d %H:%M:%S')"

  # ğŸ“Š Monitoring & Management
  - agent: "StatusMonitor"
    session_name: "miyabi-status"
    description: "ğŸ“Š ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç›£è¦– (ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°)"
    command: |
      echo "========================================="
      echo "ğŸ“Š StatusMonitor èµ·å‹•ä¸­..."
      echo "ğŸ“… é–‹å§‹æ™‚åˆ»: $(date '+%Y-%m-%d %H:%M:%S')"
      echo "ğŸ“‚ ä½œæ¥­ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª: {{repo_root}}"
      echo "ğŸ”„ ã‚¦ã‚©ãƒƒãƒãƒ¢ãƒ¼ãƒ‰: æœ‰åŠ¹"
      echo "========================================="
      echo ""
      cd "{{desktop_dir}}"
      claude --dangerously-skip-permissions "cd {{repo_root}} && RUST_LOG=info cargo run --release --bin miyabi -- status --watch"
      echo ""
      echo "âœ… çµ‚äº†: $(date '+%Y-%m-%d %H:%M:%S')"
