{
 "Resources": {
  "MiyabiVPC1A52779A": {
   "Type": "AWS::EC2::VPC",
   "Properties": {
    "CidrBlock": "10.0.0.0/16",
    "EnableDnsHostnames": true,
    "EnableDnsSupport": true,
    "InstanceTenancy": "default",
    "Tags": [
     {
      "Key": "Name",
      "Value": "miyabi-vpc"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "MiyabiWebUIStack/MiyabiVPC/Resource"
   }
  },
  "MiyabiVPCPublicSubnet1Subnet496769B4": {
   "Type": "AWS::EC2::Subnet",
   "Properties": {
    "AvailabilityZone": "us-west-2a",
    "CidrBlock": "10.0.0.0/24",
    "MapPublicIpOnLaunch": true,
    "Tags": [
     {
      "Key": "aws-cdk:subnet-name",
      "Value": "Public"
     },
     {
      "Key": "aws-cdk:subnet-type",
      "Value": "Public"
     },
     {
      "Key": "Name",
      "Value": "MiyabiWebUIStack/MiyabiVPC/PublicSubnet1"
     }
    ],
    "VpcId": {
     "Ref": "MiyabiVPC1A52779A"
    }
   },
   "Metadata": {
    "aws:cdk:path": "MiyabiWebUIStack/MiyabiVPC/PublicSubnet1/Subnet"
   }
  },
  "MiyabiVPCPublicSubnet1RouteTable077CE192": {
   "Type": "AWS::EC2::RouteTable",
   "Properties": {
    "Tags": [
     {
      "Key": "Name",
      "Value": "MiyabiWebUIStack/MiyabiVPC/PublicSubnet1"
     }
    ],
    "VpcId": {
     "Ref": "MiyabiVPC1A52779A"
    }
   },
   "Metadata": {
    "aws:cdk:path": "MiyabiWebUIStack/MiyabiVPC/PublicSubnet1/RouteTable"
   }
  },
  "MiyabiVPCPublicSubnet1RouteTableAssociation7768FD90": {
   "Type": "AWS::EC2::SubnetRouteTableAssociation",
   "Properties": {
    "RouteTableId": {
     "Ref": "MiyabiVPCPublicSubnet1RouteTable077CE192"
    },
    "SubnetId": {
     "Ref": "MiyabiVPCPublicSubnet1Subnet496769B4"
    }
   },
   "Metadata": {
    "aws:cdk:path": "MiyabiWebUIStack/MiyabiVPC/PublicSubnet1/RouteTableAssociation"
   }
  },
  "MiyabiVPCPublicSubnet1DefaultRoute6EA5446C": {
   "Type": "AWS::EC2::Route",
   "Properties": {
    "DestinationCidrBlock": "0.0.0.0/0",
    "GatewayId": {
     "Ref": "MiyabiVPCIGW292A397E"
    },
    "RouteTableId": {
     "Ref": "MiyabiVPCPublicSubnet1RouteTable077CE192"
    }
   },
   "DependsOn": [
    "MiyabiVPCVPCGWC90B1D83"
   ],
   "Metadata": {
    "aws:cdk:path": "MiyabiWebUIStack/MiyabiVPC/PublicSubnet1/DefaultRoute"
   }
  },
  "MiyabiVPCPublicSubnet1EIPEAC2F3A1": {
   "Type": "AWS::EC2::EIP",
   "Properties": {
    "Domain": "vpc",
    "Tags": [
     {
      "Key": "Name",
      "Value": "MiyabiWebUIStack/MiyabiVPC/PublicSubnet1"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "MiyabiWebUIStack/MiyabiVPC/PublicSubnet1/EIP"
   }
  },
  "MiyabiVPCPublicSubnet1NATGateway71CED1EC": {
   "Type": "AWS::EC2::NatGateway",
   "Properties": {
    "AllocationId": {
     "Fn::GetAtt": [
      "MiyabiVPCPublicSubnet1EIPEAC2F3A1",
      "AllocationId"
     ]
    },
    "SubnetId": {
     "Ref": "MiyabiVPCPublicSubnet1Subnet496769B4"
    },
    "Tags": [
     {
      "Key": "Name",
      "Value": "MiyabiWebUIStack/MiyabiVPC/PublicSubnet1"
     }
    ]
   },
   "DependsOn": [
    "MiyabiVPCPublicSubnet1DefaultRoute6EA5446C",
    "MiyabiVPCPublicSubnet1RouteTableAssociation7768FD90"
   ],
   "Metadata": {
    "aws:cdk:path": "MiyabiWebUIStack/MiyabiVPC/PublicSubnet1/NATGateway"
   }
  },
  "MiyabiVPCPublicSubnet2SubnetB91E41C3": {
   "Type": "AWS::EC2::Subnet",
   "Properties": {
    "AvailabilityZone": "us-west-2b",
    "CidrBlock": "10.0.1.0/24",
    "MapPublicIpOnLaunch": true,
    "Tags": [
     {
      "Key": "aws-cdk:subnet-name",
      "Value": "Public"
     },
     {
      "Key": "aws-cdk:subnet-type",
      "Value": "Public"
     },
     {
      "Key": "Name",
      "Value": "MiyabiWebUIStack/MiyabiVPC/PublicSubnet2"
     }
    ],
    "VpcId": {
     "Ref": "MiyabiVPC1A52779A"
    }
   },
   "Metadata": {
    "aws:cdk:path": "MiyabiWebUIStack/MiyabiVPC/PublicSubnet2/Subnet"
   }
  },
  "MiyabiVPCPublicSubnet2RouteTable914501F5": {
   "Type": "AWS::EC2::RouteTable",
   "Properties": {
    "Tags": [
     {
      "Key": "Name",
      "Value": "MiyabiWebUIStack/MiyabiVPC/PublicSubnet2"
     }
    ],
    "VpcId": {
     "Ref": "MiyabiVPC1A52779A"
    }
   },
   "Metadata": {
    "aws:cdk:path": "MiyabiWebUIStack/MiyabiVPC/PublicSubnet2/RouteTable"
   }
  },
  "MiyabiVPCPublicSubnet2RouteTableAssociationBD9324D2": {
   "Type": "AWS::EC2::SubnetRouteTableAssociation",
   "Properties": {
    "RouteTableId": {
     "Ref": "MiyabiVPCPublicSubnet2RouteTable914501F5"
    },
    "SubnetId": {
     "Ref": "MiyabiVPCPublicSubnet2SubnetB91E41C3"
    }
   },
   "Metadata": {
    "aws:cdk:path": "MiyabiWebUIStack/MiyabiVPC/PublicSubnet2/RouteTableAssociation"
   }
  },
  "MiyabiVPCPublicSubnet2DefaultRoute3BD026DE": {
   "Type": "AWS::EC2::Route",
   "Properties": {
    "DestinationCidrBlock": "0.0.0.0/0",
    "GatewayId": {
     "Ref": "MiyabiVPCIGW292A397E"
    },
    "RouteTableId": {
     "Ref": "MiyabiVPCPublicSubnet2RouteTable914501F5"
    }
   },
   "DependsOn": [
    "MiyabiVPCVPCGWC90B1D83"
   ],
   "Metadata": {
    "aws:cdk:path": "MiyabiWebUIStack/MiyabiVPC/PublicSubnet2/DefaultRoute"
   }
  },
  "MiyabiVPCPrivateSubnet1SubnetC8EF81C9": {
   "Type": "AWS::EC2::Subnet",
   "Properties": {
    "AvailabilityZone": "us-west-2a",
    "CidrBlock": "10.0.2.0/24",
    "MapPublicIpOnLaunch": false,
    "Tags": [
     {
      "Key": "aws-cdk:subnet-name",
      "Value": "Private"
     },
     {
      "Key": "aws-cdk:subnet-type",
      "Value": "Private"
     },
     {
      "Key": "Name",
      "Value": "MiyabiWebUIStack/MiyabiVPC/PrivateSubnet1"
     }
    ],
    "VpcId": {
     "Ref": "MiyabiVPC1A52779A"
    }
   },
   "Metadata": {
    "aws:cdk:path": "MiyabiWebUIStack/MiyabiVPC/PrivateSubnet1/Subnet"
   }
  },
  "MiyabiVPCPrivateSubnet1RouteTable7778700F": {
   "Type": "AWS::EC2::RouteTable",
   "Properties": {
    "Tags": [
     {
      "Key": "Name",
      "Value": "MiyabiWebUIStack/MiyabiVPC/PrivateSubnet1"
     }
    ],
    "VpcId": {
     "Ref": "MiyabiVPC1A52779A"
    }
   },
   "Metadata": {
    "aws:cdk:path": "MiyabiWebUIStack/MiyabiVPC/PrivateSubnet1/RouteTable"
   }
  },
  "MiyabiVPCPrivateSubnet1RouteTableAssociationA83D72CF": {
   "Type": "AWS::EC2::SubnetRouteTableAssociation",
   "Properties": {
    "RouteTableId": {
     "Ref": "MiyabiVPCPrivateSubnet1RouteTable7778700F"
    },
    "SubnetId": {
     "Ref": "MiyabiVPCPrivateSubnet1SubnetC8EF81C9"
    }
   },
   "Metadata": {
    "aws:cdk:path": "MiyabiWebUIStack/MiyabiVPC/PrivateSubnet1/RouteTableAssociation"
   }
  },
  "MiyabiVPCPrivateSubnet1DefaultRoute701244B9": {
   "Type": "AWS::EC2::Route",
   "Properties": {
    "DestinationCidrBlock": "0.0.0.0/0",
    "NatGatewayId": {
     "Ref": "MiyabiVPCPublicSubnet1NATGateway71CED1EC"
    },
    "RouteTableId": {
     "Ref": "MiyabiVPCPrivateSubnet1RouteTable7778700F"
    }
   },
   "Metadata": {
    "aws:cdk:path": "MiyabiWebUIStack/MiyabiVPC/PrivateSubnet1/DefaultRoute"
   }
  },
  "MiyabiVPCPrivateSubnet2SubnetA7AFD656": {
   "Type": "AWS::EC2::Subnet",
   "Properties": {
    "AvailabilityZone": "us-west-2b",
    "CidrBlock": "10.0.3.0/24",
    "MapPublicIpOnLaunch": false,
    "Tags": [
     {
      "Key": "aws-cdk:subnet-name",
      "Value": "Private"
     },
     {
      "Key": "aws-cdk:subnet-type",
      "Value": "Private"
     },
     {
      "Key": "Name",
      "Value": "MiyabiWebUIStack/MiyabiVPC/PrivateSubnet2"
     }
    ],
    "VpcId": {
     "Ref": "MiyabiVPC1A52779A"
    }
   },
   "Metadata": {
    "aws:cdk:path": "MiyabiWebUIStack/MiyabiVPC/PrivateSubnet2/Subnet"
   }
  },
  "MiyabiVPCPrivateSubnet2RouteTable991FD2EB": {
   "Type": "AWS::EC2::RouteTable",
   "Properties": {
    "Tags": [
     {
      "Key": "Name",
      "Value": "MiyabiWebUIStack/MiyabiVPC/PrivateSubnet2"
     }
    ],
    "VpcId": {
     "Ref": "MiyabiVPC1A52779A"
    }
   },
   "Metadata": {
    "aws:cdk:path": "MiyabiWebUIStack/MiyabiVPC/PrivateSubnet2/RouteTable"
   }
  },
  "MiyabiVPCPrivateSubnet2RouteTableAssociation056485C7": {
   "Type": "AWS::EC2::SubnetRouteTableAssociation",
   "Properties": {
    "RouteTableId": {
     "Ref": "MiyabiVPCPrivateSubnet2RouteTable991FD2EB"
    },
    "SubnetId": {
     "Ref": "MiyabiVPCPrivateSubnet2SubnetA7AFD656"
    }
   },
   "Metadata": {
    "aws:cdk:path": "MiyabiWebUIStack/MiyabiVPC/PrivateSubnet2/RouteTableAssociation"
   }
  },
  "MiyabiVPCPrivateSubnet2DefaultRoute8946696F": {
   "Type": "AWS::EC2::Route",
   "Properties": {
    "DestinationCidrBlock": "0.0.0.0/0",
    "NatGatewayId": {
     "Ref": "MiyabiVPCPublicSubnet1NATGateway71CED1EC"
    },
    "RouteTableId": {
     "Ref": "MiyabiVPCPrivateSubnet2RouteTable991FD2EB"
    }
   },
   "Metadata": {
    "aws:cdk:path": "MiyabiWebUIStack/MiyabiVPC/PrivateSubnet2/DefaultRoute"
   }
  },
  "MiyabiVPCIGW292A397E": {
   "Type": "AWS::EC2::InternetGateway",
   "Properties": {
    "Tags": [
     {
      "Key": "Name",
      "Value": "miyabi-vpc"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "MiyabiWebUIStack/MiyabiVPC/IGW"
   }
  },
  "MiyabiVPCVPCGWC90B1D83": {
   "Type": "AWS::EC2::VPCGatewayAttachment",
   "Properties": {
    "InternetGatewayId": {
     "Ref": "MiyabiVPCIGW292A397E"
    },
    "VpcId": {
     "Ref": "MiyabiVPC1A52779A"
    }
   },
   "Metadata": {
    "aws:cdk:path": "MiyabiWebUIStack/MiyabiVPC/VPCGW"
   }
  },
  "RedisSecurityGroupB05951F6": {
   "Type": "AWS::EC2::SecurityGroup",
   "Properties": {
    "GroupDescription": "Security group for ElastiCache Redis cluster",
    "SecurityGroupEgress": [
     {
      "CidrIp": "0.0.0.0/0",
      "Description": "Allow all outbound traffic by default",
      "IpProtocol": "-1"
     }
    ],
    "VpcId": {
     "Ref": "MiyabiVPC1A52779A"
    }
   },
   "Metadata": {
    "aws:cdk:path": "MiyabiWebUIStack/RedisSecurityGroup/Resource"
   }
  },
  "RedisSecurityGroupfromMiyabiWebUIStackLambdaSecurityGroup8A60C4246379B3100B44": {
   "Type": "AWS::EC2::SecurityGroupIngress",
   "Properties": {
    "Description": "Allow Lambda to access Redis",
    "FromPort": 6379,
    "GroupId": {
     "Fn::GetAtt": [
      "RedisSecurityGroupB05951F6",
      "GroupId"
     ]
    },
    "IpProtocol": "tcp",
    "SourceSecurityGroupId": {
     "Fn::GetAtt": [
      "LambdaSecurityGroup0BD9FC99",
      "GroupId"
     ]
    },
    "ToPort": 6379
   },
   "Metadata": {
    "aws:cdk:path": "MiyabiWebUIStack/RedisSecurityGroup/from MiyabiWebUIStackLambdaSecurityGroup8A60C424:6379"
   }
  },
  "LambdaSecurityGroup0BD9FC99": {
   "Type": "AWS::EC2::SecurityGroup",
   "Properties": {
    "GroupDescription": "Security group for Lambda functions",
    "SecurityGroupEgress": [
     {
      "CidrIp": "0.0.0.0/0",
      "Description": "Allow all outbound traffic by default",
      "IpProtocol": "-1"
     }
    ],
    "VpcId": {
     "Ref": "MiyabiVPC1A52779A"
    }
   },
   "Metadata": {
    "aws:cdk:path": "MiyabiWebUIStack/LambdaSecurityGroup/Resource"
   }
  },
  "RedisSubnetGroup": {
   "Type": "AWS::ElastiCache::SubnetGroup",
   "Properties": {
    "CacheSubnetGroupName": "miyabi-redis-subnet-group",
    "Description": "Subnet group for ElastiCache Redis",
    "SubnetIds": [
     {
      "Ref": "MiyabiVPCPrivateSubnet1SubnetC8EF81C9"
     },
     {
      "Ref": "MiyabiVPCPrivateSubnet2SubnetA7AFD656"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "MiyabiWebUIStack/RedisSubnetGroup"
   }
  },
  "RedisCluster": {
   "Type": "AWS::ElastiCache::CacheCluster",
   "Properties": {
    "AutoMinorVersionUpgrade": true,
    "CacheNodeType": "cache.t4g.micro",
    "CacheSubnetGroupName": "miyabi-redis-subnet-group",
    "ClusterName": "miyabi-redis",
    "Engine": "redis",
    "EngineVersion": "7.0",
    "NumCacheNodes": 1,
    "Port": 6379,
    "VpcSecurityGroupIds": [
     {
      "Fn::GetAtt": [
       "RedisSecurityGroupB05951F6",
       "GroupId"
      ]
     }
    ]
   },
   "DependsOn": [
    "RedisSubnetGroup"
   ],
   "Metadata": {
    "aws:cdk:path": "MiyabiWebUIStack/RedisCluster"
   }
  },
  "MiyabiWebUIBucketD1785603": {
   "Type": "AWS::S3::Bucket",
   "Properties": {
    "BucketEncryption": {
     "ServerSideEncryptionConfiguration": [
      {
       "ServerSideEncryptionByDefault": {
        "SSEAlgorithm": "AES256"
       }
      }
     ]
    },
    "BucketName": "miyabi-webui-112530848482",
    "PublicAccessBlockConfiguration": {
     "BlockPublicAcls": true,
     "BlockPublicPolicy": true,
     "IgnorePublicAcls": true,
     "RestrictPublicBuckets": true
    },
    "Tags": [
     {
      "Key": "aws-cdk:cr-owned:747ee917",
      "Value": "true"
     }
    ]
   },
   "UpdateReplacePolicy": "Retain",
   "DeletionPolicy": "Retain",
   "Metadata": {
    "aws:cdk:path": "MiyabiWebUIStack/MiyabiWebUIBucket/Resource"
   }
  },
  "MiyabiWebUIBucketPolicy270B2A1E": {
   "Type": "AWS::S3::BucketPolicy",
   "Properties": {
    "Bucket": {
     "Ref": "MiyabiWebUIBucketD1785603"
    },
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "s3:GetObject*",
        "s3:GetBucket*",
        "s3:List*"
       ],
       "Effect": "Allow",
       "Principal": {
        "CanonicalUser": {
         "Fn::GetAtt": [
          "MiyabiWebUIOAIA2F1853B",
          "S3CanonicalUserId"
         ]
        }
       },
       "Resource": [
        {
         "Fn::GetAtt": [
          "MiyabiWebUIBucketD1785603",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "MiyabiWebUIBucketD1785603",
             "Arn"
            ]
           },
           "/*"
          ]
         ]
        }
       ]
      },
      {
       "Action": "s3:GetObject",
       "Effect": "Allow",
       "Principal": {
        "CanonicalUser": {
         "Fn::GetAtt": [
          "MiyabiWebUIOAIA2F1853B",
          "S3CanonicalUserId"
         ]
        }
       },
       "Resource": {
        "Fn::Join": [
         "",
         [
          {
           "Fn::GetAtt": [
            "MiyabiWebUIBucketD1785603",
            "Arn"
           ]
          },
          "/*"
         ]
        ]
       }
      }
     ],
     "Version": "2012-10-17"
    }
   },
   "Metadata": {
    "aws:cdk:path": "MiyabiWebUIStack/MiyabiWebUIBucket/Policy/Resource"
   }
  },
  "MiyabiWebUIOAIA2F1853B": {
   "Type": "AWS::CloudFront::CloudFrontOriginAccessIdentity",
   "Properties": {
    "CloudFrontOriginAccessIdentityConfig": {
     "Comment": "Miyabi WebUI CloudFront OAI"
    }
   },
   "Metadata": {
    "aws:cdk:path": "MiyabiWebUIStack/MiyabiWebUIOAI/Resource"
   }
  },
  "MiyabiWebUIDistribution4BAFD3F5": {
   "Type": "AWS::CloudFront::Distribution",
   "Properties": {
    "DistributionConfig": {
     "Comment": "Miyabi WebUI CDN Distribution",
     "CustomErrorResponses": [
      {
       "ErrorCachingMinTTL": 300,
       "ErrorCode": 404,
       "ResponseCode": 200,
       "ResponsePagePath": "/index.html"
      }
     ],
     "DefaultCacheBehavior": {
      "CachePolicyId": "658327ea-f89d-4fab-a63d-7e88639e58f6",
      "Compress": true,
      "TargetOriginId": "MiyabiWebUIStackMiyabiWebUIDistributionOrigin18582E4E4",
      "ViewerProtocolPolicy": "redirect-to-https"
     },
     "DefaultRootObject": "index.html",
     "Enabled": true,
     "HttpVersion": "http2",
     "IPV6Enabled": true,
     "Origins": [
      {
       "DomainName": {
        "Fn::GetAtt": [
         "MiyabiWebUIBucketD1785603",
         "RegionalDomainName"
        ]
       },
       "Id": "MiyabiWebUIStackMiyabiWebUIDistributionOrigin18582E4E4",
       "S3OriginConfig": {
        "OriginAccessIdentity": {
         "Fn::Join": [
          "",
          [
           "origin-access-identity/cloudfront/",
           {
            "Ref": "MiyabiWebUIOAIA2F1853B"
           }
          ]
         ]
        }
       }
      }
     ],
     "PriceClass": "PriceClass_All"
    }
   },
   "Metadata": {
    "aws:cdk:path": "MiyabiWebUIStack/MiyabiWebUIDistribution/Resource"
   }
  },
  "MiyabiTaskStorageBucketA4C70F1E": {
   "Type": "AWS::S3::Bucket",
   "Properties": {
    "BucketEncryption": {
     "ServerSideEncryptionConfiguration": [
      {
       "ServerSideEncryptionByDefault": {
        "SSEAlgorithm": "AES256"
       }
      }
     ]
    },
    "BucketName": "miyabi-tasks-112530848482",
    "LifecycleConfiguration": {
     "Rules": [
      {
       "ExpirationInDays": 90,
       "Id": "DeleteOldCompletedTasks",
       "Prefix": "tasks/completed/",
       "Status": "Enabled"
      }
     ]
    },
    "VersioningConfiguration": {
     "Status": "Enabled"
    }
   },
   "UpdateReplacePolicy": "Retain",
   "DeletionPolicy": "Retain",
   "Metadata": {
    "aws:cdk:path": "MiyabiWebUIStack/MiyabiTaskStorageBucket/Resource"
   }
  },
  "MiyabiTasksTable6E016532": {
   "Type": "AWS::DynamoDB::Table",
   "Properties": {
    "AttributeDefinitions": [
     {
      "AttributeName": "task_id",
      "AttributeType": "S"
     },
     {
      "AttributeName": "timestamp",
      "AttributeType": "N"
     },
     {
      "AttributeName": "project_id",
      "AttributeType": "S"
     },
     {
      "AttributeName": "updated_at",
      "AttributeType": "S"
     },
     {
      "AttributeName": "status",
      "AttributeType": "S"
     },
     {
      "AttributeName": "task_type",
      "AttributeType": "S"
     },
     {
      "AttributeName": "created_at",
      "AttributeType": "S"
     }
    ],
    "GlobalSecondaryIndexes": [
     {
      "IndexName": "ProjectIndex",
      "KeySchema": [
       {
        "AttributeName": "project_id",
        "KeyType": "HASH"
       },
       {
        "AttributeName": "updated_at",
        "KeyType": "RANGE"
       }
      ],
      "Projection": {
       "ProjectionType": "ALL"
      },
      "ProvisionedThroughput": {
       "ReadCapacityUnits": 5,
       "WriteCapacityUnits": 5
      }
     },
     {
      "IndexName": "StatusIndex",
      "KeySchema": [
       {
        "AttributeName": "status",
        "KeyType": "HASH"
       },
       {
        "AttributeName": "updated_at",
        "KeyType": "RANGE"
       }
      ],
      "Projection": {
       "ProjectionType": "ALL"
      },
      "ProvisionedThroughput": {
       "ReadCapacityUnits": 5,
       "WriteCapacityUnits": 5
      }
     },
     {
      "IndexName": "TypeIndex",
      "KeySchema": [
       {
        "AttributeName": "task_type",
        "KeyType": "HASH"
       },
       {
        "AttributeName": "created_at",
        "KeyType": "RANGE"
       }
      ],
      "Projection": {
       "ProjectionType": "ALL"
      },
      "ProvisionedThroughput": {
       "ReadCapacityUnits": 5,
       "WriteCapacityUnits": 5
      }
     }
    ],
    "KeySchema": [
     {
      "AttributeName": "task_id",
      "KeyType": "HASH"
     },
     {
      "AttributeName": "timestamp",
      "KeyType": "RANGE"
     }
    ],
    "PointInTimeRecoverySpecification": {
     "PointInTimeRecoveryEnabled": true
    },
    "ProvisionedThroughput": {
     "ReadCapacityUnits": 5,
     "WriteCapacityUnits": 5
    },
    "TableName": "miyabi-tasks",
    "TimeToLiveSpecification": {
     "AttributeName": "ttl",
     "Enabled": true
    }
   },
   "UpdateReplacePolicy": "Retain",
   "DeletionPolicy": "Retain",
   "Metadata": {
    "aws:cdk:path": "MiyabiWebUIStack/MiyabiTasksTable/Resource"
   }
  },
  "MiyabiProjectsTable408C2FD7": {
   "Type": "AWS::DynamoDB::Table",
   "Properties": {
    "AttributeDefinitions": [
     {
      "AttributeName": "project_id",
      "AttributeType": "S"
     }
    ],
    "KeySchema": [
     {
      "AttributeName": "project_id",
      "KeyType": "HASH"
     }
    ],
    "PointInTimeRecoverySpecification": {
     "PointInTimeRecoveryEnabled": true
    },
    "ProvisionedThroughput": {
     "ReadCapacityUnits": 5,
     "WriteCapacityUnits": 5
    },
    "TableName": "miyabi-projects"
   },
   "UpdateReplacePolicy": "Retain",
   "DeletionPolicy": "Retain",
   "Metadata": {
    "aws:cdk:path": "MiyabiWebUIStack/MiyabiProjectsTable/Resource"
   }
  },
  "CDKDeployLogGroupC9382094": {
   "Type": "AWS::Logs::LogGroup",
   "Properties": {
    "LogGroupName": "/miyabi/cdk-deploy",
    "RetentionInDays": 30
   },
   "UpdateReplacePolicy": "Retain",
   "DeletionPolicy": "Retain",
   "Metadata": {
    "aws:cdk:path": "MiyabiWebUIStack/CDKDeployLogGroup/Resource"
   }
  },
  "AgentsLogGroup0DE3C993": {
   "Type": "AWS::Logs::LogGroup",
   "Properties": {
    "LogGroupName": "/miyabi/agents",
    "RetentionInDays": 30
   },
   "UpdateReplacePolicy": "Retain",
   "DeletionPolicy": "Retain",
   "Metadata": {
    "aws:cdk:path": "MiyabiWebUIStack/AgentsLogGroup/Resource"
   }
  },
  "SystemLogGroupA7250254": {
   "Type": "AWS::Logs::LogGroup",
   "Properties": {
    "LogGroupName": "/miyabi/system",
    "RetentionInDays": 30
   },
   "UpdateReplacePolicy": "Retain",
   "DeletionPolicy": "Retain",
   "Metadata": {
    "aws:cdk:path": "MiyabiWebUIStack/SystemLogGroup/Resource"
   }
  },
  "ProgressCollectorLambdaServiceRole7A3923ED": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     },
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"
       ]
      ]
     }
    ]
   },
   "DependsOn": [
    "MiyabiVPCPrivateSubnet1DefaultRoute701244B9",
    "MiyabiVPCPrivateSubnet1RouteTableAssociationA83D72CF",
    "MiyabiVPCPrivateSubnet2DefaultRoute8946696F",
    "MiyabiVPCPrivateSubnet2RouteTableAssociation056485C7"
   ],
   "Metadata": {
    "aws:cdk:path": "MiyabiWebUIStack/ProgressCollectorLambda/ServiceRole/Resource"
   }
  },
  "ProgressCollectorLambdaServiceRoleDefaultPolicy13912C04": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "dynamodb:BatchGetItem",
        "dynamodb:GetRecords",
        "dynamodb:GetShardIterator",
        "dynamodb:Query",
        "dynamodb:GetItem",
        "dynamodb:Scan",
        "dynamodb:ConditionCheckItem",
        "dynamodb:BatchWriteItem",
        "dynamodb:PutItem",
        "dynamodb:UpdateItem",
        "dynamodb:DeleteItem",
        "dynamodb:DescribeTable"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "MiyabiTasksTable6E016532",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "MiyabiTasksTable6E016532",
             "Arn"
            ]
           },
           "/index/*"
          ]
         ]
        }
       ]
      },
      {
       "Action": [
        "dynamodb:BatchGetItem",
        "dynamodb:GetRecords",
        "dynamodb:GetShardIterator",
        "dynamodb:Query",
        "dynamodb:GetItem",
        "dynamodb:Scan",
        "dynamodb:ConditionCheckItem",
        "dynamodb:BatchWriteItem",
        "dynamodb:PutItem",
        "dynamodb:UpdateItem",
        "dynamodb:DeleteItem",
        "dynamodb:DescribeTable"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "MiyabiProjectsTable408C2FD7",
          "Arn"
         ]
        },
        {
         "Ref": "AWS::NoValue"
        }
       ]
      },
      {
       "Action": [
        "logs:StartQuery",
        "logs:GetQueryResults",
        "logs:GetLogEvents",
        "logs:FilterLogEvents"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "CDKDeployLogGroupC9382094",
          "Arn"
         ]
        },
        {
         "Fn::GetAtt": [
          "AgentsLogGroup0DE3C993",
          "Arn"
         ]
        },
        {
         "Fn::GetAtt": [
          "SystemLogGroupA7250254",
          "Arn"
         ]
        }
       ]
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "ProgressCollectorLambdaServiceRoleDefaultPolicy13912C04",
    "Roles": [
     {
      "Ref": "ProgressCollectorLambdaServiceRole7A3923ED"
     }
    ]
   },
   "DependsOn": [
    "MiyabiVPCPrivateSubnet1DefaultRoute701244B9",
    "MiyabiVPCPrivateSubnet1RouteTableAssociationA83D72CF",
    "MiyabiVPCPrivateSubnet2DefaultRoute8946696F",
    "MiyabiVPCPrivateSubnet2RouteTableAssociation056485C7"
   ],
   "Metadata": {
    "aws:cdk:path": "MiyabiWebUIStack/ProgressCollectorLambda/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "ProgressCollectorLambda8433BBBE": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Architectures": [
     "arm64"
    ],
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-112530848482-us-west-2",
     "S3Key": "5e18cf6741a5c280feacd88186d8ee0c5cddfde34c72c8b2cf400e9a83b24d76.zip"
    },
    "Environment": {
     "Variables": {
      "TASKS_TABLE_NAME": {
       "Ref": "MiyabiTasksTable6E016532"
      },
      "PROJECTS_TABLE_NAME": {
       "Ref": "MiyabiProjectsTable408C2FD7"
      },
      "CDK_LOG_GROUP": {
       "Ref": "CDKDeployLogGroupC9382094"
      },
      "AGENTS_LOG_GROUP": {
       "Ref": "AgentsLogGroup0DE3C993"
      },
      "REDIS_ENDPOINT": {
       "Fn::GetAtt": [
        "RedisCluster",
        "RedisEndpoint.Address"
       ]
      },
      "REDIS_PORT": {
       "Fn::GetAtt": [
        "RedisCluster",
        "RedisEndpoint.Port"
       ]
      },
      "RUST_LOG": "info"
     }
    },
    "FunctionName": "miyabi-progress-collector",
    "Handler": "bootstrap",
    "MemorySize": 512,
    "Role": {
     "Fn::GetAtt": [
      "ProgressCollectorLambdaServiceRole7A3923ED",
      "Arn"
     ]
    },
    "Runtime": "provided.al2023",
    "Timeout": 60,
    "VpcConfig": {
     "SecurityGroupIds": [
      {
       "Fn::GetAtt": [
        "LambdaSecurityGroup0BD9FC99",
        "GroupId"
       ]
      }
     ],
     "SubnetIds": [
      {
       "Ref": "MiyabiVPCPrivateSubnet1SubnetC8EF81C9"
      },
      {
       "Ref": "MiyabiVPCPrivateSubnet2SubnetA7AFD656"
      }
     ]
    }
   },
   "DependsOn": [
    "MiyabiVPCPrivateSubnet1DefaultRoute701244B9",
    "MiyabiVPCPrivateSubnet1RouteTableAssociationA83D72CF",
    "MiyabiVPCPrivateSubnet2DefaultRoute8946696F",
    "MiyabiVPCPrivateSubnet2RouteTableAssociation056485C7",
    "ProgressCollectorLambdaServiceRoleDefaultPolicy13912C04",
    "ProgressCollectorLambdaServiceRole7A3923ED"
   ],
   "Metadata": {
    "aws:cdk:path": "MiyabiWebUIStack/ProgressCollectorLambda/Resource",
    "aws:asset:path": "asset.5e18cf6741a5c280feacd88186d8ee0c5cddfde34c72c8b2cf400e9a83b24d76",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "ProgressCollectorLambdaLogRetentionB797901E": {
   "Type": "Custom::LogRetention",
   "Properties": {
    "ServiceToken": {
     "Fn::GetAtt": [
      "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A",
      "Arn"
     ]
    },
    "LogGroupName": {
     "Fn::Join": [
      "",
      [
       "/aws/lambda/",
       {
        "Ref": "ProgressCollectorLambda8433BBBE"
       }
      ]
     ]
    },
    "RetentionInDays": 7
   },
   "DependsOn": [
    "MiyabiVPCPrivateSubnet1DefaultRoute701244B9",
    "MiyabiVPCPrivateSubnet1RouteTableAssociationA83D72CF",
    "MiyabiVPCPrivateSubnet2DefaultRoute8946696F",
    "MiyabiVPCPrivateSubnet2RouteTableAssociation056485C7"
   ],
   "Metadata": {
    "aws:cdk:path": "MiyabiWebUIStack/ProgressCollectorLambda/LogRetention/Resource"
   }
  },
  "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRole9741ECFB": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "MiyabiWebUIStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/Resource"
   }
  },
  "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRoleDefaultPolicyADDA7DEB": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "logs:PutRetentionPolicy",
        "logs:DeleteRetentionPolicy"
       ],
       "Effect": "Allow",
       "Resource": "*"
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRoleDefaultPolicyADDA7DEB",
    "Roles": [
     {
      "Ref": "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRole9741ECFB"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "MiyabiWebUIStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Handler": "index.handler",
    "Runtime": "nodejs22.x",
    "Timeout": 900,
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-112530848482-us-west-2",
     "S3Key": "2819175352ad1ce0dae768e83fc328fb70fb5f10b4a8ff0ccbcb791f02b0716d.zip"
    },
    "Role": {
     "Fn::GetAtt": [
      "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRole9741ECFB",
      "Arn"
     ]
    }
   },
   "DependsOn": [
    "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRoleDefaultPolicyADDA7DEB",
    "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRole9741ECFB"
   ],
   "Metadata": {
    "aws:cdk:path": "MiyabiWebUIStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Resource",
    "aws:asset:path": "asset.2819175352ad1ce0dae768e83fc328fb70fb5f10b4a8ff0ccbcb791f02b0716d",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "MiyabiAPILambdaServiceRole0F0A568B": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     },
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"
       ]
      ]
     }
    ]
   },
   "DependsOn": [
    "MiyabiVPCPrivateSubnet1DefaultRoute701244B9",
    "MiyabiVPCPrivateSubnet1RouteTableAssociationA83D72CF",
    "MiyabiVPCPrivateSubnet2DefaultRoute8946696F",
    "MiyabiVPCPrivateSubnet2RouteTableAssociation056485C7"
   ],
   "Metadata": {
    "aws:cdk:path": "MiyabiWebUIStack/MiyabiAPILambda/ServiceRole/Resource"
   }
  },
  "MiyabiAPILambdaServiceRoleDefaultPolicy0FC31D36": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "dynamodb:BatchGetItem",
        "dynamodb:GetRecords",
        "dynamodb:GetShardIterator",
        "dynamodb:Query",
        "dynamodb:GetItem",
        "dynamodb:Scan",
        "dynamodb:ConditionCheckItem",
        "dynamodb:DescribeTable"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "MiyabiTasksTable6E016532",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "MiyabiTasksTable6E016532",
             "Arn"
            ]
           },
           "/index/*"
          ]
         ]
        }
       ]
      },
      {
       "Action": [
        "dynamodb:BatchGetItem",
        "dynamodb:GetRecords",
        "dynamodb:GetShardIterator",
        "dynamodb:Query",
        "dynamodb:GetItem",
        "dynamodb:Scan",
        "dynamodb:ConditionCheckItem",
        "dynamodb:DescribeTable"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "MiyabiProjectsTable408C2FD7",
          "Arn"
         ]
        },
        {
         "Ref": "AWS::NoValue"
        }
       ]
      },
      {
       "Action": [
        "s3:GetObject*",
        "s3:GetBucket*",
        "s3:List*",
        "s3:DeleteObject*",
        "s3:PutObject",
        "s3:PutObjectLegalHold",
        "s3:PutObjectRetention",
        "s3:PutObjectTagging",
        "s3:PutObjectVersionTagging",
        "s3:Abort*"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "MiyabiTaskStorageBucketA4C70F1E",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "MiyabiTaskStorageBucketA4C70F1E",
             "Arn"
            ]
           },
           "/*"
          ]
         ]
        }
       ]
      },
      {
       "Action": [
        "secretsmanager:GetSecretValue",
        "secretsmanager:DescribeSecret"
       ],
       "Effect": "Allow",
       "Resource": {
        "Fn::Join": [
         "",
         [
          "arn:",
          {
           "Ref": "AWS::Partition"
          },
          ":secretsmanager:us-west-2:112530848482:secret:miyabi/github-token-??????"
         ]
        ]
       }
      },
      {
       "Action": "secretsmanager:GetSecretValue",
       "Effect": "Allow",
       "Resource": {
        "Fn::Join": [
         "",
         [
          "arn:",
          {
           "Ref": "AWS::Partition"
          },
          ":secretsmanager:us-west-2:112530848482:secret:miyabi/github-token"
         ]
        ]
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "MiyabiAPILambdaServiceRoleDefaultPolicy0FC31D36",
    "Roles": [
     {
      "Ref": "MiyabiAPILambdaServiceRole0F0A568B"
     }
    ]
   },
   "DependsOn": [
    "MiyabiVPCPrivateSubnet1DefaultRoute701244B9",
    "MiyabiVPCPrivateSubnet1RouteTableAssociationA83D72CF",
    "MiyabiVPCPrivateSubnet2DefaultRoute8946696F",
    "MiyabiVPCPrivateSubnet2RouteTableAssociation056485C7"
   ],
   "Metadata": {
    "aws:cdk:path": "MiyabiWebUIStack/MiyabiAPILambda/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "MiyabiAPILambda2BD40F6F": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Architectures": [
     "arm64"
    ],
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-112530848482-us-west-2",
     "S3Key": "b9de15c299dc0efac614bac3b7711111e9543aacb36950592261392abbe866c9.zip"
    },
    "Environment": {
     "Variables": {
      "TASK_BUCKET": {
       "Ref": "MiyabiTaskStorageBucketA4C70F1E"
      },
      "GITHUB_TOKEN_SECRET": "miyabi/github-token",
      "GITHUB_REPO": "customer-cloud/miyabi-private",
      "REDIS_ENDPOINT": {
       "Fn::GetAtt": [
        "RedisCluster",
        "RedisEndpoint.Address"
       ]
      },
      "REDIS_PORT": {
       "Fn::GetAtt": [
        "RedisCluster",
        "RedisEndpoint.Port"
       ]
      },
      "TASKS_TABLE_NAME": {
       "Ref": "MiyabiTasksTable6E016532"
      },
      "PROJECTS_TABLE_NAME": {
       "Ref": "MiyabiProjectsTable408C2FD7"
      },
      "RUST_LOG": "info"
     }
    },
    "FunctionName": "miyabi-webui-api",
    "Handler": "bootstrap",
    "MemorySize": 512,
    "Role": {
     "Fn::GetAtt": [
      "MiyabiAPILambdaServiceRole0F0A568B",
      "Arn"
     ]
    },
    "Runtime": "provided.al2023",
    "Timeout": 30,
    "VpcConfig": {
     "SecurityGroupIds": [
      {
       "Fn::GetAtt": [
        "LambdaSecurityGroup0BD9FC99",
        "GroupId"
       ]
      }
     ],
     "SubnetIds": [
      {
       "Ref": "MiyabiVPCPrivateSubnet1SubnetC8EF81C9"
      },
      {
       "Ref": "MiyabiVPCPrivateSubnet2SubnetA7AFD656"
      }
     ]
    }
   },
   "DependsOn": [
    "MiyabiAPILambdaServiceRoleDefaultPolicy0FC31D36",
    "MiyabiAPILambdaServiceRole0F0A568B",
    "MiyabiVPCPrivateSubnet1DefaultRoute701244B9",
    "MiyabiVPCPrivateSubnet1RouteTableAssociationA83D72CF",
    "MiyabiVPCPrivateSubnet2DefaultRoute8946696F",
    "MiyabiVPCPrivateSubnet2RouteTableAssociation056485C7"
   ],
   "Metadata": {
    "aws:cdk:path": "MiyabiWebUIStack/MiyabiAPILambda/Resource",
    "aws:asset:path": "asset.b9de15c299dc0efac614bac3b7711111e9543aacb36950592261392abbe866c9",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "MiyabiAPILambdaLogRetentionACA019EC": {
   "Type": "Custom::LogRetention",
   "Properties": {
    "ServiceToken": {
     "Fn::GetAtt": [
      "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A",
      "Arn"
     ]
    },
    "LogGroupName": {
     "Fn::Join": [
      "",
      [
       "/aws/lambda/",
       {
        "Ref": "MiyabiAPILambda2BD40F6F"
       }
      ]
     ]
    },
    "RetentionInDays": 7
   },
   "DependsOn": [
    "MiyabiVPCPrivateSubnet1DefaultRoute701244B9",
    "MiyabiVPCPrivateSubnet1RouteTableAssociationA83D72CF",
    "MiyabiVPCPrivateSubnet2DefaultRoute8946696F",
    "MiyabiVPCPrivateSubnet2RouteTableAssociation056485C7"
   ],
   "Metadata": {
    "aws:cdk:path": "MiyabiWebUIStack/MiyabiAPILambda/LogRetention/Resource"
   }
  },
  "MiyabiWebUIAPIB050FFF7": {
   "Type": "AWS::ApiGateway::RestApi",
   "Properties": {
    "Description": "Miyabi WebUI Backend API",
    "Name": "miyabi-webui-api"
   },
   "Metadata": {
    "aws:cdk:path": "MiyabiWebUIStack/MiyabiWebUIAPI/Resource"
   }
  },
  "MiyabiWebUIAPICloudWatchRoleCD89BA55": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "apigateway.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AmazonAPIGatewayPushToCloudWatchLogs"
       ]
      ]
     }
    ]
   },
   "UpdateReplacePolicy": "Retain",
   "DeletionPolicy": "Retain",
   "Metadata": {
    "aws:cdk:path": "MiyabiWebUIStack/MiyabiWebUIAPI/CloudWatchRole/Resource"
   }
  },
  "MiyabiWebUIAPIAccount0429DA7E": {
   "Type": "AWS::ApiGateway::Account",
   "Properties": {
    "CloudWatchRoleArn": {
     "Fn::GetAtt": [
      "MiyabiWebUIAPICloudWatchRoleCD89BA55",
      "Arn"
     ]
    }
   },
   "DependsOn": [
    "MiyabiWebUIAPIB050FFF7"
   ],
   "UpdateReplacePolicy": "Retain",
   "DeletionPolicy": "Retain",
   "Metadata": {
    "aws:cdk:path": "MiyabiWebUIStack/MiyabiWebUIAPI/Account"
   }
  },
  "MiyabiWebUIAPIDeployment77D0BDFF7e6208c9893015f0e9a2b9b11b30b1c5": {
   "Type": "AWS::ApiGateway::Deployment",
   "Properties": {
    "Description": "Miyabi WebUI Backend API",
    "RestApiId": {
     "Ref": "MiyabiWebUIAPIB050FFF7"
    }
   },
   "DependsOn": [
    "MiyabiWebUIAPIproxyANY8A4163C7",
    "MiyabiWebUIAPIproxyOPTIONS576DC0BB",
    "MiyabiWebUIAPIproxyF659331C",
    "MiyabiWebUIAPIANY6C9B0F4A",
    "MiyabiWebUIAPIOPTIONS20AB44C8"
   ],
   "Metadata": {
    "aws:cdk:path": "MiyabiWebUIStack/MiyabiWebUIAPI/Deployment/Resource",
    "aws:cdk:do-not-refactor": true
   }
  },
  "MiyabiWebUIAPIDeploymentStageprod42C5BE73": {
   "Type": "AWS::ApiGateway::Stage",
   "Properties": {
    "DeploymentId": {
     "Ref": "MiyabiWebUIAPIDeployment77D0BDFF7e6208c9893015f0e9a2b9b11b30b1c5"
    },
    "MethodSettings": [
     {
      "DataTraceEnabled": false,
      "HttpMethod": "*",
      "ResourcePath": "/*",
      "ThrottlingBurstLimit": 2000,
      "ThrottlingRateLimit": 1000
     }
    ],
    "RestApiId": {
     "Ref": "MiyabiWebUIAPIB050FFF7"
    },
    "StageName": "prod"
   },
   "DependsOn": [
    "MiyabiWebUIAPIAccount0429DA7E"
   ],
   "Metadata": {
    "aws:cdk:path": "MiyabiWebUIStack/MiyabiWebUIAPI/DeploymentStage.prod/Resource"
   }
  },
  "MiyabiWebUIAPIOPTIONS20AB44C8": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Fn::GetAtt": [
      "MiyabiWebUIAPIB050FFF7",
      "RootResourceId"
     ]
    },
    "RestApiId": {
     "Ref": "MiyabiWebUIAPIB050FFF7"
    }
   },
   "Metadata": {
    "aws:cdk:path": "MiyabiWebUIStack/MiyabiWebUIAPI/Default/OPTIONS/Resource"
   }
  },
  "MiyabiWebUIAPIproxyF659331C": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Fn::GetAtt": [
      "MiyabiWebUIAPIB050FFF7",
      "RootResourceId"
     ]
    },
    "PathPart": "{proxy+}",
    "RestApiId": {
     "Ref": "MiyabiWebUIAPIB050FFF7"
    }
   },
   "Metadata": {
    "aws:cdk:path": "MiyabiWebUIStack/MiyabiWebUIAPI/Default/{proxy+}/Resource"
   }
  },
  "MiyabiWebUIAPIproxyOPTIONS576DC0BB": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "MiyabiWebUIAPIproxyF659331C"
    },
    "RestApiId": {
     "Ref": "MiyabiWebUIAPIB050FFF7"
    }
   },
   "Metadata": {
    "aws:cdk:path": "MiyabiWebUIStack/MiyabiWebUIAPI/Default/{proxy+}/OPTIONS/Resource"
   }
  },
  "MiyabiWebUIAPIproxyANYApiPermissionMiyabiWebUIStackMiyabiWebUIAPIB25F753FANYproxy73D4E105": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "MiyabiAPILambda2BD40F6F",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:us-west-2:112530848482:",
       {
        "Ref": "MiyabiWebUIAPIB050FFF7"
       },
       "/",
       {
        "Ref": "MiyabiWebUIAPIDeploymentStageprod42C5BE73"
       },
       "/*/*"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "MiyabiWebUIStack/MiyabiWebUIAPI/Default/{proxy+}/ANY/ApiPermission.MiyabiWebUIStackMiyabiWebUIAPIB25F753F.ANY..{proxy+}"
   }
  },
  "MiyabiWebUIAPIproxyANYApiPermissionTestMiyabiWebUIStackMiyabiWebUIAPIB25F753FANYproxy9BAADF23": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "MiyabiAPILambda2BD40F6F",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:us-west-2:112530848482:",
       {
        "Ref": "MiyabiWebUIAPIB050FFF7"
       },
       "/test-invoke-stage/*/*"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "MiyabiWebUIStack/MiyabiWebUIAPI/Default/{proxy+}/ANY/ApiPermission.Test.MiyabiWebUIStackMiyabiWebUIAPIB25F753F.ANY..{proxy+}"
   }
  },
  "MiyabiWebUIAPIproxyANY8A4163C7": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "NONE",
    "HttpMethod": "ANY",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":apigateway:us-west-2:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "MiyabiAPILambda2BD40F6F",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "ResourceId": {
     "Ref": "MiyabiWebUIAPIproxyF659331C"
    },
    "RestApiId": {
     "Ref": "MiyabiWebUIAPIB050FFF7"
    }
   },
   "Metadata": {
    "aws:cdk:path": "MiyabiWebUIStack/MiyabiWebUIAPI/Default/{proxy+}/ANY/Resource"
   }
  },
  "MiyabiWebUIAPIANYApiPermissionMiyabiWebUIStackMiyabiWebUIAPIB25F753FANY050BD6DC": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "MiyabiAPILambda2BD40F6F",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:us-west-2:112530848482:",
       {
        "Ref": "MiyabiWebUIAPIB050FFF7"
       },
       "/",
       {
        "Ref": "MiyabiWebUIAPIDeploymentStageprod42C5BE73"
       },
       "/*/"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "MiyabiWebUIStack/MiyabiWebUIAPI/Default/ANY/ApiPermission.MiyabiWebUIStackMiyabiWebUIAPIB25F753F.ANY.."
   }
  },
  "MiyabiWebUIAPIANYApiPermissionTestMiyabiWebUIStackMiyabiWebUIAPIB25F753FANY691BE132": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "MiyabiAPILambda2BD40F6F",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:us-west-2:112530848482:",
       {
        "Ref": "MiyabiWebUIAPIB050FFF7"
       },
       "/test-invoke-stage/*/"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "MiyabiWebUIStack/MiyabiWebUIAPI/Default/ANY/ApiPermission.Test.MiyabiWebUIStackMiyabiWebUIAPIB25F753F.ANY.."
   }
  },
  "MiyabiWebUIAPIANY6C9B0F4A": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "NONE",
    "HttpMethod": "ANY",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":apigateway:us-west-2:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "MiyabiAPILambda2BD40F6F",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "ResourceId": {
     "Fn::GetAtt": [
      "MiyabiWebUIAPIB050FFF7",
      "RootResourceId"
     ]
    },
    "RestApiId": {
     "Ref": "MiyabiWebUIAPIB050FFF7"
    }
   },
   "Metadata": {
    "aws:cdk:path": "MiyabiWebUIStack/MiyabiWebUIAPI/Default/ANY/Resource"
   }
  },
  "DeployMiyabiWebUIAwsCliLayer5AB514D2": {
   "Type": "AWS::Lambda::LayerVersion",
   "Properties": {
    "Content": {
     "S3Bucket": "cdk-hnb659fds-assets-112530848482-us-west-2",
     "S3Key": "c49d356cac773d491c5f7ac148995a1181498a8e289429f8612a7f7e3814f535.zip"
    },
    "Description": "/opt/awscli/aws"
   },
   "Metadata": {
    "aws:cdk:path": "MiyabiWebUIStack/DeployMiyabiWebUI/AwsCliLayer/Resource",
    "aws:asset:path": "asset.c49d356cac773d491c5f7ac148995a1181498a8e289429f8612a7f7e3814f535.zip",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Content"
   }
  },
  "DeployMiyabiWebUICustomResource79F18ACC": {
   "Type": "Custom::CDKBucketDeployment",
   "Properties": {
    "ServiceToken": {
     "Fn::GetAtt": [
      "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C81C01536",
      "Arn"
     ]
    },
    "SourceBucketNames": [
     "cdk-hnb659fds-assets-112530848482-us-west-2"
    ],
    "SourceObjectKeys": [
     "93be296cd960dd96700522b3983a5710653ee7493750e4a94a035f30fe33a465.zip"
    ],
    "DestinationBucketName": {
     "Ref": "MiyabiWebUIBucketD1785603"
    },
    "WaitForDistributionInvalidation": true,
    "Prune": true,
    "DistributionId": {
     "Ref": "MiyabiWebUIDistribution4BAFD3F5"
    },
    "DistributionPaths": [
     "/*"
    ],
    "OutputObjectKeys": true
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "MiyabiWebUIStack/DeployMiyabiWebUI/CustomResource/Default"
   }
  },
  "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRole89A01265": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "MiyabiWebUIStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole/Resource"
   }
  },
  "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRoleDefaultPolicy88902FDF": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "s3:GetObject*",
        "s3:GetBucket*",
        "s3:List*"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::Join": [
          "",
          [
           "arn:",
           {
            "Ref": "AWS::Partition"
           },
           ":s3:::cdk-hnb659fds-assets-112530848482-us-west-2"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:",
           {
            "Ref": "AWS::Partition"
           },
           ":s3:::cdk-hnb659fds-assets-112530848482-us-west-2/*"
          ]
         ]
        }
       ]
      },
      {
       "Action": [
        "s3:GetObject*",
        "s3:GetBucket*",
        "s3:List*",
        "s3:DeleteObject*",
        "s3:PutObject",
        "s3:PutObjectLegalHold",
        "s3:PutObjectRetention",
        "s3:PutObjectTagging",
        "s3:PutObjectVersionTagging",
        "s3:Abort*"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "MiyabiWebUIBucketD1785603",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "MiyabiWebUIBucketD1785603",
             "Arn"
            ]
           },
           "/*"
          ]
         ]
        }
       ]
      },
      {
       "Action": [
        "cloudfront:GetInvalidation",
        "cloudfront:CreateInvalidation"
       ],
       "Effect": "Allow",
       "Resource": "*"
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRoleDefaultPolicy88902FDF",
    "Roles": [
     {
      "Ref": "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRole89A01265"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "MiyabiWebUIStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C81C01536": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-112530848482-us-west-2",
     "S3Key": "3423a042b818e31c1e34a19d6689ab2e5f9b70fcbe9e71df66f241b20a200bd9.zip"
    },
    "Environment": {
     "Variables": {
      "AWS_CA_BUNDLE": "/etc/pki/ca-trust/extracted/pem/tls-ca-bundle.pem"
     }
    },
    "Handler": "index.handler",
    "Layers": [
     {
      "Ref": "DeployMiyabiWebUIAwsCliLayer5AB514D2"
     }
    ],
    "Role": {
     "Fn::GetAtt": [
      "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRole89A01265",
      "Arn"
     ]
    },
    "Runtime": "python3.13",
    "Timeout": 900
   },
   "DependsOn": [
    "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRoleDefaultPolicy88902FDF",
    "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRole89A01265"
   ],
   "Metadata": {
    "aws:cdk:path": "MiyabiWebUIStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/Resource",
    "aws:asset:path": "asset.3423a042b818e31c1e34a19d6689ab2e5f9b70fcbe9e71df66f241b20a200bd9",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "CDKMetadata": {
   "Type": "AWS::CDK::Metadata",
   "Properties": {
    "Analytics": "v2:deflate64:H4sIAAAAAAAA/31TTW/bMAz9Lb0r2uYWu7vuWgRoVyMZcg1kmXXZyJKhj2aG4f8+SnbsHIqd+EhT5OMjnfEsu+Pfb8TZbWR92iis+LD3Qp4YhY4DyIwPh06y4k0fyoKVoVIo96HS4GNsRTsTPPwRlYI1vsZy54xE4dHoJTmCX9symt/CPwkPZ9Gz0uInwbXwVnuwhC8JE5PZyz1xfW9Be7YHGSz6/sma0CUO/w1sdWPBuZGBEs6jpDLAh4X68qiIHwoVHLEYmbvlw32Qp4najCZTGlKmX8OzPzn3wsHIpDKhfrNGez68WmxQ51ISiW1NAxCx1C/mPMacLzMe0HmLVbgoee2PrO61aE1NO1w2kcDIlGkcH55Nswy2YAI78LF+LKFEW9WCD49By0uTa1yCbdG52XsWPdgD2OTvUTcKvFnyR4ai5cPOTFSSXWWaUNT0OAjnwDueR8Nq6JTp41L5pN7DEhiZ6LCZdk/jJK47cD7vMHVYIelmAp3F+jbJtXp05c10qwnQUxOshLgp9gL+3dTx44xKa/72l5S5U8LjuLxkiX2sRjpc50T8GnwX/KzuUUXZjvSHSYU8P7tCYVKSFXRnpl2KM21q4B/u22d2y3/yHzcfDnFjaS5sge8m+w8VhErRxAMAAA=="
   },
   "Metadata": {
    "aws:cdk:path": "MiyabiWebUIStack/CDKMetadata/Default"
   }
  }
 },
 "Outputs": {
  "MiyabiWebUIAPIEndpoint75C12A05": {
   "Value": {
    "Fn::Join": [
     "",
     [
      "https://",
      {
       "Ref": "MiyabiWebUIAPIB050FFF7"
      },
      ".execute-api.us-west-2.",
      {
       "Ref": "AWS::URLSuffix"
      },
      "/",
      {
       "Ref": "MiyabiWebUIAPIDeploymentStageprod42C5BE73"
      },
      "/"
     ]
    ]
   }
  },
  "WebUIURL": {
   "Description": "Miyabi WebUI CloudFront URL",
   "Value": {
    "Fn::Join": [
     "",
     [
      "https://",
      {
       "Fn::GetAtt": [
        "MiyabiWebUIDistribution4BAFD3F5",
        "DomainName"
       ]
      }
     ]
    ]
   }
  },
  "APIURL": {
   "Description": "Miyabi WebUI API Gateway URL",
   "Value": {
    "Fn::Join": [
     "",
     [
      "https://",
      {
       "Ref": "MiyabiWebUIAPIB050FFF7"
      },
      ".execute-api.us-west-2.",
      {
       "Ref": "AWS::URLSuffix"
      },
      "/",
      {
       "Ref": "MiyabiWebUIAPIDeploymentStageprod42C5BE73"
      },
      "/"
     ]
    ]
   }
  },
  "TaskStorageBucket": {
   "Description": "S3 Bucket for Task Storage",
   "Value": {
    "Ref": "MiyabiTaskStorageBucketA4C70F1E"
   }
  },
  "GitHubTokenSecret": {
   "Description": "Secrets Manager secret for GitHub token",
   "Value": "miyabi/github-token"
  },
  "RedisEndpoint": {
   "Description": "ElastiCache Redis endpoint",
   "Value": {
    "Fn::GetAtt": [
     "RedisCluster",
     "RedisEndpoint.Address"
    ]
   }
  },
  "RedisPort": {
   "Description": "ElastiCache Redis port",
   "Value": {
    "Fn::GetAtt": [
     "RedisCluster",
     "RedisEndpoint.Port"
    ]
   }
  },
  "TasksTableName": {
   "Description": "DynamoDB tasks table name",
   "Value": {
    "Ref": "MiyabiTasksTable6E016532"
   }
  },
  "ProjectsTableName": {
   "Description": "DynamoDB projects table name",
   "Value": {
    "Ref": "MiyabiProjectsTable408C2FD7"
   }
  }
 },
 "Parameters": {
  "BootstrapVersion": {
   "Type": "AWS::SSM::Parameter::Value<String>",
   "Default": "/cdk-bootstrap/hnb659fds/version",
   "Description": "Version of the CDK Bootstrap resources in this environment, automatically retrieved from SSM Parameter Store. [cdk:skip]"
  }
 },
 "Rules": {
  "CheckBootstrapVersion": {
   "Assertions": [
    {
     "Assert": {
      "Fn::Not": [
       {
        "Fn::Contains": [
         [
          "1",
          "2",
          "3",
          "4",
          "5"
         ],
         {
          "Ref": "BootstrapVersion"
         }
        ]
       }
      ]
     },
     "AssertDescription": "CDK bootstrap stack version 6 required. Please run 'cdk bootstrap' with a recent version of the CDK CLI."
    }
   ]
  }
 }
}