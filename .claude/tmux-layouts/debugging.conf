# Miyabi Tmux Layout: Debugging
# Issue: #876 - tmuxレイアウト自動最適化
#
# Layout: Log-focused 3-way split
# Use case: Bug investigation

# Session setup
new-session -d -s miyabi -n debug

# Window 0: Debug Console
split-window -v -t miyabi:debug -p 60
send-keys -t miyabi:debug.0 '# Debug console - run your debug commands here' Enter
send-keys -t miyabi:debug.1 'RUST_BACKTRACE=1 cargo run 2>&1 | tee /tmp/debug.log' Enter

# Window 1: Logs
new-window -t miyabi -n logs
split-window -h -t miyabi:logs -p 50
send-keys -t miyabi:logs.0 'tail -f /tmp/miyabi.log 2>/dev/null || echo "Waiting for logs..."' Enter
send-keys -t miyabi:logs.1 '# Error filter - pipe logs through here' Enter

# Window 2: Trace
new-window -t miyabi -n trace
send-keys -t miyabi:trace '# Stack trace viewer' Enter

# Select first window
select-window -t miyabi:debug
