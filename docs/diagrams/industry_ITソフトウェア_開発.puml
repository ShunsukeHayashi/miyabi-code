@startuml industry_ITソフトウェア_開発
!theme cerulean-outline

title IT・ソフトウェア - 開発部門 業務フロー

|開発|
start

' 要件定義
|PM|
:プロジェクト情報受領;

|開発|
:要件ヒアリング参加;
:機能要件整理;
:非機能要件整理;
note right
  - 性能
  - セキュリティ
  - 可用性
  - 拡張性
end note

:要件定義書作成;
:顧客レビュー;

' 設計
:基本設計;
note right
  - システム構成
  - 画面設計
  - DB設計
  - API設計
  - 外部連携設計
end note

:設計レビュー;

if (設計承認?) then (はい)
  :詳細設計;
else (いいえ)
  :設計修正;
endif

:詳細設計書作成;

|PM|
:設計完了報告;

|開発|
' 実装
:開発環境準備;

|インフラ|
:環境構築依頼;

|開発|
:ブランチ戦略決定;

:実装開始;

fork
  :コーディング;
fork again
  :単体テスト作成;
fork again
  :ドキュメント作成;
end fork

:プルリクエスト作成;

:コードレビュー依頼;

:コードレビュー;
note right
  - コード品質
  - セキュリティ
  - パフォーマンス
  - 設計準拠
  - テストカバレッジ
end note

if (レビュー指摘?) then (はい)
  :コード修正;
  :再レビュー;
else (いいえ)
endif

:マージ;

:CI実行;
fork
  :自動テスト;
fork again
  :静的解析;
fork again
  :ビルド;
end fork

if (CI失敗?) then (はい)
  :エラー対応;
else (いいえ)
endif

|PM|
:進捗報告;

|テスト|
' QAへの引き渡し
:テスト依頼;

|開発|
' バグ対応
if (バグ報告?) then (はい)
  :バグ確認;
  :原因調査;
  :修正実装;
  :再テスト依頼;
else (いいえ)
endif

' リリース
:リリース準備;
note right
  - リリースノート
  - 移行手順書
  - 切り戻し手順
end note

|インフラ|
:デプロイ依頼;

|開発|
:リリース確認;

' 保守
:本番監視;

|サポート|
:問い合わせ対応支援;

|開発|
if (改善要望?) then (はい)
  :バックログ登録;
  :次期対応検討;
else (いいえ)
endif

:技術的負債管理;
:リファクタリング;

:業務終了;

stop

@enduml
