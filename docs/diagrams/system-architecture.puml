@startuml system-architecture
!theme cerulean-outline
skinparam backgroundColor #FEFEFE
skinparam handwritten false

title 安全書類管理システム - システムアーキテクチャ

package "Lark Base Platform" {
    rectangle "安全書類管理システム" as main #LightBlue {

        package "マスタデータ層" as master #E8F5E9 {
            database "【M1】従業員マスタ" as m1
            database "【M2】現場マスタ" as m2
            database "【M3】車両マスタ" as m3
            database "【M4】資機材マスタ" as m4
            database "【M5】下請け・協力会社" as m5
        }

        package "リース管理" as lease #FFF3E0 {
            collections "【リース1】発注依頼" as l1
            collections "【リース2】発注書" as l2
            collections "【リース3】納品記録" as l3
            collections "【リース4】返却記録" as l4
            collections "【リース5】請求照合" as l5
        }

        package "経費・勤怠管理" as expense #E3F2FD {
            collections "【経費1-4】経費関連" as e1
            collections "【勤怠1-2】勤怠関連" as a1
        }

        package "安全管理" as safety #FFEBEE {
            collections "【点検1-4】点検簿" as i1
            collections "【労務1-3】労務調査" as lab1
            collections "【安全1-5】安全教育・事故" as s1
        }
    }
}

cloud "外部連携" as external {
    actor "現場作業員" as worker
    actor "管理者" as admin
    actor "経理担当" as accounting
}

worker --> l1 : 発注依頼
worker --> e1 : 経費申請
worker --> a1 : 勤怠入力
worker --> i1 : 点検実施

admin --> l2 : 承認・発注
admin --> s1 : 安全管理
admin --> lab1 : 労務管理

accounting --> l5 : 請求照合
accounting --> e1 : 経費承認

m1 ..> l1 : 参照
m2 ..> l1 : 参照
m3 ..> i1 : 参照
m4 ..> l1 : 参照

@enduml
