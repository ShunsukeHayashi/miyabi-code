@startuml industry_hotel_予約
!theme cerulean-outline

title ホテル・旅館 - 予約部署 詳細業務フロー

|予約|
start

:予約問い合わせ受付;

if (予約経路?) then (電話)
  :電話対応;
  :要望ヒアリング;
else if (Web) then
  :オンライン予約確認;
  :自動返信送信;
else if (OTA) then
  :予約サイト連携確認;
  :在庫同期;
else (団体・法人)
  :担当者直接対応;
  :見積書作成;
endif

:空室状況確認;

if (希望日空室?) then (あり)
  :料金プラン提案;

  fork
    :宿泊プラン説明;
  fork again
    :食事オプション案内;
  fork again
    :特典・割引確認;
  end fork

else (なし)
  :代替日程提案;
  if (代替案受入?) then (はい)
    :新日程で進行;
  else (いいえ)
    :キャンセル待ち登録;
    :次回案内約束;
    stop
  endif
endif

:予約内容確定;

:予約詳細入力;
note right
  - 宿泊者情報
  - 到着時間
  - 食事内容
  - アレルギー情報
  - 記念日等特記事項
end note

:予約確認書作成;

if (支払い方法?) then (事前決済)
  :オンライン決済処理;
  :入金確認;
else (現地払い)
  :当日精算案内;
endif

:予約確認書送付;
:予約システム登録;

|予約|
:予約管理業務;

:日次空室状況更新;

fork
  :OTA在庫連携;
fork again
  :自社サイト更新;
fork again
  :電話予約枠確保;
end fork

:予約変更対応;

if (変更内容?) then (日程変更)
  :空室確認;
  :変更手続き;
  :確認書再送付;
else if (キャンセル) then
  :キャンセルポリシー確認;

  if (キャンセル料発生?) then (はい)
    :キャンセル料計算;
    :請求処理;
  else (いいえ)
    :全額返金処理;
  endif

  :空室復活処理;
else (オプション追加)
  :追加内容確認;
  :料金再計算;
  :確認書更新;
endif

:来客前日確認;
:最終確認連絡;
:フロントへ予約情報共有;

:月次予約分析;
note right
  - 稼働率分析
  - 予約経路別分析
  - キャンセル率分析
  - 収益分析
end note

:レポート作成;

stop

@enduml
