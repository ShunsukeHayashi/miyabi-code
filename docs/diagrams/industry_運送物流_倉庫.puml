@startuml industry_運送物流_倉庫
!theme cerulean-outline

title 運送・物流 - 倉庫部門 業務フロー

|倉庫|
start

' 入庫業務
:入庫予定確認;

:トラック着車;

:荷降ろし;

:検品;
note right
  - 数量確認
  - 品質確認
  - 破損確認
  - 伝票照合
end note

if (不良・差異あり?) then (はい)
  :不良報告作成;
  |営業|
  :荷主・仕入先連絡依頼;

  |倉庫|
  :返品・交換対応;
else (いいえ)
endif

:入庫登録;
:ロケーション決定;
note right
  - 商品特性
  - 出荷頻度
  - サイズ・重量
  - 保管条件
end note

:棚入れ;
:在庫反映;

' 在庫管理
:在庫状況確認;

fork
  :棚卸(定期);
fork again
  :ロケーション整理;
fork again
  :期限管理;
end fork

if (在庫差異?) then (はい)
  :原因調査;
  :在庫調整;
  :再発防止策;
else (いいえ)
endif

if (在庫過少?) then (はい)
  |営業|
  :発注依頼連絡;

  |倉庫|
else (いいえ)
endif

' 出庫業務
|配車|
:出荷スケジュール受領;

|倉庫|
:出荷指示確認;

:ピッキングリスト作成;

:ピッキング;
note right
  - ロケーション移動
  - 商品取出し
  - 数量確認
  - バーコード照合
end note

if (在庫不足?) then (はい)
  :代替品確認;
  |営業|
  :顧客連絡依頼;

  |倉庫|
else (いいえ)
endif

:検品;
fork
  :品番確認;
fork again
  :数量確認;
fork again
  :品質確認;
end fork

:梱包;
note right
  - 梱包材選定
  - 緩衝材挿入
  - ラベル貼付
end note

:出荷伝票作成;

:出荷待機場所へ移動;

' 積込
|運行管理|
:ドライバー到着通知;

|倉庫|
:積込;
note right
  - 配送順考慮
  - 重量バランス
  - 荷崩れ防止
end note

:積込確認・伝票渡し;

:出庫登録;

|配車|
:出荷完了報告;

|倉庫|
' 返品対応
if (返品入庫?) then (はい)
  :返品検品;
  :返品処理;
  :在庫反映or廃棄;
else (いいえ)
endif

:業務終了;

stop

@enduml
