@startuml industry_facility_メンテナンス部
!theme cerulean-outline

title 設備工事業 メンテナンス部 業務フロー

skinparam swimlaneWidth 250
skinparam swimlaneHeight 80

swimlane メンテナンス課長 {
  :竣工引継ぎ受領;
  -> 保守契約内容確認;
  -> 定期点検スケジュール作成;
  -> 技術員配置;
  :定期業務管理;
}

swimlane 技術員 {
  start
  :顧客管理台帳確認;
  -> 点検予定確認;
  :定期点検実施;
  -> 各部品動作確認;
  -> 清掃・給油;
  -> 消耗品チェック;
  note right
    チェックリスト
    - フィルター清掃
    - ベルト張力
    - 冷媒量確認
    - ドレン排水確認
    - 配管腐食確認
  end note
}

swimlane 工事部 {
  :予防交換部品手配;
  -> 交換スケジュール調整;
  :劣化部品交換工事;
}

swimlane 技術員（続き） {
  :点検報告書作成;
  -> 発見事項記録;
  if (不具合あり?) then (はい)
    -> 工事部に連携;
    -> 修理スケジュール調整;
  else (いいえ)
    -> 定期点検完了記録;
  endif
}

swimlane 保守契約管理 {
  :点検実績記録;
  -> 請求書作成;
  -> 契約更新管理;
  :顧客対応;
}

swimlane 緊急対応チーム {
  :顧客から故障報告;
  -> 初期対応電話;
  -> 現場急行判断;
  if (緊急性?) then (高い)
    -> 当日出動;
  else (低い)
    -> 翌日以降対応;
  endif
}

swimlane 修理担当者 {
  :現場到着;
  -> 原因特定;
  -> 故障内容診断;
  if (部品交換?) then (必要)
    -> 部品手配;
    -> 修理実施;
  else (清掃・給油など)
    -> 現地修理;
  endif
  -> 運転確認;
  -> 修理報告書作成;
}

swimlane 事務管理 {
  :修理実績記録;
  -> 部品使用量管理;
  -> 修理代金計算;
  -> 請求処理;
}

swimlane 技術員（記録） {
  :修理履歴データベース入力;
  -> 顧客へ報告;
  -> 今後の点検計画更新;
  :案件クローズ;
}

@enduml
