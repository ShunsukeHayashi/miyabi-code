# ========================================
# Miyabi MCP Server - Security Configuration
# ========================================
# Created: 2025-11-29
# Purpose: Secure production deployment settings
#
# IMPORTANT: Copy to .env and configure for your environment
# ========================================

# ========================================
# Environment Configuration
# ========================================
# Environment: development, staging, production
ENVIRONMENT=production

# Debug mode (NEVER enable in production)
DEBUG=false

# ========================================
# Authentication Security
# ========================================
# Static access token (generate with: openssl rand -base64 32)
MIYABI_ACCESS_TOKEN=your-secure-token-here

# Development auth bypass (ONLY for development)
# ⚠️  WARNING: Set to false in production!
ALLOW_DEV_AUTH_BYPASS=false

# ========================================
# CORS Security
# ========================================
# Comma-separated list of allowed origins
# Only trusted domains should be listed
ALLOWED_ORIGINS=https://chat.openai.com,https://chatgpt.com,https://your-domain.com

# ========================================
# OAuth 2.1 Configuration
# ========================================
OAUTH_CLIENT_ID=miyabi-mcp-client
OAUTH_CLIENT_SECRET=your-oauth-secret-here
OAUTH_ISSUER=https://your-domain.com

# GitHub OAuth App (optional)
GITHUB_OAUTH_CLIENT_ID=
GITHUB_OAUTH_CLIENT_SECRET=
GITHUB_OAUTH_CALLBACK_URL=https://your-domain.com/auth/github/callback

# ========================================
# GitHub Integration
# ========================================
GITHUB_TOKEN=ghp_your_github_token_here
MIYABI_REPO_OWNER=customer-cloud
MIYABI_REPO_NAME=miyabi-private

# ========================================
# Server Configuration
# ========================================
# Base URL for asset server
BASE_URL=https://your-domain.com

# Miyabi project root
MIYABI_ROOT=/home/ubuntu/miyabi-private

# ========================================
# Security Best Practices
# ========================================
# 1. Generate strong tokens:
#    openssl rand -base64 32
#
# 2. HTTPS is REQUIRED in production
#
# 3. Set ENVIRONMENT=production for production deployments
#
# 4. NEVER commit .env file to git
#
# 5. Rotate tokens regularly (every 90 days recommended)
#
# 6. Monitor authentication logs for suspicious activity
#
# 7. Use environment-specific .env files:
#    .env.development
#    .env.staging
#    .env.production
# ========================================
