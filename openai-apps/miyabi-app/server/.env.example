# ========================================
# Miyabi MCP Server - Environment Template
# ========================================
# Copy this file to .env and fill in the values

# ===========================================
# Core Settings
# ===========================================
ENVIRONMENT=development
DEBUG=true
LOG_LEVEL=INFO
LOG_FORMAT=text  # json for production

# ===========================================
# Server Settings
# ===========================================
HOST=0.0.0.0
PORT=8000
WORKERS=4

# ===========================================
# Miyabi Project
# ===========================================
MIYABI_ROOT=/path/to/miyabi-private
BASE_URL=http://localhost:4444

# ===========================================
# GitHub Integration
# ===========================================
GITHUB_TOKEN=ghp_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
MIYABI_REPO_OWNER=customer-cloud
MIYABI_REPO_NAME=miyabi-private

# ===========================================
# Authentication
# ===========================================
# Static access token (simple auth)
# Generate with: python3 -c "import secrets; print(secrets.token_urlsafe(32))"
MIYABI_ACCESS_TOKEN=

# JWT settings (for OAuth tokens)
JWT_SECRET=your-super-secret-key-change-in-production
JWT_ALGORITHM=HS256
JWT_EXPIRE_MINUTES=60

# ===========================================
# OAuth 2.1 Settings
# ===========================================
OAUTH_CLIENT_ID=miyabi-mcp-client
OAUTH_CLIENT_SECRET=change-me-in-production
OAUTH_ISSUER=https://your-domain.com

# ===========================================
# GitHub OAuth App (optional)
# ===========================================
# Create at: https://github.com/settings/developers
GITHUB_OAUTH_CLIENT_ID=
GITHUB_OAUTH_CLIENT_SECRET=
GITHUB_OAUTH_CALLBACK_URL=

# ===========================================
# Security Settings
# ===========================================
# Comma-separated list of allowed origins for CORS
ALLOWED_ORIGINS=https://chat.openai.com,https://chatgpt.com

# Rate limiting
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_BURST=10

# ===========================================
# Redis (optional - for token persistence)
# ===========================================
REDIS_ENABLED=false
REDIS_URL=redis://localhost:6379/0

# ===========================================
# Database (optional - for sandbox/multi-tenant)
# ===========================================
DATABASE_URL=postgresql://postgres:password@localhost:5432/miyabi
DATABASE_POOL_SIZE=10

# ===========================================
# Sandbox Settings (optional)
# ===========================================
SANDBOX_ENABLED=false
SANDBOX_IMAGE=miyabi-sandbox:latest
SANDBOXES_ROOT=/data/sandboxes
SANDBOX_IDLE_TIMEOUT=15

# ===========================================
# Feature Flags
# ===========================================
ENABLE_WEBSOCKET=false
ENABLE_METRICS=true
ENABLE_TRACING=false
