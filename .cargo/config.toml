# Miyabi - Cargo Build Configuration
[build]
incremental = true
pipelining = true

[profile.dev]
opt-level = 1
debug = 1
incremental = true

[profile.release]
opt-level = 3
lto = "thin"
codegen-units = 1
strip = true

[profile.test]
opt-level = 1
debug = 1

[net]
retry = 2
git-fetch-with-cli = true

# =============================================================================
# Claude Development Aliases (Dioxus Labs Strategy)
# 高速イテレーション用エイリアス
# =============================================================================
[alias]
# Watch commands for rapid development
w = "watch -x 'clippy --all-targets -- -D warnings'"
wt = "watch -x 'test'"
wc = "watch -x 'check'"

# Quick single-crate commands
bc = "build -p miyabi-core"
bcg = "build -p miyabi-agent-codegen"
br = "build -p miyabi-agent-review"
bco = "build -p miyabi-agent-coordinator"

# Test single crates
tc = "test -p miyabi-core"
tcg = "test -p miyabi-agent-codegen"
tr = "test -p miyabi-agent-review"
tco = "test -p miyabi-agent-coordinator"

# Clippy single crates
cc = "clippy -p miyabi-core -- -D warnings"
ccg = "clippy -p miyabi-agent-codegen -- -D warnings"
cr = "clippy -p miyabi-agent-review -- -D warnings"
cco = "clippy -p miyabi-agent-coordinator -- -D warnings"
