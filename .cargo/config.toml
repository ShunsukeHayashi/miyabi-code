# Cargo build configuration for Miyabi workspace

[build]
# Use all available CPU cores for parallel compilation
jobs = 4

# Incremental compilation for faster rebuilds in development
incremental = true

[alias]
# Convenient aliases for common operations
b = "build"
c = "check"
t = "test"
r = "run"
br = "build --release"
rr = "run --release"

# Build with optimized profile
build-opt = "build --profile dev-opt"

# Build small binary
build-small = "build --profile release-small"

# Run all tests with output
test-all = "test --workspace -- --nocapture"

# Run tests in release mode
test-release = "test --workspace --release"

# Check all targets
check-all = "check --workspace --all-targets"

# Clippy with strict lints
clippy-strict = "clippy --workspace --all-targets -- -D warnings"

# Format check
fmt-check = "fmt --all -- --check"

# Security audit
audit-check = "audit --deny warnings"
