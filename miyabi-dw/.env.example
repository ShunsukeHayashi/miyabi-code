# Miyabi Data Warehouse - Environment Variables
# Version: 1.0.0
# Copy this file to .env and configure for your environment

# ============================================================================
# Data Warehouse PostgreSQL
# ============================================================================
MIYABI_DW_DB=miyabi_dw
MIYABI_DW_USER=postgres
MIYABI_DW_PASSWORD=postgres
MIYABI_DW_HOST=localhost
MIYABI_DW_PORT=5434

# ============================================================================
# Source Database (Miyabi Operational DB)
# ============================================================================
MIYABI_SOURCE_DB=miyabi
MIYABI_SOURCE_USER=postgres
MIYABI_SOURCE_PASSWORD=changeme
MIYABI_SOURCE_HOST=localhost
MIYABI_SOURCE_PORT=5432

# ============================================================================
# Airflow
# ============================================================================
AIRFLOW_UID=50000
AIRFLOW_GID=0
AIRFLOW__CORE__FERNET_KEY=
AIRFLOW__WEBSERVER__SECRET_KEY=miyabi_secret_key_change_in_production

# Airflow Web UI Credentials
_AIRFLOW_WWW_USER_USERNAME=admin
_AIRFLOW_WWW_USER_PASSWORD=admin

# Airflow Database (metadata)
AIRFLOW_DB_HOST=postgres-airflow
AIRFLOW_DB_PORT=5432
AIRFLOW_DB_USER=airflow
AIRFLOW_DB_PASSWORD=airflow
AIRFLOW_DB_NAME=airflow

# ============================================================================
# SMTP (Email Alerts)
# ============================================================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_MAIL_FROM=airflow@miyabi.local

# ============================================================================
# Timezone
# ============================================================================
TZ=Asia/Tokyo

# ============================================================================
# Security (Production Only)
# ============================================================================
# Generate Fernet Key:
# python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
FERNET_KEY=

# Generate Secret Key:
# python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=

# ============================================================================
# Performance Tuning
# ============================================================================
POSTGRES_SHARED_BUFFERS=256MB
POSTGRES_EFFECTIVE_CACHE_SIZE=1GB
POSTGRES_WORK_MEM=16MB
POSTGRES_MAX_CONNECTIONS=200

# ============================================================================
# Logging
# ============================================================================
LOG_LEVEL=INFO
AIRFLOW_LOG_LEVEL=INFO
