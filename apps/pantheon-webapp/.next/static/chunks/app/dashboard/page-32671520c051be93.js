(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{5494:function(e,t,a){Promise.resolve().then(a.bind(a,9914))},9914:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return D}});var s=a(7437),r=a(2265),n=a(7648),l=a(9116);let i={getSummary:async()=>l.x1.get("/dashboard/summary"),getRecentActivities:async e=>{let t={};return(null==e?void 0:e.limit)&&(t.limit=e.limit.toString()),(null==e?void 0:e.status)&&(t.status=e.status),(null==e?void 0:e.type)&&(t.type=e.type),(null==e?void 0:e.page)&&(t.page=e.page.toString()),l.x1.get("/dashboard/recent",t)}},d={list:async e=>{let t={};return(null==e?void 0:e.status)&&(t.status=e.status),(null==e?void 0:e.type)&&(t.type=e.type),(null==e?void 0:e.repository)&&(t.repository=e.repository),(null==e?void 0:e.page)&&(t.page=e.page.toString()),(null==e?void 0:e.limit)&&(t.limit=e.limit.toString()),l.x1.get("/tasks",t)}},o={list:async e=>{let t={};return(null==e?void 0:e.status)&&(t.status=e.status),(null==e?void 0:e.type)&&(t.type=e.type),(await l.x1.get("/agents",t)).agents}},c={totalExecutions:156,runningExecutions:4,completedExecutions:142,failedExecutions:10,activeRepositories:12,pendingPRs:34,avgExecutionTime:45,lastUpdated:new Date().toISOString()},x=[{id:"1",type:"execution",agentType:"CodeGen",status:"completed",repository:"miyabi-private",title:"Implement dashboard API client",timestamp:new Date(Date.now()-3e5).toISOString(),duration:120},{id:"2",type:"pr",agentType:"PR",status:"completed",repository:"miyabi-private",title:"Create PR #1107 for API client",timestamp:new Date(Date.now()-9e5).toISOString()},{id:"3",type:"execution",agentType:"Review",status:"running",repository:"miyabi-private",title:"Code review for RBAC implementation",timestamp:new Date(Date.now()-15e5).toISOString()}],u=[{id:"1",name:"CoordinatorAgent",type:"coordinator",status:"online",description:"Task orchestration and parallel execution",capabilities:["task-decomposition","parallel-execution","dependency-resolution"],lastActive:new Date().toISOString(),executionCount:245,successRate:98.5,avgExecutionTime:30},{id:"2",name:"CodeGenAgent",type:"code_gen",status:"busy",description:"AI-driven code generation",capabilities:["rust","typescript","python"],currentTask:"Implementing dashboard components",lastActive:new Date().toISOString(),executionCount:189,successRate:95.2,avgExecutionTime:120},{id:"3",name:"ReviewAgent",type:"review",status:"online",description:"Code quality analysis and security scanning",capabilities:["static-analysis","security-scan","quality-scoring"],lastActive:new Date(Date.now()-6e5).toISOString(),executionCount:312,successRate:99.1,avgExecutionTime:45}],g=[{id:"1",type:"issue",title:"Dashboard UI Modernization",description:"Update dashboard with real-time data",status:"running",priority:1,repository:"miyabi-private",issueNumber:979,createdAt:new Date(Date.now()-72e5).toISOString(),startedAt:new Date(Date.now()-36e5).toISOString(),progress:60},{id:"2",type:"pr",title:"WebSocket Integration",status:"pending",priority:2,repository:"miyabi-private",createdAt:new Date(Date.now()-144e5).toISOString()}];var m=a(7401);function h(){return(0,s.jsxs)("div",{className:"animate-pulse",children:[(0,s.jsx)("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-24 mb-2"}),(0,s.jsx)("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded w-16"})]})}function p(e){let{title:t,value:a,subtitle:r,icon:n,trend:l,isLoading:i,colorClass:d}=e;return(0,s.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6 hover:shadow-md transition-shadow",children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:t}),i?(0,s.jsx)(h,{}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:a}),r&&(0,s.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:r}),l&&(0,s.jsxs)("div",{className:"flex items-center mt-2 text-sm ".concat(l.isPositive?"text-green-600":"text-red-600"),children:[(0,s.jsxs)("span",{children:[l.isPositive?"+":"",l.value,"%"]}),(0,s.jsx)("span",{className:"text-gray-400 ml-1",children:"vs last week"})]})]})]}),(0,s.jsx)("div",{className:"p-3 rounded-lg ".concat(d),children:n})]})})}function y(e){var t,a,r,n,l,i,d;let{summary:o,isLoading:c}=e,x=[{title:"Total Executions",value:null!==(t=null==o?void 0:o.totalExecutions)&&void 0!==t?t:0,icon:(0,s.jsx)("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),colorClass:"bg-blue-100 dark:bg-blue-900/30"},{title:"Running",value:null!==(a=null==o?void 0:o.runningExecutions)&&void 0!==a?a:0,subtitle:"Active executions",icon:(0,s.jsxs)("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),colorClass:"bg-green-100 dark:bg-green-900/30"},{title:"Completed",value:null!==(r=null==o?void 0:o.completedExecutions)&&void 0!==r?r:0,subtitle:"".concat(null!==(n=null==o?void 0:o.failedExecutions)&&void 0!==n?n:0," failed"),icon:(0,s.jsx)("svg",{className:"w-6 h-6 text-emerald-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),colorClass:"bg-emerald-100 dark:bg-emerald-900/30"},{title:"Repositories",value:null!==(l=null==o?void 0:o.activeRepositories)&&void 0!==l?l:0,icon:(0,s.jsx)("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})}),colorClass:"bg-purple-100 dark:bg-purple-900/30"},{title:"Pull Requests",value:null!==(i=null==o?void 0:o.pendingPRs)&&void 0!==i?i:0,subtitle:"Created by agents",icon:(0,s.jsx)("svg",{className:"w-6 h-6 text-amber-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})}),colorClass:"bg-amber-100 dark:bg-amber-900/30"},{title:"Avg Response Time",value:"".concat(null!==(d=null==o?void 0:o.avgExecutionTime)&&void 0!==d?d:0,"s"),icon:(0,s.jsx)("svg",{className:"w-6 h-6 text-cyan-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),colorClass:"bg-cyan-100 dark:bg-cyan-900/30"}];return(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:x.map(e=>(0,s.jsx)(p,{title:e.title,value:e.value,subtitle:e.subtitle,icon:e.icon,isLoading:c,colorClass:e.colorClass},e.title))})}a(7464);var v=a(456);function b(){return(0,s.jsx)("div",{className:"space-y-4",children:[1,2,3,4,5].map(e=>(0,s.jsxs)("div",{className:"animate-pulse flex items-start space-x-3 p-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-gray-200 dark:bg-gray-700 rounded-full"}),(0,s.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,s.jsx)("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4"}),(0,s.jsx)("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-1/2"})]})]},e))})}function k(e){switch(e){case"completed":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";case"running":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400";case"failed":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400";case"pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-400"}}function j(e){let{activity:t}=e,a=(0,v.Q)(new Date(t.timestamp),{addSuffix:!0});return(0,s.jsxs)("div",{className:"flex items-start space-x-3 p-3 hover:bg-gray-50 dark:hover:bg-gray-700/50 rounded-lg transition-colors",children:[(0,s.jsx)("div",{className:"p-2 rounded-full ".concat(k(t.status)),children:function(e){switch(e){case"execution":return(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})});case"pr":return(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})});case"issue":return(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})});case"deployment":return(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})});default:return(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}}(t.type)}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:t.title}),(0,s.jsx)("span",{className:"ml-2 px-2 py-0.5 text-xs font-medium rounded-full ".concat(k(t.status)),children:t.status})]}),(0,s.jsxs)("div",{className:"flex items-center mt-1 text-xs text-gray-500 dark:text-gray-400",children:[(0,s.jsx)("span",{className:"font-medium",children:t.agentType}),(0,s.jsx)("span",{className:"mx-1.5",children:"in"}),(0,s.jsx)("span",{className:"text-blue-600 dark:text-blue-400 truncate",children:t.repository})]}),(0,s.jsxs)("div",{className:"flex items-center mt-1",children:[(0,s.jsx)("span",{className:"text-xs text-gray-400 dark:text-gray-500",children:a}),t.duration&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"mx-1.5 text-gray-300 dark:text-gray-600",children:"|"}),(0,s.jsxs)("span",{className:"text-xs text-gray-400 dark:text-gray-500",children:[t.duration,"s"]})]})]}),t.details&&(0,s.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400 line-clamp-2",children:t.details})]})]})}function f(e){let{activities:t,isLoading:a}=e;return(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,s.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Recent Activity"}),(0,s.jsx)("button",{className:"text-sm text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300",children:"View all"})]})}),(0,s.jsx)("div",{className:"p-3 max-h-[500px] overflow-y-auto",children:a?(0,s.jsx)(b,{}):0===t.length?(0,s.jsxs)("div",{className:"text-center py-8",children:[(0,s.jsx)("svg",{className:"w-12 h-12 mx-auto text-gray-400 dark:text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),(0,s.jsx)("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"No recent activity"})]}):(0,s.jsx)("div",{className:"space-y-1",children:t.map(e=>(0,s.jsx)(j,{activity:e},e.id))})})]})}function w(){return(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(e=>(0,s.jsxs)("div",{className:"animate-pulse bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-gray-200 dark:bg-gray-700 rounded-full"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4 mb-2"}),(0,s.jsx)("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-1/2"})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded"}),(0,s.jsx)("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-4/5"})]})]},e))})}function N(e){let{agent:t}=e,a=function(e){switch(e){case"online":return{color:"bg-green-500",label:"Online"};case"busy":return{color:"bg-yellow-500",label:"Busy"};case"offline":return{color:"bg-gray-400",label:"Offline"};case"error":return{color:"bg-red-500",label:"Error"};default:return{color:"bg-gray-400",label:"Unknown"}}}(t.status),r=function(e){let t={coordinator:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01",code_gen:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4",review:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z",pr:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4",issue:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z",deployment:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12",refresher:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15",business:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"};return t[e]||t.coordinator}(t.type);return(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700 hover:shadow-md transition-shadow",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"p-2.5 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:(0,s.jsx)("svg",{className:"w-5 h-5 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:r})})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:t.name}),(0,s.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 capitalize",children:t.type.replace("_"," ")})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("span",{className:"w-2.5 h-2.5 rounded-full ".concat(a.color)}),(0,s.jsx)("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:a.label})]})]}),t.currentTask&&(0,s.jsx)("div",{className:"mb-3 p-2 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg",children:(0,s.jsxs)("p",{className:"text-xs text-yellow-700 dark:text-yellow-400 truncate",children:["Current: ",t.currentTask]})}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Executions"}),(0,s.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:t.executionCount})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Success Rate"}),(0,s.jsxs)("span",{className:"font-medium text-green-600 dark:text-green-400",children:[t.successRate.toFixed(1),"%"]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Avg Time"}),(0,s.jsxs)("span",{className:"font-medium text-gray-900 dark:text-white",children:[t.avgExecutionTime,"s"]})]})]}),t.capabilities&&t.capabilities.length>0&&(0,s.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-100 dark:border-gray-700",children:(0,s.jsxs)("div",{className:"flex flex-wrap gap-1",children:[t.capabilities.slice(0,3).map(e=>(0,s.jsx)("span",{className:"px-2 py-0.5 text-xs bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 rounded-full",children:e},e)),t.capabilities.length>3&&(0,s.jsxs)("span",{className:"px-2 py-0.5 text-xs text-gray-400 dark:text-gray-500",children:["+",t.capabilities.length-3]})]})})]})}function C(e){let{agents:t,isLoading:a}=e,r=t.filter(e=>"online"===e.status).length,n=t.filter(e=>"busy"===e.status).length;return(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,s.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Agent Status"}),(0,s.jsxs)("div",{className:"flex items-center space-x-4 text-sm",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,s.jsx)("span",{className:"w-2 h-2 rounded-full bg-green-500"}),(0,s.jsxs)("span",{className:"text-gray-600 dark:text-gray-400",children:[r," Online"]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,s.jsx)("span",{className:"w-2 h-2 rounded-full bg-yellow-500"}),(0,s.jsxs)("span",{className:"text-gray-600 dark:text-gray-400",children:[n," Busy"]})]})]})]})}),(0,s.jsx)("div",{className:"p-6",children:a?(0,s.jsx)(w,{}):0===t.length?(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("svg",{className:"w-16 h-16 mx-auto text-gray-400 dark:text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),(0,s.jsx)("p",{className:"mt-4 text-gray-500 dark:text-gray-400",children:"No agents available"})]}):(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(e=>(0,s.jsx)(N,{agent:e},e.id))})})]})}function M(){return(0,s.jsx)("div",{className:"space-y-3",children:[1,2,3,4,5].map(e=>(0,s.jsxs)("div",{className:"animate-pulse flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("div",{className:"w-3 h-3 bg-gray-200 dark:bg-gray-600 rounded-full"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("div",{className:"h-4 bg-gray-200 dark:bg-gray-600 rounded w-48"}),(0,s.jsx)("div",{className:"h-3 bg-gray-200 dark:bg-gray-600 rounded w-32"})]})]}),(0,s.jsx)("div",{className:"h-6 w-16 bg-gray-200 dark:bg-gray-600 rounded"})]},e))})}function L(e){var t;let{task:a}=e,r=(t=a.priority)<=1?{color:"bg-red-500",label:"Critical"}:t<=2?{color:"bg-orange-500",label:"High"}:t<=3?{color:"bg-yellow-500",label:"Medium"}:{color:"bg-green-500",label:"Low"},n=(0,v.Q)(new Date(a.createdAt),{addSuffix:!0});return(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(r.color),title:r.label}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-gray-900 dark:text-white",children:a.title}),(0,s.jsxs)("div",{className:"flex items-center mt-1 text-xs text-gray-500 dark:text-gray-400 space-x-2",children:[(0,s.jsx)("span",{className:"capitalize",children:a.type}),a.repository&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"hidden sm:inline",children:"|"}),(0,s.jsx)("span",{className:"hidden sm:inline",children:a.repository})]}),(0,s.jsx)("span",{children:"|"}),(0,s.jsx)("span",{children:n})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[void 0!==a.progress&&"running"===a.status&&(0,s.jsxs)("div",{className:"hidden sm:flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"w-20 h-1.5 bg-gray-200 dark:bg-gray-600 rounded-full overflow-hidden",children:(0,s.jsx)("div",{className:"h-full bg-blue-600 dark:bg-blue-400 rounded-full",style:{width:"".concat(a.progress,"%")}})}),(0,s.jsxs)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[a.progress,"%"]})]}),(0,s.jsx)("span",{className:"px-2.5 py-1 text-xs font-medium rounded-full ".concat(function(e){switch(e){case"completed":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";case"running":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400";case"failed":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400";case"pending":case"queued":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-400"}}(a.status)),children:a.status}),(0,s.jsx)("button",{className:"p-1.5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600",children:(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})})})]})]})}function S(e){let{tasks:t,total:a,isLoading:n,onRefresh:l}=e,[i,d]=(0,r.useState)("all"),o="all"===i?t:t.filter(e=>e.status===i);return(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,s.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Tasks"}),(0,s.jsxs)("span",{className:"px-2 py-0.5 text-xs font-medium bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 rounded-full",children:[a," total"]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"flex bg-gray-100 dark:bg-gray-700 rounded-lg p-1",children:[{value:"all",label:"All"},{value:"running",label:"Running"},{value:"pending",label:"Pending"},{value:"completed",label:"Completed"},{value:"failed",label:"Failed"}].map(e=>(0,s.jsx)("button",{onClick:()=>d(e.value),className:"px-3 py-1 text-xs font-medium rounded-md transition-colors ".concat(i===e.value?"bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"),children:e.label},e.value))}),l&&(0,s.jsx)("button",{onClick:l,className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]})]})}),(0,s.jsx)("div",{className:"p-4",children:n?(0,s.jsx)(M,{}):0===o.length?(0,s.jsxs)("div",{className:"text-center py-8",children:[(0,s.jsx)("svg",{className:"w-12 h-12 mx-auto text-gray-400 dark:text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})}),(0,s.jsx)("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"all"===i?"No tasks found":"No ".concat(i," tasks")})]}):(0,s.jsx)("div",{className:"space-y-2",children:o.map(e=>(0,s.jsx)(L,{task:e},e.id))})})]})}var A=a(2386),E=a(5505);let T={enabled:!0,soundEnabled:!1,showAgentExecutionStarted:!0,showAgentExecutionCompleted:!0,showAgentExecutionFailed:!0,showTaskStatusChanged:!0};function R(e){try{let t=window.AudioContext||window.webkitAudioContext;if(!t)return;let a=new t,s=a.createOscillator(),r=a.createGain();s.connect(r),r.connect(a.destination);let n={success:523.25,error:261.63,info:392};s.frequency.value=n[e]||n.info,s.type="sine",r.gain.setValueAtTime(.1,a.currentTime),r.gain.exponentialRampToValueAtTime(.01,a.currentTime+.3),s.start(a.currentTime),s.stop(a.currentTime+.3)}catch(e){}}function I(e){let{value:t,onChange:a}=e;return(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Refresh:"}),(0,s.jsx)("select",{value:t,onChange:e=>a(Number(e.target.value)),className:"px-2 py-1 text-sm rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300",children:[{value:1e4,label:"10s"},{value:3e4,label:"30s"},{value:6e4,label:"1m"},{value:3e5,label:"5m"}].map(e=>(0,s.jsx)("option",{value:e.value,children:e.label},e.value))})]})}function B(e){let{title:t,description:a,icon:r,href:n}=e;return(0,s.jsx)("a",{href:n,className:"group p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center text-blue-600 dark:text-blue-400 group-hover:bg-blue-200 dark:group-hover:bg-blue-900/50 transition-colors",children:r}),(0,s.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:t}),(0,s.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:a})]})]})})}function D(){!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,{addToast:t}=(0,E.pm)(),a=(0,r.useCallback)(a=>{if(e.enabled){switch(a.type){case"agent_execution_started":e.showAgentExecutionStarted&&t({type:"info",title:"Agent Execution Started",message:"".concat(a.payload.agent_type," started on ").concat(a.payload.repository||"unknown repo")});break;case"agent_execution_completed":e.showAgentExecutionCompleted&&t({type:"success",title:"Agent Execution Completed",message:"".concat(a.payload.agent_type," completed successfully")});break;case"agent_execution_failed":e.showAgentExecutionFailed&&t({type:"error",title:"Agent Execution Failed",message:"".concat(a.payload.agent_type," failed: ").concat(a.payload.message||"Unknown error"),duration:1e4});break;case"task_status_changed":if(e.showTaskStatusChanged){var s;t({type:{pending:"info",queued:"info",running:"info",completed:"success",failed:"error",cancelled:"warning"}[a.payload.status||"info"]||"info",title:"Task Status Changed",message:"Task ".concat((null===(s=a.payload.task_id)||void 0===s?void 0:s.slice(0,8))||"unknown"," is now ").concat(a.payload.status)})}break;case"system_notification":t({type:"info",title:"System Notification",message:a.payload.message||"New notification"})}e.soundEnabled&&a.type.includes("failed")?R("error"):e.soundEnabled&&a.type.includes("completed")&&R("success")}},[t,e]);(0,m.uE)("all",a,[a])}({enabled:!0,showAgentExecutionStarted:!0,showAgentExecutionCompleted:!0,showAgentExecutionFailed:!0,showTaskStatusChanged:!0});let[e,t]=(0,r.useState)(3e4),{summary:a,isLoading:l,error:h}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{refreshInterval:t=3e4,fallbackToMock:a=!0}=e,[s,n]=(0,r.useState)(null),[l,d]=(0,r.useState)(!0),[o,x]=(0,r.useState)(null),u=(0,r.useRef)(!0),g=(0,r.useCallback)(async()=>{try{let e=await i.getSummary();u.current&&(n(e),x(null))}catch(e){u.current&&(x(e instanceof Error?e:Error("Failed to fetch summary")),a&&n(c))}finally{u.current&&d(!1)}},[a]);return(0,r.useEffect)(()=>{u.current=!0,g();let e=setInterval(g,t);return()=>{u.current=!1,clearInterval(e)}},[g,t]),{summary:s,isLoading:l,error:o,refetch:g}}({refreshInterval:e,fallbackToMock:!0}),{activities:p,isLoading:v}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{refreshInterval:t=3e4,fallbackToMock:a=!0,limit:s=20}=e,[n,l]=(0,r.useState)([]),[d,o]=(0,r.useState)(!0),[c,u]=(0,r.useState)(null),g=(0,r.useRef)(!0),m=(0,r.useCallback)(async()=>{try{let e=await i.getRecentActivities({limit:s});g.current&&(l(e.activities),u(null))}catch(e){g.current&&(u(e instanceof Error?e:Error("Failed to fetch activities")),a&&l(x.slice(0,s)))}finally{g.current&&o(!1)}},[a,s]);return(0,r.useEffect)(()=>{g.current=!0,m();let e=setInterval(m,t);return()=>{g.current=!1,clearInterval(e)}},[m,t]),{activities:n,isLoading:d,error:c,refetch:m}}({refreshInterval:e,fallbackToMock:!0,limit:15}),{agents:b,isLoading:k}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{refreshInterval:t=3e4,fallbackToMock:a=!0}=e,[s,n]=(0,r.useState)([]),[l,i]=(0,r.useState)(!0),[d,c]=(0,r.useState)(null),x=(0,r.useRef)(!0),g=(0,r.useCallback)(async()=>{try{let e=await o.list();x.current&&(n(e),c(null))}catch(e){x.current&&(c(e instanceof Error?e:Error("Failed to fetch agents")),a&&n(u))}finally{x.current&&i(!1)}},[a]);return(0,r.useEffect)(()=>{x.current=!0,g();let e=setInterval(g,t);return()=>{x.current=!1,clearInterval(e)}},[g,t]),{agents:s,isLoading:l,error:d,refetch:g}}({refreshInterval:e,fallbackToMock:!0}),{tasks:j,total:w,isLoading:N,refetch:M}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{refreshInterval:t=3e4,fallbackToMock:a=!0,limit:s=20}=e,[n,l]=(0,r.useState)([]),[i,o]=(0,r.useState)(0),[c,x]=(0,r.useState)(!0),[u,m]=(0,r.useState)(null),h=(0,r.useRef)(!0),p=(0,r.useCallback)(async()=>{try{let e=await d.list({limit:s});h.current&&(l(e.tasks),o(e.total),m(null))}catch(e){h.current&&(m(e instanceof Error?e:Error("Failed to fetch tasks")),a&&(l(g.slice(0,s)),o(g.length)))}finally{h.current&&x(!1)}},[a,s]);return(0,r.useEffect)(()=>{h.current=!0,p();let e=setInterval(p,t);return()=>{h.current=!1,clearInterval(e)}},[p,t]),{tasks:n,total:i,isLoading:c,error:u,refetch:p}}({refreshInterval:e,fallbackToMock:!0,limit:10}),[L,D]=(0,r.useState)(null);return(0,r.useEffect)(()=>{l||D(new Date)},[l,a]),(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,s.jsx)("div",{className:"bg-gradient-to-r from-blue-900 to-indigo-800 text-white py-8 px-4",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,s.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl md:text-3xl font-bold mb-1",children:"Operations Dashboard"}),(0,s.jsx)("p",{className:"text-blue-200",children:"Monitor agent executions, tasks, and system health"})]}),(0,s.jsxs)("div",{className:"mt-4 md:mt-0 flex flex-col sm:flex-row sm:items-center gap-4",children:[(0,s.jsx)(A.id,{showLastUpdate:!0,className:"text-white"}),(0,s.jsx)(I,{value:e,onChange:t})]})]})})}),(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4 mb-6 overflow-x-auto",children:[(0,s.jsx)(n.default,{href:"/dashboard",className:"px-4 py-2 text-sm font-medium text-blue-600 dark:text-blue-400 border-b-2 border-blue-600 dark:border-blue-400",children:"Overview"}),(0,s.jsx)(n.default,{href:"/miyabi-integration",className:"px-4 py-2 text-sm font-medium text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white",children:"Miyabi Integration"}),(0,s.jsx)(n.default,{href:"/advisors",className:"px-4 py-2 text-sm font-medium text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white",children:"Advisors"}),(0,s.jsx)(n.default,{href:"/divisions",className:"px-4 py-2 text-sm font-medium text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white",children:"Divisions"})]}),(0,s.jsx)("div",{className:"mb-6",children:(0,s.jsx)(y,{summary:a,isLoading:l})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[(0,s.jsx)("div",{className:"lg:col-span-2",children:(0,s.jsx)(S,{tasks:j,total:w,isLoading:N,onRefresh:M})}),(0,s.jsx)("div",{children:(0,s.jsx)(f,{activities:p,isLoading:v})})]}),(0,s.jsx)("div",{className:"mb-6",children:(0,s.jsx)(C,{agents:b,isLoading:k})}),(0,s.jsx)("section",{className:"mt-8",children:(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Quick Actions"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[(0,s.jsx)(B,{title:"Create Issue Task",description:"Assign an agent to work on a GitHub issue",icon:(0,s.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),href:"/dashboard/tasks/new?type=issue"}),(0,s.jsx)(B,{title:"Review PR",description:"Start an automated code review",icon:(0,s.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})}),href:"/dashboard/tasks/new?type=review"}),(0,s.jsx)(B,{title:"Deploy",description:"Trigger a deployment workflow",icon:(0,s.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),href:"/dashboard/tasks/new?type=deployment"}),(0,s.jsx)(B,{title:"View Agents",description:"See all agent statuses",icon:(0,s.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),href:"/agents"})]})]})})]})]})}}},function(e){e.O(0,[972,906,464,839,971,117,744],function(){return e(e.s=5494)}),_N_E=e.O()}]);