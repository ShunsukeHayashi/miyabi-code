# Plans for Issue #396

**Title**: ğŸ¯ SWE-bench Proè©•ä¾¡å®Ÿè£… - ä¸–ç•Œæ¨™æº–ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ã§ã®Miyabiæ€§èƒ½æ¸¬å®š

**URL**: https://github.com/customer-cloud/miyabi-private/issues/396

---

## ğŸ“‹ Summary

- **Total Tasks**: 4
- **Estimated Duration**: 60 minutes
- **Execution Levels**: 4
- **Has Cycles**: âœ… No

## ğŸ“ Task Breakdown

### 1. Analyze requirements for #396

- **ID**: `task-396-analysis`
- **Type**: Docs
- **Assigned Agent**: IssueAgent
- **Priority**: 0
- **Estimated Duration**: 5 min

**Description**: Analyze issue requirements and create detailed specification

### 2. Implement solution for #396

- **ID**: `task-396-impl`
- **Type**: Feature
- **Assigned Agent**: CodeGenAgent
- **Priority**: 1
- **Estimated Duration**: 30 min
- **Dependencies**: task-396-analysis

**Description**: ## ğŸ¯ ç›®çš„

**Miyabiè‡ªå¾‹é–‹ç™ºãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®æ€§èƒ½ã‚’ä¸–ç•Œæ¨™æº–ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ã§æ¸¬å®šã—ã€æ¥­ç•Œæ¨™æº–ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã«100%æº–æ‹ ã—ãŸè©•ä¾¡ã‚’å®Ÿæ–½ã™ã‚‹**

### è©•ä¾¡å¯¾è±¡ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯
1. **SWE-bench Pro** - ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°æ€§èƒ½ï¼ˆæœ¬Issueï¼‰
2. **AgentBench** - ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆæ€§èƒ½ï¼ˆåˆ¥Issue #384ã§èª¿æŸ»ï¼‰

---

## ğŸŒ ä¸–ç•Œæ¨™æº–æº–æ‹ ã®åŸå‰‡

### âœ… å¿…é ˆéµå®ˆäº‹é …

**1. å…¬å¼è©•ä¾¡ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®ä½¿ç”¨**
- âŒ ç‹¬è‡ªå®Ÿè£…ã«ã‚ˆã‚‹è©•ä¾¡ï¼ˆä¿¡é ¼æ€§ä½ã„ï¼‰
- âœ… Scale AIå…¬å¼ã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼ˆ`swe_bench_pro_eval.py`ï¼‰ã‚’ä½¿ç”¨
- âœ… å…¬å¼Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ä½¿ç”¨

**2. å…¬å¼ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã®ä½¿ç”¨**
- âœ… Resolve Rateï¼ˆè§£æ±ºç‡ï¼‰
- âœ… fail-to-passï¼ˆå¤±æ•—â†’æˆåŠŸãƒ†ã‚¹ãƒˆæ•°ï¼‰
- âœ… pass-to-passï¼ˆæ—¢å­˜ãƒ†ã‚¹ãƒˆç¶­æŒæ•°ï¼‰
- âŒ ç‹¬è‡ªãƒ¡ãƒˆãƒªã‚¯ã‚¹ï¼ˆå‚è€ƒå€¤ã®ã¿ï¼‰

**3. å…¬å¼ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã®ä½¿ç”¨**
- âœ… HuggingFaceå…¬å¼: `ScaleAI/SWE-bench_Pro`
- âœ… test split: 731ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹
- âŒ ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã®æ”¹å¤‰ãƒ»ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°

**4. å…¬å¼ãƒ‘ãƒƒãƒãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã®ä½¿ç”¨**
```json
{
  "instance_id": "repo__issue-123",
  "model_patch": "diff --git a/file.py b/file.py\n+added line\n-removed line",
  "model_name_or_path": "miyabi-v1.0.0"
}
```

**5. å†ç¾å¯èƒ½æ€§ã®ç¢ºä¿**
- âœ… è©•ä¾¡ç’°å¢ƒã®å®Œå…¨ãªãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆåŒ–
- âœ… å†ç¾ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®å…¬é–‹
- âœ… ãƒ©ãƒ³ãƒ€ãƒ ã‚·ãƒ¼ãƒ‰ã®å›ºå®š
- âœ… ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ï¼ˆRust, Docker, Modal, Pythonï¼‰

---

## ğŸ“Š SWE-bench Proæ¦‚è¦

### åŸºæœ¬æƒ…å ±
- **å…¬å¼ã‚µã‚¤ãƒˆ**: https://scale.com/leaderboard/swe_bench_pro_public
- **ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆ**: https://huggingface.co/datasets/ScaleAI/SWE-bench_Pro
- **GitHubãƒªãƒã‚¸ãƒˆãƒª**: https://github.com/scaleapi/SWE-bench_Pro-os
- **è«–æ–‡**: https://arxiv.org/abs/2509.16941

### ãƒˆãƒƒãƒ—ãƒ¢ãƒ‡ãƒ«ï¼ˆ2025å¹´10æœˆæ™‚ç‚¹ï¼‰
1. **Claude 4.5 Sonnet**: 43.60% Â± 3.60
2. **Claude 4 Sonnet**: 42.70% Â± 3.59
3. **Claude 4.5 Haiku**: 39.45% Â± 3.55
4. **GPT-5 2025-08-07**: 36.30% Â± 3.49
5. **Kimi K2-Instruct**: 27.67% Â± 3.25

### ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆæ§‹æˆ
- **ç·æ•°**: 1,865ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ï¼ˆ41ãƒªãƒã‚¸ãƒˆãƒªï¼‰
  - å…¬é–‹ã‚»ãƒƒãƒˆ: 731ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ï¼ˆ11ãƒªãƒã‚¸ãƒˆãƒªï¼‰ â† **è©•ä¾¡å¯¾è±¡**
  - å•†ç”¨ã‚»ãƒƒãƒˆ: 276ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ï¼ˆéå…¬é–‹ã‚³ãƒ¼ãƒ‰ï¼‰
  - ä¿ç•™ã‚»ãƒƒãƒˆ: 858ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ï¼ˆæœªå…¬é–‹ï¼‰

### è¨€èªåˆ†å¸ƒ
- Python
- Go
- JavaScript/TypeScript

### è©•ä¾¡æŒ‡æ¨™
```
Resolve Rate = (fail-to-passæˆåŠŸ AND pass-to-passæˆåŠŸ) / ç·ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹æ•°

æ¡ä»¶ï¼š
1. fail-to-pass: æŒ‡å®šã•ã‚ŒãŸãƒ†ã‚¹ãƒˆãŒå¤±æ•—â†’æˆåŠŸã«å¤‰ã‚ã‚‹
2. pass-to-pass: æ—¢å­˜ã®ã™ã¹ã¦ã®ãƒ†ã‚¹ãƒˆãŒå¼•ãç¶šãæˆåŠŸ
```

---

## ğŸ—ºï¸ å®Ÿè£…è¨ˆç”»ï¼ˆä¸–ç•Œæ¨™æº–æº–æ‹ ï¼‰

### Phase 1: å…¬å¼è©•ä¾¡ç’°å¢ƒã®æ§‹ç¯‰ï¼ˆ1é€±é–“ï¼‰

**ç›®æ¨™**: Scale AIå…¬å¼ã®è©•ä¾¡ç’°å¢ƒã‚’å®Œå…¨ã«å†ç¾

**ã‚¿ã‚¹ã‚¯**:
- [ ] Dockerç’°å¢ƒæ§‹ç¯‰
  ```bash
  # å…¬å¼Dockerfileä½¿ç”¨
  docker pull scaleai/swebench-pro:latest
  ```
- [ ] Modalç’°å¢ƒæ§‹ç¯‰
  ```bash
  pip install modal
  modal setup
  # èªè¨¼æƒ…å ±: ~/.modal.toml
  ```
- [ ] Pythonç’°å¢ƒæ§‹ç¯‰
  ```bash
  pip install datasets
  pip install -r requirements.txt
  ```
- [ ] å…¬å¼è©•ä¾¡ã‚¹ã‚¯ãƒªãƒ—ãƒˆå–å¾—
  ```bash
  git clone https://github.com/scaleapi/SWE-bench_Pro-os.git
  cd SWE-bench_Pro-os
  ```
- [ ] ã‚µãƒ³ãƒ—ãƒ«è©•ä¾¡å®Ÿè¡Œï¼ˆå…¬å¼æä¾›ã®gold patchã§æ¤œè¨¼ï¼‰
  ```bash
  python swe_bench_pro_eval.py \
    --raw_sample_path=external_hf_v2.csv \
    --patch_path=gold_patches.json \
    --output_dir=results/ \
    --num_workers=10
  ```

**æˆåŠŸåŸºæº–**:
- âœ… å…¬å¼gold patchã§100%ã®è§£æ±ºç‡ã‚’é”æˆ
- âœ… Dockerã‚³ãƒ³ãƒ†ãƒŠãŒæ­£å¸¸ã«å‹•ä½œ
- âœ… Modalã§ä¸¦åˆ—å®Ÿè¡ŒãŒæˆåŠŸ

**æˆæœç‰©**:
- `docs/EVALUATION_ENVIRONMENT_SETUP.md` - ç’°å¢ƒæ§‹ç¯‰æ‰‹é †
- `docker-compose.yml` - Dockeræ§‹æˆ
- `scripts/verify_environment.sh` - ç’°å¢ƒæ¤œè¨¼ã‚¹ã‚¯ãƒªãƒ—ãƒˆ

---

### Phase 2: ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆçµ±åˆï¼ˆ1é€±é–“ï¼‰

**ç›®æ¨™**: HuggingFaceã‹ã‚‰å…¬å¼ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã‚’å–å¾—ã—ã€Miyabiå½¢å¼ã«å¤‰æ›

**ã‚¿ã‚¹ã‚¯**:
- [ ] HuggingFace Datasets APIçµ±åˆ
  ```python
  from datasets import load_dataset
  swebench_pro = load_dataset('ScaleAI/SWE-bench_Pro', split='test')
  print(f"Total instances: {len(swebench_pro)}")  # 731
  ```
- [ ] ãƒ‡ãƒ¼ã‚¿æ§‹é€ ãƒãƒƒãƒ”ãƒ³ã‚°ï¼ˆ**å…¬å¼ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå³å®ˆ**ï¼‰
  ```rust
  // crates/miyabi-types/src/benchmark.rs
  #[derive(Serialize, Deserialize, Debug, Clone)]
  pub struct SWEBenchInstance {
      pub instance_id: String,           // å…¬å¼IDï¼ˆå¤‰æ›´ç¦æ­¢ï¼‰
      pub repo: String,                  // ãƒªãƒã‚¸ãƒˆãƒªå
      pub base_commit: String,           // 40æ–‡å­—ã®ã‚³ãƒŸãƒƒãƒˆãƒãƒƒã‚·ãƒ¥
      pub problem_statement: String,     // Issueèª¬æ˜
      pub patch: String,                 // æ­£è§£ãƒ‘ãƒƒãƒï¼ˆæ¤œè¨¼ç”¨ï¼‰
      pub test_patch: String,            // ãƒ†ã‚¹ãƒˆãƒ‘ãƒƒãƒ
      pub fail_to_pass: Vec<String>,     // æˆåŠŸã™ã¹ããƒ†ã‚¹ãƒˆ
      pub pass_to_pass: Vec<String>,     // ç¶­æŒã™ã¹ããƒ†ã‚¹ãƒˆ
  }
  ```
- [ ] ãƒ‡ãƒ¼ã‚¿ãƒ­ãƒ¼ãƒ€ãƒ¼å®Ÿè£…
- [ ] 10ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã§ã®ãƒ†ã‚¹ãƒˆãƒ­ãƒ¼ãƒ‰ç¢ºèª
- [ ] å…¨731ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ãƒ­ãƒ¼ãƒ‰ç¢ºèª

**æˆåŠŸåŸºæº–**:
- âœ… 731ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã™ã¹ã¦ã‚’ãƒ­ãƒ¼ãƒ‰å¯èƒ½
- âœ… instance_idãŒå…¬å¼ã¨å®Œå…¨ä¸€è‡´
- âœ… ãƒ‡ãƒ¼ã‚¿æ¬ æ0ä»¶

**æˆæœç‰©**:
- `crates/miyabi-benchmark/src/dataset.rs`
- `crates/miyabi-types/src/benchmark.rs`
- ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿: `tests/fixtures/swebench_sample.json`

---

### Phase 3: Miyabiè©•ä¾¡ãƒ©ãƒƒãƒ‘ãƒ¼å®Ÿè£…ï¼ˆ2é€±é–“ï¼‰

**ç›®æ¨™**: Miyabiã§å„ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’å‡¦ç†ã—ã€**å…¬å¼ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆæº–æ‹ ã®ãƒ‘ãƒƒãƒ**ã‚’ç”Ÿæˆ

**ã‚¿ã‚¹ã‚¯**:
- [ ] `miyabi-benchmark` crateä½œæˆ
  ```bash
  cargo new --lib crates/miyabi-benchmark
  ```
- [ ] `SWEBenchProEvaluator` structå®Ÿè£…
  ```rust
  pub struct SWEBenchProEvaluator {
      coordinator: CoordinatorAgent,
      worktree_manager: WorktreeManager,
      config: BenchmarkConfig,
  }
  
  impl SWEBenchProEvaluator {
      pub async fn evaluate_instance(&self, instance: SWEBenchInstance) -> Result<PatchOutput> {
          // 1. Worktreeä½œæˆï¼ˆbase_commitã§checkoutï¼‰
          let wt = self.worktree_manager.create(&instance.repo, &instance.base_commit)?;
          
          // 2. CoordinatorAgentå®Ÿè¡Œ
          let result = self.coordinator.execute_in_worktree(&wt, &instance.problem_statement).await?;
          
          // 3. git diff --unified=3ã§ãƒ‘ãƒƒãƒç”Ÿæˆï¼ˆå…¬å¼ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆï¼‰
          let patch = self.generate_official_patch(&wt, &instance.base_commit)?;
          
          // 4. å…¬å¼JSONå½¢å¼ã§å‡ºåŠ›
          Ok(PatchOutput {
              instance_id: instance.instance_id.clone(),
              model_patch: patch,
              model_name_or_path: "miyabi-v1.0.0".to_string(),
          })
      }
      
      fn generate_official_patch(&self, wt: &Worktree, base_commit: &str) -> Result<String> {
          // unified diffå½¢å¼ï¼ˆå…¬å¼ã¨å®Œå…¨ä¸€è‡´ï¼‰
          let output = Command::new("git")
              .args(&["diff", "--unified=3", base_commit, "HEAD"])
              .current_dir(&wt.path)
              .output()?;
          
          Ok(String::from_utf8(output.stdout)?)
      }
  }
  ```
- [ ] ãƒ‘ãƒƒãƒãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆæ¤œè¨¼
  ```rust
  pub fn validate_patch_format(patch: &str) -> Result<()> {
      // unified diffå½¢å¼ã®æ¤œè¨¼
      // - "diff --git"ã§å§‹ã¾ã‚‹
      // - "@@"ã§ãƒãƒ£ãƒ³ã‚¯ãŒå®šç¾©ã•ã‚Œã‚‹
      // - "+"/"-"ã§å¤‰æ›´ãŒç¤ºã•ã‚Œã‚‹
  }
  ```
- [ ] ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆå‡¦ç†ï¼ˆ30åˆ†/ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ï¼‰
- [ ] ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

**æˆåŠŸåŸºæº–**:
- âœ… ãƒ‘ãƒƒãƒãŒå…¬å¼ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã¨å®Œå…¨ä¸€è‡´
- âœ… JSONå‡ºåŠ›ãŒå…¬å¼ã‚¹ã‚­ãƒ¼ãƒã«æº–æ‹ 
- âœ… 10ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã§æ­£å¸¸å‹•ä½œ

**æˆæœç‰©**:
- `crates/miyabi-benchmark/src/evaluator.rs`
- `crates/miyabi-benchmark/src/patch.rs`
- å˜ä½“ãƒ†ã‚¹ãƒˆ: `crates/miyabi-benchmark/tests/evaluator_test.rs`

---

### Phase 4: ãƒ‘ã‚¤ãƒ­ãƒƒãƒˆè©•ä¾¡ï¼ˆ1é€±é–“ï¼‰

**ç›®æ¨™**: 10ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã§è©•ä¾¡ã‚’å®Ÿè¡Œã—ã€**å…¬å¼è©•ä¾¡ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§æ¤œè¨¼**

**ã‚¿ã‚¹ã‚¯**:
- [ ] ã‚µãƒ³ãƒ—ãƒ«é¸å®šï¼ˆè¨€èªãƒãƒ©ãƒ³ã‚¹è€ƒæ…®ï¼‰
  - Python: 5ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹
  - Go: 3ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹
  - JS/TS: 2ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹
- [ ] Miyabiè©•ä¾¡å®Ÿè¡Œ
  ```bash
  cargo run --bin miyabi-benchmark -- \
    --dataset swebench_pro \
    --instances 10 \
    --output results/pilot_patches.json \
    --concurrency 2
  ```
- [ ] å…¬å¼è©•ä¾¡ã‚¹ã‚¯ãƒªãƒ—ãƒˆå®Ÿè¡Œ
  ```bash
  python swe_bench_pro_eval.py \
    --raw_sample_path=external_hf_v2.csv \
    --patch_path=results/pilot_patches.json \
    --output_dir=results/pilot/ \
    --num_workers=10 \
    --dockerhub_username=jefzda
  ```
- [ ] çµæœæ¤œè¨¼
  - âœ… fail-to-passã®è¨ˆç®—ãŒæ­£ç¢º
  - âœ… pass-to-passã®è¨ˆç®—ãŒæ­£ç¢º
  - âœ… Resolve Rateã®è¨ˆç®—ãŒæ­£ç¢º
  - âœ… ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®åé›†
- [ ] å•é¡Œç‚¹ã®ä¿®æ­£

**æˆåŠŸåŸºæº–**:
- âœ… 10ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã™ã¹ã¦ãŒè©•ä¾¡å®Œäº†
- âœ… å…¬å¼ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§ã‚¨ãƒ©ãƒ¼0ä»¶
- âœ… Resolve Rate > 5%ï¼ˆæœ€ä½1ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹æˆåŠŸï¼‰

**æˆæœç‰©**:
- `results/pilot_patches.json` - Miyabiç”Ÿæˆãƒ‘ãƒƒãƒ
- `results/pilot/evaluation_results.json` - å…¬å¼è©•ä¾¡çµæœ
- `docs/PILOT_EVALUATION_REPORT.md` - ãƒ‘ã‚¤ãƒ­ãƒƒãƒˆè©•ä¾¡ãƒ¬ãƒãƒ¼ãƒˆ

---

### Phase 5: ãƒ•ãƒ«ã‚¹ã‚±ãƒ¼ãƒ«è©•ä¾¡ï¼ˆ4é€±é–“ï¼‰

**ç›®æ¨™**: 731ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹å…¨ä½“ã§è©•ä¾¡ã‚’å®Ÿè¡Œï¼ˆ**ä¸–ç•Œæ¨™æº–ãƒ—ãƒ­ãƒˆã‚³ãƒ«æº–æ‹ **ï¼‰

**è©•ä¾¡ãƒ—ãƒ­ãƒˆã‚³ãƒ«ï¼ˆå…¬å¼æº–æ‹ ï¼‰**:

```yaml
# evaluation_protocol.yml
dataset:
  source: "huggingface:ScaleAI/SWE-bench_Pro"
  split: "test"
  total_instances: 731

environment:
  docker_image: "scaleai/swebench-pro:latest"
  modal_version: "latest"
  python_version: "3.8+"

execution:
  concurrency: 5
  timeout_per_instance: 1800  # 30åˆ†
  retry_on_failure: false  # å…¬å¼æº–æ‹ ï¼ˆãƒªãƒˆãƒ©ã‚¤ãªã—ï¼‰

evaluation:
  script: "swe_bench_pro_eval.py"
  metrics:
    - resolve_rate
    - fail_to_pass
    - pass_to_pass
  output_format: "json"

model:
  name: "miyabi"
  version: "v1.0.0"
  type: "autonomous_development_framework"
```

**ã‚¿ã‚¹ã‚¯**:
- [ ] ä¸¦åˆ—å®Ÿè¡Œæœ€é©åŒ–ï¼ˆconcurrency=5ï¼‰
- [ ] è©•ä¾¡å®Ÿè¡Œ
  ```bash
  # Step 1: Miyabiã§ãƒ‘ãƒƒãƒç”Ÿæˆ
  cargo run --release --bin miyabi-benchmark -- \
    --dataset swebench_pro \
    --output results/full_patches.json \
    --concurrency 5 \
    --timeout 1800 \
    --protocol evaluation_protocol.yml
  
  # Step 2: å…¬å¼è©•ä¾¡ã‚¹ã‚¯ãƒªãƒ—ãƒˆå®Ÿè¡Œ
  python swe_bench_pro_eval.py \
    --raw_sample_path=external_hf_v2.csv \
    --patch_path=results/full_patches.json \
    --output_dir=results/full/ \
    --num_workers=50 \
    --dockerhub_username=jefzda
  ```
- [ ] é€²æ—ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°
- [ ] ä¸­é–“ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆï¼ˆ100ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã”ã¨ã«ä¿å­˜ï¼‰
- [ ] ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°åé›†

**è¨ˆç®—ãƒªã‚½ãƒ¼ã‚¹**:
- **æ™‚é–“**: 731ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ Ã— 30åˆ† = 365æ™‚é–“ â†’ ä¸¦åˆ—åº¦5ã§ **ç´„73æ™‚é–“ï¼ˆ3æ—¥é–“ï¼‰**
- **ã‚³ã‚¹ãƒˆ**: $0ï¼ˆãƒ­ãƒ¼ã‚«ãƒ«Claude Codeå®Ÿè¡Œï¼‰
- **ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸**: ç´„20GBï¼ˆãƒ­ã‚° + Worktree + Dockerï¼‰

**æˆæœç‰©**:
- `results/full_patches.json` - Miyabiç”Ÿæˆãƒ‘ãƒƒãƒï¼ˆ731ä»¶ï¼‰
- `results/full/evaluation_results.json` - å…¬å¼è©•ä¾¡çµæœ
- `logs/benchmark_YYYY-MM-DD.log` - å®Ÿè¡Œãƒ­ã‚°
- `evaluation_protocol.yml` - è©•ä¾¡ãƒ—ãƒ­ãƒˆã‚³ãƒ«å®šç¾©

---

### Phase 6: çµæœåˆ†æã¨ãƒªãƒ¼ãƒ€ãƒ¼ãƒœãƒ¼ãƒ‰æå‡ºï¼ˆ2é€±é–“ï¼‰

**ç›®æ¨™**: å…¬å¼ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã§çµæœã‚’åˆ†æã—ã€ä¸–ç•Œæ¨™æº–ã¨æ¯”è¼ƒå¯èƒ½ãªå½¢å¼ã§å…¬é–‹

**ã‚¿ã‚¹ã‚¯**:
- [ ] çµæœåˆ†æï¼ˆ**å…¬å¼ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã®ã¿ä½¿ç”¨**ï¼‰
  ```json
  {
    "model": "miyabi-v1.0.0",
    "dataset": "SWE-bench_Pro",
    "split": "test",
    "total_instances": 731,
    "metrics": {
      "resolve_rate": 0.XX,  // å…¬å¼ãƒ¡ãƒˆãƒªã‚¯ã‚¹
      "fail_to_pass": XXX,
      "pass_to_pass": XXX,
      "errors": XX
    },
    "breakdown": {
      "by_language": {
        "python": 0.XX,
        "go": 0.XX,
        "javascript": 0.XX,
        "typescript": 0.XX
      },
      "by_repository": { ... }
    },
    "comparison": {
      "claude_4_5_sonnet": 0.436,
      "gpt_5": 0.363,
      "miyabi": 0.XX
    }
  }
  ```
- [ ] ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ãƒ¬ãƒãƒ¼ãƒˆä½œæˆ
  - `docs/BENCHMARK_RESULTS.md` - å®Œå…¨ãªçµæœãƒ¬ãƒãƒ¼ãƒˆ
  - `docs/EVALUATION_METHODOLOGY.md` - è©•ä¾¡æ–¹æ³•ã®å®Œå…¨ãªãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
  - ã‚°ãƒ©ãƒ•ãƒ»ãƒãƒ£ãƒ¼ãƒˆç”Ÿæˆï¼ˆå…¬å¼ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã®ã¿ï¼‰
  - ç«¶åˆæ¯”è¼ƒè¡¨ï¼ˆClaude, GPT-5ç­‰ï¼‰
- [ ] å†ç¾ã‚¹ã‚¯ãƒªãƒ—ãƒˆå…¬é–‹
  ```bash
  # scripts/reproduce_evaluation.sh
  #!/bin/bash
  # SWE-bench Proè©•ä¾¡ã®å®Œå…¨ãªå†ç¾ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
  
  # 1. ç’°å¢ƒæ§‹ç¯‰
  ./scripts/setup_environment.sh
  
  # 2. Miyabiè©•ä¾¡å®Ÿè¡Œ
  cargo run --release --bin miyabi-benchmark -- \
    --dataset swebench_pro \
    --output results/full_patches.json \
    --concurrency 5
  
  # 3. å…¬å¼è©•ä¾¡å®Ÿè¡Œ
  python swe_bench_pro_eval.py \
    --patch_path=results/full_patches.json \
    --output_dir=results/full/
  
  # 4. çµæœåˆ†æ
  cargo run --bin miyabi-benchmark -- analyze results/full/
  ```
- [ ] ãƒªãƒ¼ãƒ€ãƒ¼ãƒœãƒ¼ãƒ‰æå‡º
  - **ã‚ªãƒ—ã‚·ãƒ§ãƒ³A**: Scale AIã«ç›´æ¥é€£çµ¡
    - Email: research@scale.com
    - ä»¶å: "SWE-bench Pro Leaderboard Submission - Miyabi Framework"
    - æ·»ä»˜: evaluation_results.json, methodology.pdf
  - **ã‚ªãƒ—ã‚·ãƒ§ãƒ³B**: arXivè«–æ–‡æŠ•ç¨¿
    - ã‚¿ã‚¤ãƒˆãƒ«: "Miyabi: Autonomous Development Framework for SWE-bench Pro"
    - ã‚«ãƒ†ã‚´ãƒª: cs.SE (Software Engineering)
  - **ã‚ªãƒ—ã‚·ãƒ§ãƒ³C**: GitHubå…¬é–‹ + ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£è©•ä¾¡
- [ ] ãƒ©ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ãƒšãƒ¼ã‚¸æ›´æ–°

**æˆæœç‰©**:
- `docs/BENCHMARK_RESULTS.md` - å®Œå…¨ãªãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯çµæœ
- `docs/EVALUATION_METHODOLOGY.md` - è©•ä¾¡æ–¹æ³•ã®å®Œå…¨ãªãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- `results/full/summary.json` - å…¬å¼ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã®ã‚µãƒãƒªãƒ¼
- `scripts/reproduce_evaluation.sh` - å†ç¾ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
- arXivè«–æ–‡ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

---

## ğŸ¯ æˆåŠŸåŸºæº–ï¼ˆä¸–ç•Œæ¨™æº–ãƒ™ãƒ¼ã‚¹ï¼‰

### æœ€ä½åŸºæº–ï¼ˆå¿…é”ï¼‰
- [ ] **731ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹100%è©•ä¾¡å®Œäº†**ï¼ˆå…¬å¼è©•ä¾¡ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§ã‚¨ãƒ©ãƒ¼0ä»¶ï¼‰
- [ ] **å…¬å¼Resolve Rateè¨ˆç®—ã¨å®Œå…¨ä¸€è‡´**
- [ ] **Resolve Rate â‰¥ 10%**ï¼ˆ73ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ä»¥ä¸ŠæˆåŠŸï¼‰
- [ ] **å†ç¾å¯èƒ½æ€§100%**ï¼ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ + ã‚¹ã‚¯ãƒªãƒ—ãƒˆå…¬é–‹ï¼‰

### ç›®æ¨™åŸºæº–ï¼ˆæ¨å¥¨ï¼‰
- [ ] **Resolve Rate 15-20%**ï¼ˆ110-146ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹æˆåŠŸï¼‰
- [ ] **è¨€èªåˆ¥ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®è©³ç´°åˆ†æ**
- [ ] **arXivè«–æ–‡æŠ•ç¨¿**

### ç†æƒ³åŸºæº–ï¼ˆæŒ‘æˆ¦ï¼‰
- [ ] **Resolve Rate â‰¥ 25%**ï¼ˆ183ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ä»¥ä¸ŠæˆåŠŸï¼‰
- [ ] **Scale AIãƒªãƒ¼ãƒ€ãƒ¼ãƒœãƒ¼ãƒ‰æ²è¼‰**
- [ ] **ãƒˆãƒƒãƒ—10å…¥ã‚Š**ï¼ˆæ¥­ç•ŒèªçŸ¥åº¦å‘ä¸Šï¼‰

---

## ğŸ“ è©•ä¾¡å“è³ªä¿è¨¼ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

### âœ… ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆæº–æ‹ 
- [ ] å…¬å¼HuggingFaceãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã‚’ä½¿ç”¨ï¼ˆæ”¹å¤‰ãªã—ï¼‰
- [ ] test split: 731ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã™ã¹ã¦ã‚’è©•ä¾¡
- [ ] instance_idãŒå…¬å¼ã¨å®Œå…¨ä¸€è‡´

### âœ… è©•ä¾¡ç’°å¢ƒæº–æ‹ 
- [ ] Dockerå…¬å¼ã‚¤ãƒ¡ãƒ¼ã‚¸ä½¿ç”¨
- [ ] Modalä½¿ç”¨ï¼ˆä¸¦åˆ—å®Ÿè¡Œï¼‰
- [ ] Python 3.8+ä½¿ç”¨

### âœ… è©•ä¾¡ã‚¹ã‚¯ãƒªãƒ—ãƒˆæº–æ‹ 
- [ ] Scale AIå…¬å¼ã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼ˆ`swe_bench_pro_eval.py`ï¼‰ã‚’ä½¿ç”¨
- [ ] ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®æ”¹å¤‰ãªã—
- [ ] ãƒãƒ¼ã‚¸ãƒ§ãƒ³å›ºå®šï¼ˆå†ç¾æ€§ç¢ºä¿ï¼‰

### âœ… ãƒ‘ãƒƒãƒãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆæº–æ‹ 
- [ ] unified diffå½¢å¼ï¼ˆ`git diff --unified=3`ï¼‰
- [ ] JSONå½¢å¼ãŒå…¬å¼ã‚¹ã‚­ãƒ¼ãƒã¨ä¸€è‡´
- [ ] æ–‡å­—ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ï¼ˆUTF-8ï¼‰

### âœ… ãƒ¡ãƒˆãƒªã‚¯ã‚¹æº–æ‹ 
- [ ] Resolve Rateè¨ˆç®—ãŒå…¬å¼ã¨ä¸€è‡´
- [ ] fail-to-passè¨ˆç®—ãŒå…¬å¼ã¨ä¸€è‡´
- [ ] pass-to-passè¨ˆç®—ãŒå…¬å¼ã¨ä¸€è‡´

### âœ… å†ç¾å¯èƒ½æ€§
- [ ] å…¨ã‚¹ãƒ†ãƒƒãƒ—ãŒãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆåŒ–
- [ ] å†ç¾ã‚¹ã‚¯ãƒªãƒ—ãƒˆå…¬é–‹
- [ ] ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ï¼ˆRust, Docker, Pythonç­‰ï¼‰
- [ ] ãƒ©ãƒ³ãƒ€ãƒ ã‚·ãƒ¼ãƒ‰å›ºå®š

---

## ğŸ“š é–¢é€£ãƒªã‚½ãƒ¼ã‚¹

### å…¬å¼ãƒªã‚½ãƒ¼ã‚¹
- **ãƒªãƒ¼ãƒ€ãƒ¼ãƒœãƒ¼ãƒ‰**: https://scale.com/leaderboard/swe_bench_pro_public
- **GitHubãƒªãƒã‚¸ãƒˆãƒª**: https://github.com/scaleapi/SWE-bench_Pro-os
- **HuggingFaceãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆ**: https://huggingface.co/datasets/ScaleAI/SWE-bench_Pro
- **è«–æ–‡**: https://arxiv.org/abs/2509.16941
- **ãƒ–ãƒ­ã‚°**: https://scale.com/blog/swe-bench-pro

### å‚è€ƒå®Ÿè£…
- **GPT-5è©•ä¾¡**: OpenAIå…¬å¼å®Ÿè£…
- **Claude 4.5è©•ä¾¡**: Anthropicå…¬å¼å®Ÿè£…

---

## â±ï¸ ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³

| Phase | æœŸé–“ | æœŸé™ç›®å®‰ |
|-------|------|---------|
| Phase 0 | å®Œäº† | 2025-10-22 âœ… |
| Phase 1 | 1é€±é–“ | 2025-10-29 |
| Phase 2 | 1é€±é–“ | 2025-11-05 |
| Phase 3 | 2é€±é–“ | 2025-11-19 |
| Phase 4 | 1é€±é–“ | 2025-11-26 |
| Phase 5 | 4é€±é–“ | 2025-12-24 |
| Phase 6 | 2é€±é–“ | 2026-01-07 |

**åˆè¨ˆæœŸé–“**: ç´„11é€±é–“ï¼ˆ2.75ãƒ¶æœˆï¼‰

---

## ğŸ·ï¸ Label

- `âœ¨ type:feature`
- `ğŸ¯ phase:planning`
- `ğŸ¤– agent:coordinator`
- `âš ï¸ priority:P1-High`

---

**ã“ã®Issueã¯ã€Miyabiã‚’ä¸–ç•Œæ¨™æº–ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ã§è©•ä¾¡ã—ã€æ¥­ç•Œã§ã®ä¿¡é ¼æ€§ã‚’ç¢ºç«‹ã™ã‚‹ãŸã‚ã®æœ€é‡è¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã™ã€‚**

### 3. Add tests for #396

- **ID**: `task-396-test`
- **Type**: Test
- **Assigned Agent**: CodeGenAgent
- **Priority**: 2
- **Estimated Duration**: 15 min
- **Dependencies**: task-396-impl

**Description**: Create comprehensive test coverage

### 4. Review code quality for #396

- **ID**: `task-396-review`
- **Type**: Refactor
- **Assigned Agent**: ReviewAgent
- **Priority**: 3
- **Estimated Duration**: 10 min
- **Dependencies**: task-396-test

**Description**: Run quality checks and code review

## ğŸ”„ Execution Plan (DAG Levels)

Tasks can be executed in parallel within each level:

### Level 0 (Parallel Execution)

- `task-396-analysis` - Analyze requirements for #396

### Level 1 (Parallel Execution)

- `task-396-impl` - Implement solution for #396

### Level 2 (Parallel Execution)

- `task-396-test` - Add tests for #396

### Level 3 (Parallel Execution)

- `task-396-review` - Review code quality for #396

## ğŸ“Š Dependency Graph

```mermaid
graph TD
    task_396_analysis["Analyze requirements for #396"]
    task_396_impl["Implement solution for #396"]
    task_396_test["Add tests for #396"]
    task_396_review["Review code quality for #396"]
    task_396_analysis --> task_396_impl
    task_396_impl --> task_396_test
    task_396_test --> task_396_review
```

## â±ï¸ Timeline Estimation

- **Sequential Execution**: 60 minutes (1.0 hours)
- **Parallel Execution (Critical Path)**: 10 minutes (0.2 hours)
- **Estimated Speedup**: 6.0x

---

*Generated by CoordinatorAgent on 2025-10-30 17:46:21 UTC*
