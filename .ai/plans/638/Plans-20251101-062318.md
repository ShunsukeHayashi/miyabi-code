# Plans for Issue #638

**Title**: [Phase 1.3] „É™„Ç¢„É´„Çø„Ç§„É†„É≠„Ç∞„Çπ„Éà„É™„Éº„Éü„É≥„Ç∞ - E2E„ÉÜ„Çπ„ÉàËøΩÂä†

**URL**: https://github.com/customer-cloud/miyabi-private/issues/638

---

## üìã Summary

- **Total Tasks**: 4
- **Estimated Duration**: 60 minutes
- **Execution Levels**: 4
- **Has Cycles**: ‚úÖ No

## üìù Task Breakdown

### 1. Analyze requirements for #638

- **ID**: `task-638-analysis`
- **Type**: Docs
- **Assigned Agent**: IssueAgent
- **Priority**: 0
- **Estimated Duration**: 5 min

**Description**: Analyze issue requirements and create detailed specification

### 2. Implement solution for #638

- **ID**: `task-638-impl`
- **Type**: Test
- **Assigned Agent**: CodeGenAgent
- **Priority**: 1
- **Estimated Duration**: 30 min
- **Dependencies**: task-638-analysis

**Description**: ## üìã „Çø„Çπ„ÇØÊ¶ÇË¶Å

„É™„Ç¢„É´„Çø„Ç§„É†„É≠„Ç∞„Çπ„Éà„É™„Éº„Éü„É≥„Ç∞Ê©üËÉΩ„ÅÆE2E„ÉÜ„Çπ„Éà„Çπ„Ç§„Éº„Éà„ÇíÂÆüË£Ö„Åô„Çã„ÄÇ

## üéØ ÁõÆÁöÑ

ÊâãÂãï„ÉÜ„Çπ„Éà„ÇíËá™ÂãïÂåñ„Åó„ÄÅ„É™„Ç∞„É¨„ÉÉ„Ç∑„Éß„É≥„ÇíÈò≤Ê≠¢„Åô„Çã„ÄÇ

## üìù ÂÆüË£ÖÂÜÖÂÆπ

### „ÉÜ„Çπ„Éà„Éï„É¨„Éº„É†„ÉØ„Éº„ÇØ

**Playwright** „Çí‰ΩøÁî®

```bash
# „Ç§„É≥„Çπ„Éà„Éº„É´
pnpm add -D @playwright/test
pnpm exec playwright install
```

### „ÉÜ„Çπ„Éà„Ç±„Éº„Çπ

#### Test 1: Âü∫Êú¨ÁöÑ„Å™„É™„Ç¢„É´„Çø„Ç§„É†„É≠„Ç∞Ë°®Á§∫
```typescript
test('should display logs in real-time', async ({ page }) => {
  await page.goto('http://localhost:1420');
  
  // CoordinatorAgentÈÅ∏Êäû
  await page.click('text=„Åó„Åç„Çã„Çì');
  
  // IssueÈÅ∏Êäû
  await page.selectOption('[data-testid="issue-select"]', '270');
  
  // Execute Agent
  await page.click('text=Execute Agent');
  
  // „É≠„Ç∞„ÅåÈ†ÜÊ¨°Ë°®Á§∫„Åï„Çå„Çã„Åì„Å®„ÇíÁ¢∫Ë™ç
  const firstLog = page.locator('[data-testid="log-line"]').first();
  await expect(firstLog).toBeVisible({ timeout: 5000 });
  
  // 2Ë°åÁõÆ„ÇÇË°®Á§∫„Åï„Çå„Çã„Åì„Å®„ÇíÁ¢∫Ë™ç
  const secondLog = page.locator('[data-testid="log-line"]').nth(1);
  await expect(secondLog).toBeVisible({ timeout: 2000 });
});
```

#### Test 2: Ëá™Âãï„Çπ„ÇØ„É≠„Éº„É´
```typescript
test('should auto-scroll to latest log', async ({ page }) => {
  await page.goto('http://localhost:1420');
  
  // „Ç®„Éº„Ç∏„Çß„É≥„ÉàÂÆüË°å
  await executeAgent(page);
  
  // ÊúÄÊñ∞„É≠„Ç∞„ÅåË°®Á§∫„Åï„Çå„Å¶„ÅÑ„Çã„Åì„Å®„ÇíÁ¢∫Ë™ç
  const logContainer = page.locator('[data-testid="log-container"]');
  const isScrolledToBottom = await logContainer.evaluate((el) => {
    return el.scrollHeight - el.scrollTop === el.clientHeight;
  });
  
  expect(isScrolledToBottom).toBe(true);
});
```

#### Test 3: „Éë„Éï„Ç©„Éº„Éû„É≥„Çπ
```typescript
test('should handle 1000+ log lines without freezing', async ({ page }) => {
  await page.goto('http://localhost:1420');
  
  // Â§ßÈáè„ÅÆ„É≠„Ç∞„ÇíÂá∫Âäõ„Åô„Çã„Ç®„Éº„Ç∏„Çß„É≥„ÉàÂÆüË°å
  await executeAgent(page);
  
  // UI„ÅåÂøúÁ≠î„Åô„Çã„Åì„Å®„ÇíÁ¢∫Ë™ç
  const button = page.locator('text=Stop Execution');
  await expect(button).toBeEnabled({ timeout: 5000 });
});
```

## üìÅ „Éï„Ç°„Ç§„É´ÊßãÊàê

```
miyabi-desktop/
‚îú‚îÄ‚îÄ e2e/
‚îÇ   ‚îú‚îÄ‚îÄ realtime-logs.spec.ts    # E2E„ÉÜ„Çπ„Éà
‚îÇ   ‚îî‚îÄ‚îÄ fixtures/                # „ÉÜ„Çπ„Éà„Éï„Ç£„ÇØ„Çπ„ÉÅ„É£
‚îú‚îÄ‚îÄ playwright.config.ts         # PlaywrightË®≠ÂÆö
‚îî‚îÄ‚îÄ package.json                 # Êõ¥Êñ∞
```

## ‚úÖ ÊàêÂäüÂü∫Ê∫ñ

- [ ] 3„Å§„ÅÆ„ÉÜ„Çπ„Éà„Ç±„Éº„Çπ„ÅåÂÆüË£Ö„Åï„Çå„Å¶„ÅÑ„Çã
- [ ] ÂÖ®„Å¶„ÅÆ„ÉÜ„Çπ„Éà„ÅåPass
- [ ] CI/CD„Å´Áµ±Âêà„Åï„Çå„Å¶„ÅÑ„Çã (GitHub Actions)

## üìä ÊàêÊûúÁâ©

- `e2e/realtime-logs.spec.ts`
- `playwright.config.ts`
- Êõ¥Êñ∞„Åï„Çå„Åü `.github/workflows/test.yml`

## üîó Èñ¢ÈÄ£„Éâ„Ç≠„É•„É°„É≥„Éà

- ÂÆüË£ÖË®àÁîª: `docs/IMPLEMENTATION_PLAN.md` (Phase 1, Task 1.3)
- Playwright: https://playwright.dev/

## ‚è±Ô∏è Ë¶ãÁ©ç„ÇÇ„ÇäÊôÇÈñì

**2Êó•**

---

ü§ñ Generated with Claude Code

### 3. Add tests for #638

- **ID**: `task-638-test`
- **Type**: Test
- **Assigned Agent**: CodeGenAgent
- **Priority**: 2
- **Estimated Duration**: 15 min
- **Dependencies**: task-638-impl

**Description**: Create comprehensive test coverage

### 4. Review code quality for #638

- **ID**: `task-638-review`
- **Type**: Refactor
- **Assigned Agent**: ReviewAgent
- **Priority**: 3
- **Estimated Duration**: 10 min
- **Dependencies**: task-638-test

**Description**: Run quality checks and code review

## üîÑ Execution Plan (DAG Levels)

Tasks can be executed in parallel within each level:

### Level 0 (Parallel Execution)

- `task-638-analysis` - Analyze requirements for #638

### Level 1 (Parallel Execution)

- `task-638-impl` - Implement solution for #638

### Level 2 (Parallel Execution)

- `task-638-test` - Add tests for #638

### Level 3 (Parallel Execution)

- `task-638-review` - Review code quality for #638

## üìä Dependency Graph

```mermaid
graph TD
    task_638_analysis["Analyze requirements for #638"]
    task_638_impl["Implement solution for #638"]
    task_638_test["Add tests for #638"]
    task_638_review["Review code quality for #638"]
    task_638_analysis --> task_638_impl
    task_638_impl --> task_638_test
    task_638_test --> task_638_review
```

## ‚è±Ô∏è Timeline Estimation

- **Sequential Execution**: 60 minutes (1.0 hours)
- **Parallel Execution (Critical Path)**: 10 minutes (0.2 hours)
- **Estimated Speedup**: 6.0x

---

*Generated by CoordinatorAgent on 2025-11-01 06:23:18 UTC*
