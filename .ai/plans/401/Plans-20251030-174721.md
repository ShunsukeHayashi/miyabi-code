# Plans for Issue #401

**Title**: üìÑ [Sub-Issue #396] Phase 4: „Éë„Ç§„É≠„ÉÉ„ÉàË©ï‰æ°Ôºà10„Ç§„É≥„Çπ„Çø„É≥„ÇπÔºâ

**URL**: https://github.com/customer-cloud/miyabi-private/issues/401

---

## üìã Summary

- **Total Tasks**: 4
- **Estimated Duration**: 60 minutes
- **Execution Levels**: 4
- **Has Cycles**: ‚úÖ No

## üìù Task Breakdown

### 1. Analyze requirements for #401

- **ID**: `task-401-analysis`
- **Type**: Docs
- **Assigned Agent**: IssueAgent
- **Priority**: 0
- **Estimated Duration**: 5 min

**Description**: Analyze issue requirements and create detailed specification

### 2. Implement solution for #401

- **ID**: `task-401-impl`
- **Type**: Feature
- **Assigned Agent**: CodeGenAgent
- **Priority**: 1
- **Estimated Duration**: 30 min
- **Dependencies**: task-401-analysis

**Description**: ## üéØ ÁõÆÁöÑ

**10„Ç§„É≥„Çπ„Çø„É≥„Çπ„ÅßË©ï‰æ°„ÇíÂÆüË°å„Åó„ÄÅÂÖ¨ÂºèË©ï‰æ°„Çπ„ÇØ„É™„Éó„Éà„ÅßÊ§úË®º„Åó„Å¶„Ç∑„Çπ„ÉÜ„É†ÂÖ®‰Ωì„ÇíÁ¢∫Ë™ç**

**Ë¶™Issue**: #396 - SWE-bench ProË©ï‰æ°ÂÆüË£Ö
**‰æùÂ≠ò**: #400 (Phase 3) - Ë©ï‰æ°„É©„ÉÉ„Éë„ÉºÂÆüË£ÖÂÆå‰∫ÜÂæå„Å´ÂÆüÊñΩ

---

## üìã „Çø„Çπ„ÇØ

### 1. „Çµ„É≥„Éó„É´„Ç§„É≥„Çπ„Çø„É≥„ÇπÈÅ∏ÂÆö

**Ë®ÄË™û„Éê„É©„É≥„ÇπËÄÉÊÖÆ**:
- Python: 5„Ç§„É≥„Çπ„Çø„É≥„Çπ
- Go: 3„Ç§„É≥„Çπ„Çø„É≥„Çπ
- JavaScript/TypeScript: 2„Ç§„É≥„Çπ„Çø„É≥„Çπ

**Èõ£ÊòìÂ∫¶„Éê„É©„É≥„Çπ**:
- Á∞°ÂçòÔºà1„Éï„Ç°„Ç§„É´„ÄÅÊï∞Ë°åÂ§âÊõ¥Ôºâ: 3„Ç§„É≥„Çπ„Çø„É≥„Çπ
- ‰∏≠Á®ãÂ∫¶Ôºà2-3„Éï„Ç°„Ç§„É´„ÄÅÊï∞ÂçÅË°åÂ§âÊõ¥Ôºâ: 5„Ç§„É≥„Çπ„Çø„É≥„Çπ
- Èõ£„Åó„ÅÑÔºà4+„Éï„Ç°„Ç§„É´„ÄÅ100Ë°å‰ª•‰∏äÂ§âÊõ¥Ôºâ: 2„Ç§„É≥„Çπ„Çø„É≥„Çπ

```python
# scripts/select_pilot_instances.py
from datasets import load_dataset

swebench = load_dataset('ScaleAI/SWE-bench_Pro', split='test')

# Ë®ÄË™ûÂà•„Éï„Ç£„É´„Çø„É™„É≥„Ç∞
python_instances = [inst for inst in swebench if inst['repo_language'] == 'python'][:5]
go_instances = [inst for inst in swebench if inst['repo_language'] == 'go'][:3]
js_instances = [inst for inst in swebench if inst['repo_language'] == 'javascript'][:2]

pilot_instances = python_instances + go_instances + js_instances

# instance_id„É™„Çπ„ÉàÂá∫Âäõ
print([inst['instance_id'] for inst in pilot_instances])
```

**Ê§úË®ºÈ†ÖÁõÆ**:
- [ ] 10„Ç§„É≥„Çπ„Çø„É≥„ÇπÈÅ∏ÂÆöÂÆå‰∫Ü
- [ ] Ë®ÄË™û„Éê„É©„É≥„Çπ„ÅåÈÅ©Âàá
- [ ] Èõ£ÊòìÂ∫¶„Éê„É©„É≥„Çπ„ÅåÈÅ©Âàá

---

### 2. MiyabiË©ï‰æ°ÂÆüË°å

```bash
# „Éë„Ç§„É≠„ÉÉ„ÉàË©ï‰æ°ÂÆüË°å
cargo run --release --bin miyabi -- benchmark run \
  --dataset swebench_pro \
  --instances 10 \
  --output results/pilot_patches.json \
  --concurrency 2 \
  --timeout 1800

# ÊúüÂæÖ„Åï„Çå„ÇãÂá∫Âäõ:
# [1/10] Evaluating instance: repo__issue-123...
# [2/10] Evaluating instance: repo__issue-456...
# ...
# [10/10] Evaluating instance: repo__issue-999...
# ‚úÖ Evaluation complete: 10/10 instances
# üìù Output: results/pilot_patches.json
```

**Ê§úË®ºÈ†ÖÁõÆ**:
- [ ] 10„Ç§„É≥„Çπ„Çø„É≥„Çπ„Åô„Åπ„Å¶„ÅåË©ï‰æ°ÂÆå‰∫Ü
- [ ] „Éë„ÉÉ„ÉÅ„Éï„Ç°„Ç§„É´„ÅåÁîüÊàê„Åï„Çå„Çã
- [ ] „Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„ÅüÂ†¥Âêà„ÄÅ„É≠„Ç∞„Å´Ë®òÈå≤„Åï„Çå„Çã
- [ ] ÂÆüË°åÊôÇÈñì„ÅåË®òÈå≤„Åï„Çå„Çã

---

### 3. ÂÖ¨ÂºèË©ï‰æ°„Çπ„ÇØ„É™„Éó„ÉàÂÆüË°å

```bash
# Docker + ModalÁí∞Â¢É„ÅßÂÖ¨ÂºèË©ï‰æ°
cd SWE-bench_Pro-os

python swe_bench_pro_eval.py \
  --raw_sample_path=external_hf_v2.csv \
  --patch_path=../results/pilot_patches.json \
  --output_dir=../results/pilot/ \
  --num_workers=10 \
  --dockerhub_username=jefzda

# ÊúüÂæÖ„Åï„Çå„ÇãÂá∫Âäõ:
# Evaluating 10 instances...
# [1/10] Testing repo__issue-123... RESOLVED
# [2/10] Testing repo__issue-456... FAILED (fail-to-pass: 0/2)
# ...
# [10/10] Testing repo__issue-999... RESOLVED
# ‚úÖ Evaluation complete
# üìä Resolve Rate: X/10 (XX%)
```

**Ê§úË®ºÈ†ÖÁõÆ**:
- [ ] ÂÖ¨Âºè„Çπ„ÇØ„É™„Éó„Éà„Åå„Ç®„É©„Éº„Å™„ÅèÂÆüË°å
- [ ] `results/pilot/evaluation_results.json`„ÅåÁîüÊàê„Åï„Çå„Çã
- [ ] Resolve Rate„ÅåË®àÁÆó„Åï„Çå„Çã
- [ ] ÂêÑ„Ç§„É≥„Çπ„Çø„É≥„Çπ„ÅÆË©≥Á¥∞ÁµêÊûú„ÅåË®òÈå≤„Åï„Çå„Çã

---

### 4. ÁµêÊûúÊ§úË®º

```bash
# ÁµêÊûúÂàÜÊûê„Çπ„ÇØ„É™„Éó„Éà
cargo run --bin miyabi -- benchmark analyze \
  --results results/pilot/evaluation_results.json
```

**ÂàÜÊûêÈ†ÖÁõÆ**:
- [ ] **Resolve Rate**: X/10 (XX%)
- [ ] **fail-to-passÊàêÂäüÁéá**: X/10
- [ ] **pass-to-passÊàêÂäüÁéá**: X/10
- [ ] **Ë®ÄË™ûÂà•„Éë„Éï„Ç©„Éº„Éû„É≥„Çπ**:
  - Python: X/5 (XX%)
  - Go: X/3 (XX%)
  - JS/TS: X/2 (XX%)
- [ ] **ÂÆüË°åÊôÇÈñìÁµ±Ë®à**:
  - Âπ≥Âùá: XXÂàÜ
  - ÊúÄÂ∞è: XXÂàÜ
  - ÊúÄÂ§ß: XXÂàÜ

**Â§±Êïó„Éë„Çø„Éº„É≥„ÅÆÂàÜÈ°û**:
- [ ] „Ç≥„É≥„Éë„Ç§„É´„Ç®„É©„Éº
- [ ] „ÉÜ„Çπ„ÉàÂ§±Êïó
- [ ] „Çø„Ç§„É†„Ç¢„Ç¶„Éà
- [ ] „Åù„ÅÆ‰ªñ„Ç®„É©„Éº

---

### 5. ÂïèÈ°åÁÇπ„ÅÆÁâπÂÆö„Å®‰øÆÊ≠£

**„ÉÅ„Çß„ÉÉ„ÇØÈ†ÖÁõÆ**:
- [ ] „Éë„ÉÉ„ÉÅ„Éï„Ç©„Éº„Éû„ÉÉ„Éà„ÅÆÂïèÈ°å
  - unified diffÂΩ¢Âºè„Å´Ê∫ñÊã†„Åó„Å¶„ÅÑ„Çã„Åã
  - ÊñáÂ≠ó„Ç®„É≥„Ç≥„Éº„Éá„Ç£„É≥„Ç∞„ÅØÊ≠£„Åó„ÅÑ„Åã
- [ ] WorktreeÁÆ°ÁêÜ„ÅÆÂïèÈ°å
  - base_commit„Åß„ÅÆcheckout„ÅØÊàêÂäü„Åó„Å¶„ÅÑ„Çã„Åã
  - gitÁä∂ÊÖã„ÅØÊ≠£„Åó„ÅÑ„Åã
- [ ] AgentÂÆüË°å„ÅÆÂïèÈ°å
  - „Çø„Ç§„É†„Ç¢„Ç¶„Éà„ÅØÈÅ©Âàá„Åã
  - „Ç®„É©„Éº„Éè„É≥„Éâ„É™„É≥„Ç∞„ÅØÈÅ©Âàá„Åã

**‰øÆÊ≠£ÂÆüÊñΩ**:
- [ ] ÁâπÂÆö„Åï„Çå„ÅüÂïèÈ°å„Çí‰øÆÊ≠£
- [ ] ÂÜçË©ï‰æ°„ÇíÂÆüÊñΩ
- [ ] ÁµêÊûú„ÇíÁ¢∫Ë™ç

---

## üì¶ ÊàêÊûúÁâ©

- [ ] `results/pilot_patches.json` - MiyabiÁîüÊàê„Éë„ÉÉ„ÉÅÔºà10‰ª∂Ôºâ
- [ ] `results/pilot/evaluation_results.json` - ÂÖ¨ÂºèË©ï‰æ°ÁµêÊûú
- [ ] `docs/PILOT_EVALUATION_REPORT.md` - „Éë„Ç§„É≠„ÉÉ„ÉàË©ï‰æ°„É¨„Éù„Éº„Éà
- [ ] `scripts/select_pilot_instances.py` - „Çµ„É≥„Éó„É´ÈÅ∏ÂÆö„Çπ„ÇØ„É™„Éó„Éà
- [ ] `scripts/analyze_pilot_results.py` - ÁµêÊûúÂàÜÊûê„Çπ„ÇØ„É™„Éó„Éà

---

## üìä „Éë„Ç§„É≠„ÉÉ„ÉàË©ï‰æ°„É¨„Éù„Éº„Éà‰æã

```markdown
# docs/PILOT_EVALUATION_REPORT.md

## Ë©ï‰æ°ÁµêÊûú„Çµ„Éû„É™„Éº

- **Á∑è„Ç§„É≥„Çπ„Çø„É≥„ÇπÊï∞**: 10
- **Resolve Rate**: X/10 (XX%)
- **Âπ≥ÂùáÂÆüË°åÊôÇÈñì**: XXÂàÜ

## Ë®ÄË™ûÂà•„Éë„Éï„Ç©„Éº„Éû„É≥„Çπ

| Ë®ÄË™û | „Ç§„É≥„Çπ„Çø„É≥„ÇπÊï∞ | ÊàêÂäüÊï∞ | ÊàêÂäüÁéá |
|------|--------------|--------|--------|
| Python | 5 | X | XX% |
| Go | 3 | X | XX% |
| JS/TS | 2 | X | XX% |

## Â§±ÊïóÂàÜÊûê

### Â§±Êïó„Éë„Çø„Éº„É≥
1. **„Ç≥„É≥„Éë„Ç§„É´„Ç®„É©„Éº** (X‰ª∂): ...
2. **„ÉÜ„Çπ„ÉàÂ§±Êïó** (X‰ª∂): ...
3. **„Çø„Ç§„É†„Ç¢„Ç¶„Éà** (X‰ª∂): ...

### ÊîπÂñÑÊèêÊ°à
1. ...
2. ...
```

---

## ‚úÖ ÊàêÂäüÂü∫Ê∫ñ

### ÂøÖÈÅî
- [ ] 10„Ç§„É≥„Çπ„Çø„É≥„Çπ„Åô„Åπ„Å¶„ÅåË©ï‰æ°ÂÆå‰∫Ü
- [ ] ÂÖ¨Âºè„Çπ„ÇØ„É™„Éó„Éà„Åß„Ç®„É©„Éº0‰ª∂
- [ ] **Resolve Rate > 5%**ÔºàÊúÄ‰Ωé1„Ç§„É≥„Çπ„Çø„É≥„ÇπÊàêÂäüÔºâ
- [ ] Ë©ï‰æ°„É¨„Éù„Éº„Éà‰ΩúÊàêÂÆå‰∫Ü

### Êé®Â•®
- [ ] **Resolve Rate 10-20%**Ôºà1-2„Ç§„É≥„Çπ„Çø„É≥„ÇπÊàêÂäüÔºâ
- [ ] Â§±Êïó„Éë„Çø„Éº„É≥„ÅÆÊòéÁ¢∫„Å™ÂàÜÈ°û
- [ ] ÊîπÂñÑÊèêÊ°à„ÅÆÂÖ∑‰ΩìÂåñ

### ÁêÜÊÉ≥
- [ ] **Resolve Rate 30%‰ª•‰∏ä**Ôºà3„Ç§„É≥„Çπ„Çø„É≥„Çπ‰ª•‰∏äÊàêÂäüÔºâ
- [ ] „Åô„Åπ„Å¶„ÅÆ„Ç®„É©„Éº„ÅåËß£ÊûêÊ∏à„Åø
- [ ] Phase 5„Å∏„ÅÆÊòéÁ¢∫„Å™ÊîπÂñÑÁÇπ

---

## ‚è±Ô∏è ÊúüÈñì

**ÊúüÈñì**: 1ÈÄ±Èñì
**ÊúüÈôê**: 2025-11-26

---

## üè∑Ô∏è Label

- `‚ú® type:feature`
- `üß™ type:test`
- `ü§ñ agent:review`
- `üìä priority:P2-Medium`

---

## üìö Èñ¢ÈÄ£„É™„ÇΩ„Éº„Çπ

- **ÂÖ¨ÂºèË©ï‰æ°„Çπ„ÇØ„É™„Éó„Éà**: https://github.com/scaleapi/SWE-bench_Pro-os
- **HuggingFace„Éá„Éº„Çø„Çª„ÉÉ„Éà**: https://huggingface.co/datasets/ScaleAI/SWE-bench_Pro

---

**Ë¶™Issue**: #396 - SWE-bench ProË©ï‰æ°ÂÆüË£Ö
**‰æùÂ≠ò**: #400 (Phase 3)

### 3. Add tests for #401

- **ID**: `task-401-test`
- **Type**: Test
- **Assigned Agent**: CodeGenAgent
- **Priority**: 2
- **Estimated Duration**: 15 min
- **Dependencies**: task-401-impl

**Description**: Create comprehensive test coverage

### 4. Review code quality for #401

- **ID**: `task-401-review`
- **Type**: Refactor
- **Assigned Agent**: ReviewAgent
- **Priority**: 3
- **Estimated Duration**: 10 min
- **Dependencies**: task-401-test

**Description**: Run quality checks and code review

## üîÑ Execution Plan (DAG Levels)

Tasks can be executed in parallel within each level:

### Level 0 (Parallel Execution)

- `task-401-analysis` - Analyze requirements for #401

### Level 1 (Parallel Execution)

- `task-401-impl` - Implement solution for #401

### Level 2 (Parallel Execution)

- `task-401-test` - Add tests for #401

### Level 3 (Parallel Execution)

- `task-401-review` - Review code quality for #401

## üìä Dependency Graph

```mermaid
graph TD
    task_401_analysis["Analyze requirements for #401"]
    task_401_impl["Implement solution for #401"]
    task_401_test["Add tests for #401"]
    task_401_review["Review code quality for #401"]
    task_401_analysis --> task_401_impl
    task_401_impl --> task_401_test
    task_401_test --> task_401_review
```

## ‚è±Ô∏è Timeline Estimation

- **Sequential Execution**: 60 minutes (1.0 hours)
- **Parallel Execution (Critical Path)**: 10 minutes (0.2 hours)
- **Estimated Speedup**: 6.0x

---

*Generated by CoordinatorAgent on 2025-10-30 17:47:21 UTC*
