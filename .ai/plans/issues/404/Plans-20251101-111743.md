# Plans for Issue #404

**Title**: ğŸ“„ [Sub-Issue #397] Phase 1: AgentBenchè©•ä¾¡ï¼ˆ8ç’°å¢ƒï¼‰

**URL**: https://github.com/customer-cloud/miyabi-private/issues/404

---

## ğŸ“‹ Summary

- **Total Tasks**: 4
- **Estimated Duration**: 60 minutes
- **Execution Levels**: 4
- **Has Cycles**: âœ… No

## ğŸ“ Task Breakdown

### 1. Analyze requirements for #404

- **ID**: `task-404-analysis`
- **Type**: Docs
- **Assigned Agent**: IssueAgent
- **Priority**: 0
- **Estimated Duration**: 5 min

**Description**: Analyze issue requirements and create detailed specification

### 2. Implement solution for #404

- **ID**: `task-404-impl`
- **Type**: Feature
- **Assigned Agent**: CodeGenAgent
- **Priority**: 1
- **Estimated Duration**: 30 min
- **Dependencies**: task-404-analysis

**Description**: ## ğŸ¯ ç›®çš„

**AgentBenchï¼ˆTHUDMï¼‰ã®8ã¤ã®ç’°å¢ƒã§Miyabiã‚’è©•ä¾¡ã—ã€æ±ç”¨ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆæ€§èƒ½ã‚’æ¸¬å®š**

**è¦ªIssue**: #397 - ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯è©•ä¾¡å®Ÿè£…

---

## ğŸ“Š AgentBenchæ¦‚è¦

**å…¬å¼ãƒªã‚½ãƒ¼ã‚¹**:
- GitHub: https://github.com/THUDM/AgentBench
- è«–æ–‡: https://arxiv.org/abs/2308.03688
- ãƒªãƒ¼ãƒ€ãƒ¼ãƒœãƒ¼ãƒ‰: https://llmbench.ai/agent

**8ã¤ã®è©•ä¾¡ç’°å¢ƒ**:
1. **Operating System (OS)** - Linuxç’°å¢ƒã§ã®ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œ
2. **Database (DB)** - SQLã‚¯ã‚¨ãƒªã¨ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ“ä½œ
3. **Knowledge Graph (KG)** - ã‚°ãƒ©ãƒ•ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¯ã‚¨ãƒª
4. **Digital Card Game (DCG)** - ã‚²ãƒ¼ãƒ AI
5. **Lateral Thinking Puzzles (LTP)** - è«–ç†ãƒ‘ã‚ºãƒ«è§£æ±º
6. **House-Holding** - å®¶åº­ç’°å¢ƒã‚¿ã‚¹ã‚¯ï¼ˆALFWorldï¼‰
7. **Web Shopping** - ECã‚µã‚¤ãƒˆã§ã®è³¼è²·ï¼ˆWebShopï¼‰
8. **Web Browsing** - WebãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆMind2Webï¼‰

**ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆè¦æ¨¡**:
- **Dev**: ç´„4,000å›ã®ç”Ÿæˆ
- **Test**: ç´„13,000å›ã®ç”Ÿæˆ

---

## ğŸ“‹ ã‚¿ã‚¹ã‚¯

### 1. AgentBenchç’°å¢ƒæ§‹ç¯‰

```bash
# ãƒªãƒã‚¸ãƒˆãƒªã‚¯ãƒ­ãƒ¼ãƒ³
git clone https://github.com/THUDM/AgentBench.git
cd AgentBench

# Pythonä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
pip install -r requirements.txt

# Dockerç’°å¢ƒæ§‹ç¯‰ï¼ˆä¸€éƒ¨ã®ç’°å¢ƒã§å¿…è¦ï¼‰
docker pull agentbench/webshop:latest
docker pull agentbench/mind2web:latest
```

**ãƒªã‚½ãƒ¼ã‚¹æ¶ˆè²»é‡**ï¼ˆå˜ä¸€ãƒ¯ãƒ¼ã‚«ãƒ¼ï¼‰:

| ç’°å¢ƒ | èµ·å‹•é€Ÿåº¦ | ãƒ¡ãƒ¢ãƒª |
|------|---------|--------|
| webshop | ~3åˆ† | ~15GB |
| mind2web | ~5åˆ† | ~1GB |
| db | ~20ç§’ | <500MB |
| os/kg/ãã®ä»– | ~5ç§’ | <500MB |

**æ¤œè¨¼é …ç›®**:
- [ ] 8ã¤ã®ç’°å¢ƒã™ã¹ã¦ãŒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—å®Œäº†
- [ ] ã‚µãƒ³ãƒ—ãƒ«ã‚¿ã‚¹ã‚¯ã§å‹•ä½œç¢ºèª
- [ ] ãƒªã‚½ãƒ¼ã‚¹è¦ä»¶ã‚’æº€ãŸã—ã¦ã„ã‚‹

---

### 2. Miyabiã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆçµ±åˆ

```rust
// crates/miyabi-benchmark/src/agentbench.rs

use miyabi_agents::CoordinatorAgent;
use anyhow::Result;

#[derive(Debug)]
pub enum Environment {
    OS,
    DB,
    KG,
    DCG,
    LTP,
    HouseHolding,
    WebShopping,
    WebBrowsing,
}

pub struct AgentBenchEvaluator {
    coordinator: CoordinatorAgent,
}

impl AgentBenchEvaluator {
    pub async fn evaluate_task(
        &self,
        env: Environment,
        task: Task,
    ) -> Result<EvaluationResult> {
        match env {
            Environment::OS => self.evaluate_os_task(&task).await,
            Environment::DB => self.evaluate_db_task(&task).await,
            Environment::KG => self.evaluate_kg_task(&task).await,
            // ... ä»–ã®ç’°å¢ƒ
        }
    }
    
    /// OSç’°å¢ƒã®è©•ä¾¡
    async fn evaluate_os_task(&self, task: &Task) -> Result<EvaluationResult> {
        // 1. ã‚¿ã‚¹ã‚¯åˆ†æ
        let analysis = self.coordinator.analyze_task(task).await?;
        
        // 2. Bashã‚³ãƒãƒ³ãƒ‰ç”Ÿæˆ
        let commands = self.coordinator.generate_commands(&analysis).await?;
        
        // 3. ãƒãƒ«ãƒã‚¿ãƒ¼ãƒ³ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³
        for cmd in commands {
            let result = self.execute_command(&cmd).await?;
            // æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³æ±ºå®š
        }
        
        Ok(EvaluationResult::success())
    }
}
```

**æ¤œè¨¼é …ç›®**:
- [ ] Coordinatorã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¨çµ±åˆ
- [ ] ãƒãƒ«ãƒã‚¿ãƒ¼ãƒ³ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ã‚’ã‚µãƒãƒ¼ãƒˆ
- [ ] 8ç’°å¢ƒã™ã¹ã¦ã«å¯¾å¿œ

---

### 3. 8ç’°å¢ƒã®å€‹åˆ¥å®Ÿè£…

#### 3.1 OSç’°å¢ƒ

```rust
// Bashã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œ
async fn evaluate_os_task(&self, task: &Task) -> Result<EvaluationResult> {
    // ãƒ•ã‚¡ã‚¤ãƒ«æ“ä½œã€ãƒ—ãƒ­ã‚»ã‚¹ç®¡ç†ç­‰
    let commands = vec![
        "ls -la",
        "grep 'pattern' file.txt",
        "ps aux | grep process",
    ];
    
    for cmd in commands {
        let output = Command::new("bash")
            .args(&["-c", cmd])
            .output()?;
        
        // å‡ºåŠ›ã‚’è§£æã—ã¦æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’æ±ºå®š
    }
}
```

#### 3.2 DBç’°å¢ƒ

```rust
// SQLã‚¯ã‚¨ãƒªç”Ÿæˆãƒ»å®Ÿè¡Œ
async fn evaluate_db_task(&self, task: &Task) -> Result<EvaluationResult> {
    let query = self.coordinator.generate_sql_query(task).await?;
    
    let results = self.execute_sql(&query).await?;
    
    // çµæœã‚’è§£æã—ã¦å›ç­”ç”Ÿæˆ
}
```

#### 3.3 KGç’°å¢ƒ

```rust
// ã‚°ãƒ©ãƒ•ã‚¯ã‚¨ãƒªç”Ÿæˆãƒ»å®Ÿè¡Œ
async fn evaluate_kg_task(&self, task: &Task) -> Result<EvaluationResult> {
    let cypher = self.coordinator.generate_cypher_query(task).await?;
    
    let results = self.execute_cypher(&cypher).await?;
}
```

#### 3.4 ãã®ä»–ã®ç’°å¢ƒ

- [ ] DCG: ã‚²ãƒ¼ãƒ AIæˆ¦ç•¥ç”Ÿæˆ
- [ ] LTP: è«–ç†æ¨è«–ã‚¨ãƒ³ã‚¸ãƒ³
- [ ] House-Holding: ã‚¿ã‚¹ã‚¯ãƒ—ãƒ©ãƒ³ãƒ‹ãƒ³ã‚°
- [ ] Web Shopping: ECã‚µã‚¤ãƒˆãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³
- [ ] Web Browsing: Webã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³

---

### 4. Dev splitè©•ä¾¡ï¼ˆç´„4,000å›ç”Ÿæˆï¼‰

```bash
# AgentBenchã‚¿ã‚¹ã‚¯ã‚µãƒ¼ãƒãƒ¼èµ·å‹•
python -m src.start_task -a

# Miyabiè©•ä¾¡å®Ÿè¡Œ
python -m src.assigner

# æœŸå¾…ã•ã‚Œã‚‹å®Ÿè¡Œæ™‚é–“:
# - 4,000ã‚¿ã‚¹ã‚¯ Ã— å¹³å‡5åˆ† = 20,000åˆ†ï¼ˆç´„333æ™‚é–“ï¼‰
# - ä¸¦åˆ—åº¦10ã§ç´„33æ™‚é–“ï¼ˆ1.4æ—¥ï¼‰
```

**æ¤œè¨¼é …ç›®**:
- [ ] 4,000ã‚¿ã‚¹ã‚¯ã™ã¹ã¦ãŒè©•ä¾¡å®Œäº†
- [ ] å„ç’°å¢ƒã®æˆåŠŸç‡ãŒè¨˜éŒ²ã•ã‚Œã‚‹
- [ ] ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ãŒè©³ç´°

---

### 5. Test splitè©•ä¾¡ï¼ˆç´„13,000å›ç”Ÿæˆï¼‰

```bash
# Test splitè©•ä¾¡å®Ÿè¡Œ
# æœŸå¾…ã•ã‚Œã‚‹å®Ÿè¡Œæ™‚é–“:
# - 13,000ã‚¿ã‚¹ã‚¯ Ã— å¹³å‡5åˆ† = 65,000åˆ†ï¼ˆç´„1,083æ™‚é–“ï¼‰
# - ä¸¦åˆ—åº¦10ã§ç´„108æ™‚é–“ï¼ˆ4.5æ—¥ï¼‰
```

**æ¤œè¨¼é …ç›®**:
- [ ] 13,000ã‚¿ã‚¹ã‚¯ã™ã¹ã¦ãŒè©•ä¾¡å®Œäº†
- [ ] ç·åˆã‚¹ã‚³ã‚¢ãŒè¨ˆç®—ã•ã‚Œã‚‹
- [ ] 8ç’°å¢ƒã™ã¹ã¦ã®çµæœãŒæƒã†

---

### 6. çµæœæå‡º

```
å®›å…ˆ: agentbench_fc@googlegroups.com
ä»¶å: AgentBench Evaluation Results - Miyabi Framework

æœ¬æ–‡:
Dear AgentBench Team,

I am submitting evaluation results for the Miyabi autonomous development framework.

Model Information:
- Name: Miyabi
- Version: v1.0.0
- Type: Autonomous Development Framework

Evaluation Results:
- Dev Split: XX.X% (8ç’°å¢ƒå¹³å‡)
- Test Split: XX.X% (8ç’°å¢ƒå¹³å‡)

Attachments:
- dev_results.json
- test_results.json

Best regards,
[Your Name]
```

**æ¤œè¨¼é …ç›®**:
- [ ] ãƒ¡ãƒ¼ãƒ«é€ä¿¡å®Œäº†
- [ ] æ·»ä»˜ãƒ•ã‚¡ã‚¤ãƒ«æº–å‚™å®Œäº†
- [ ] ãƒªãƒ¼ãƒ€ãƒ¼ãƒœãƒ¼ãƒ‰æ²è¼‰å¾…ã¡

---

## ğŸ“¦ æˆæœç‰©

- [ ] `crates/miyabi-benchmark/src/agentbench/` - AgentBenchçµ±åˆ
- [ ] `results/agentbench/dev_results.json` - Devè©•ä¾¡çµæœ
- [ ] `results/agentbench/test_results.json` - Testè©•ä¾¡çµæœ
- [ ] `docs/AGENTBENCH_EVALUATION_REPORT.md` - è©•ä¾¡ãƒ¬ãƒãƒ¼ãƒˆ

---

## âœ… æˆåŠŸåŸºæº–

### å¿…é”
- [ ] **ç·åˆã‚¹ã‚³ã‚¢ â‰¥ 20%**ï¼ˆ8ç’°å¢ƒå¹³å‡ï¼‰
- [ ] 8ç’°å¢ƒã™ã¹ã¦ã§è©•ä¾¡å®Œäº†
- [ ] Dev + Testä¸¡æ–¹ã§è©•ä¾¡å®Œäº†
- [ ] ãƒªãƒ¼ãƒ€ãƒ¼ãƒœãƒ¼ãƒ‰æå‡ºå®Œäº†

### æ¨å¥¨
- [ ] **ç·åˆã‚¹ã‚³ã‚¢ 25-30%**
- [ ] æ§‹é€ åŒ–ã‚¿ã‚¹ã‚¯ï¼ˆOS/DB/KGï¼‰ã§30%ä»¥ä¸Š
- [ ] ã‚¨ãƒ©ãƒ¼ç‡5%ä»¥ä¸‹

### ç†æƒ³
- [ ] **ç·åˆã‚¹ã‚³ã‚¢ â‰¥ 35%**
- [ ] ãƒˆãƒƒãƒ—10å…¥ã‚Š
- [ ] ç‰¹å®šã®ç’°å¢ƒã§ãƒˆãƒƒãƒ—5

---

## ğŸ“Š è¨ˆç®—ãƒªã‚½ãƒ¼ã‚¹

### æ™‚é–“
- **Dev**: ç´„33æ™‚é–“ï¼ˆä¸¦åˆ—åº¦10ï¼‰
- **Test**: ç´„108æ™‚é–“ï¼ˆä¸¦åˆ—åº¦10ï¼‰
- **åˆè¨ˆ**: ç´„**141æ™‚é–“ï¼ˆç´„6æ—¥é–“ï¼‰**

### ãƒ¡ãƒ¢ãƒª
- **WebShop**: 15GB
- **ãã®ä»–**: å„500MB-1GB
- **åˆè¨ˆ**: ç´„**20GB**

### ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸
- ãƒ­ã‚°: ç´„10GB
- Docker: ç´„20GB
- **åˆè¨ˆ**: ç´„**30GB**

---

## â±ï¸ æœŸé–“

**æœŸé–“**: 4é€±é–“
**æœŸé™**: 2026-01-28

---

## ğŸ·ï¸ Label

- `âœ¨ type:feature`
- `ğŸ—ï¸ phase:implementation`
- `ğŸ¤– agent:coordinator`
- `âš ï¸ priority:P1-High`

---

## ğŸ“š é–¢é€£ãƒªã‚½ãƒ¼ã‚¹

- **GitHub**: https://github.com/THUDM/AgentBench
- **è«–æ–‡**: https://arxiv.org/abs/2308.03688
- **ãƒªãƒ¼ãƒ€ãƒ¼ãƒœãƒ¼ãƒ‰**: https://llmbench.ai/agent

---

**è¦ªIssue**: #397 - ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯è©•ä¾¡å®Ÿè£…

### 3. Add tests for #404

- **ID**: `task-404-test`
- **Type**: Test
- **Assigned Agent**: CodeGenAgent
- **Priority**: 2
- **Estimated Duration**: 15 min
- **Dependencies**: task-404-impl

**Description**: Create comprehensive test coverage

### 4. Review code quality for #404

- **ID**: `task-404-review`
- **Type**: Refactor
- **Assigned Agent**: ReviewAgent
- **Priority**: 3
- **Estimated Duration**: 10 min
- **Dependencies**: task-404-test

**Description**: Run quality checks and code review

## ğŸ”„ Execution Plan (DAG Levels)

Tasks can be executed in parallel within each level:

### Level 0 (Parallel Execution)

- `task-404-analysis` - Analyze requirements for #404

### Level 1 (Parallel Execution)

- `task-404-impl` - Implement solution for #404

### Level 2 (Parallel Execution)

- `task-404-test` - Add tests for #404

### Level 3 (Parallel Execution)

- `task-404-review` - Review code quality for #404

## ğŸ“Š Dependency Graph

```mermaid
graph TD
    task_404_analysis["Analyze requirements for #404"]
    task_404_impl["Implement solution for #404"]
    task_404_test["Add tests for #404"]
    task_404_review["Review code quality for #404"]
    task_404_analysis --> task_404_impl
    task_404_impl --> task_404_test
    task_404_test --> task_404_review
```

## â±ï¸ Timeline Estimation

- **Sequential Execution**: 60 minutes (1.0 hours)
- **Parallel Execution (Critical Path)**: 10 minutes (0.2 hours)
- **Estimated Speedup**: 6.0x

---

*Generated by CoordinatorAgent on 2025-11-01 11:17:43 UTC*
