<mxfile host="app.diagrams.net" modified="2025-11-28T13:00:00.000Z" agent="Claude Code" version="22.1.0" etag="AWS-Infrastructure-Ultra-Detailed-v3" type="device">
  <diagram name="AWS Infrastructure - Maximum Detail" id="aws-infra-ultra-detailed">
    <mxGraphModel dx="3000" dy="2800" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="3000" pageHeight="2800" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />

        <!-- ===== TITLE & METADATA ===== -->
        <mxCell id="title" value="AWS Infrastructure - Miyabi AI Factory | Maximum Detail Edition" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=32;fontStyle=1;fontColor=#FF6B35" vertex="1" parent="1">
          <mxGeometry x="800" y="20" width="1400" height="60" as="geometry" />
        </mxCell>

        <mxCell id="metadata" value="&lt;b&gt;Last Updated:&lt;/b&gt; 2025-11-28 13:00 UTC&lt;br&gt;&lt;b&gt;Total Monthly Cost:&lt;/b&gt; $452 ($5,424/year)&lt;br&gt;&lt;b&gt;Regions:&lt;/b&gt; 3 (us-east-1, us-west-2, ap-northeast-1)&lt;br&gt;&lt;b&gt;Environment:&lt;/b&gt; Production + Development&lt;br&gt;&lt;b&gt;Account ID:&lt;/b&gt; 211234825975&lt;br&gt;&lt;b&gt;Organization:&lt;/b&gt; AIFactory (aifactory-org)&lt;br&gt;&lt;b&gt;Managed By:&lt;/b&gt; Terraform + Manual&lt;br&gt;&lt;b&gt;Contact:&lt;/b&gt; admin@miyabi-world.com" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF3CD;strokeColor=#FF6B35;align=left;verticalAlign=top;fontSize=11;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="50" y="20" width="400" height="150" as="geometry" />
        </mxCell>

        <!-- Quick Stats -->
        <mxCell id="quick-stats" value="&lt;b&gt;ðŸ“Š Quick Stats&lt;/b&gt;&lt;br&gt;&lt;br&gt;&lt;b&gt;Compute:&lt;/b&gt; 6 instances (2 EC2 + 3 Lambda + 1 App Runner)&lt;br&gt;&lt;b&gt;Storage:&lt;/b&gt; 1.1 TB (S3) + 100 GB (RDS) + 800 GB (EBS)&lt;br&gt;&lt;b&gt;Network:&lt;/b&gt; 450+ CloudFront edges, 3 VPCs, 8 SGs&lt;br&gt;&lt;b&gt;Security:&lt;/b&gt; 6 IAM roles, 5 KMS keys, WAF enabled&lt;br&gt;&lt;b&gt;Monitoring:&lt;/b&gt; 8 log groups, 12 alarms, X-Ray tracing&lt;br&gt;&lt;b&gt;Uptime SLA:&lt;/b&gt; 99.9% target&lt;br&gt;&lt;b&gt;Data Transfer:&lt;/b&gt; ~200 GB/month&lt;br&gt;&lt;b&gt;Daily Requests:&lt;/b&gt; ~78K/day" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E8F5E9;strokeColor=#4CAF50;align=left;verticalAlign=top;fontSize=11;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="500" y="20" width="250" height="150" as="geometry" />
        </mxCell>

        <!-- ===== REGION: us-east-1 (Virginia) ===== -->
        <mxCell id="region-us-east-1" value="&lt;b&gt;ðŸŒ us-east-1 (N. Virginia) - Primary Production Region&lt;/b&gt;" style="swimlane;whiteSpace=wrap;html=1;strokeColor=#FF6B35;fillColor=#FFE5D9;fontSize=18;fontStyle=1;startSize=50;" vertex="1" parent="1">
          <mxGeometry x="50" y="200" width="900" height="1300" as="geometry" />
        </mxCell>

        <!-- VPC for us-east-1 -->
        <mxCell id="vpc-east" value="&lt;b&gt;VPC: miyabi-prod-vpc&lt;/b&gt;&lt;br&gt;VPC ID: vpc-0a1b2c3d4e5f&lt;br&gt;CIDR: 10.0.0.0/16 (65,536 IPs)&lt;br&gt;DNS Hostnames: Enabled&lt;br&gt;DNS Resolution: Enabled&lt;br&gt;Tenancy: default&lt;br&gt;DHCP Options: default&lt;br&gt;IPv6: Not enabled" style="swimlane;whiteSpace=wrap;html=1;strokeColor=#0066CC;fillColor=#E3F2FD;fontSize=12;fontStyle=1;startSize=130;" vertex="1" parent="region-us-east-1">
          <mxGeometry x="20" y="60" width="860" height="1200" as="geometry" />
        </mxCell>

        <!-- Public Subnet 1a -->
        <mxCell id="subnet-public-1a" value="&lt;b&gt;Public Subnet 1a&lt;/b&gt;&lt;br&gt;Subnet ID: subnet-pub-1a-abc123&lt;br&gt;CIDR: 10.0.1.0/24 (256 IPs)&lt;br&gt;AZ: us-east-1a&lt;br&gt;Auto-assign Public IP: Yes&lt;br&gt;Route Table: rtb-public&lt;br&gt;NACL: nacl-default&lt;br&gt;Available IPs: 243/251" style="swimlane;whiteSpace=wrap;html=1;strokeColor=#4CAF50;fillColor=#E8F5E9;fontSize=10;fontStyle=1;startSize=130;" vertex="1" parent="vpc-east">
          <mxGeometry x="20" y="150" width="400" height="500" as="geometry" />
        </mxCell>

        <!-- Lambda 1 Ultra Detailed -->
        <mxCell id="lambda-1-detail" value="&lt;b&gt;Lambda: miyabi-api-production&lt;/b&gt;&lt;br&gt;&lt;br&gt;&lt;b&gt;ARN:&lt;/b&gt; arn:aws:lambda:us-east-1:211234825975:function:miyabi-api-production&lt;br&gt;&lt;b&gt;Runtime:&lt;/b&gt; provided.al2 (Rust custom)&lt;br&gt;&lt;b&gt;Handler:&lt;/b&gt; bootstrap&lt;br&gt;&lt;b&gt;Memory:&lt;/b&gt; 512 MB&lt;br&gt;&lt;b&gt;Timeout:&lt;/b&gt; 30s&lt;br&gt;&lt;b&gt;Concurrency:&lt;/b&gt; 10 (reserved)&lt;br&gt;&lt;b&gt;Package Size:&lt;/b&gt; 8.2 MB&lt;br&gt;&lt;br&gt;&lt;b&gt;VPC Config:&lt;/b&gt;&lt;br&gt;â€¢ Subnets: subnet-pub-1a, subnet-priv-1b&lt;br&gt;â€¢ Security Groups: lambda-sg&lt;br&gt;&lt;br&gt;&lt;b&gt;Environment Variables (8):&lt;/b&gt;&lt;br&gt;â€¢ DATABASE_URL: (SecretManager)&lt;br&gt;â€¢ RUST_LOG: info&lt;br&gt;â€¢ AWS_REGION: us-east-1&lt;br&gt;â€¢ S3_BUCKET: miyabi-artifacts-dev&lt;br&gt;â€¢ LARK_WEBHOOK_URL: (SecretManager)&lt;br&gt;â€¢ API_VERSION: v1.2.3&lt;br&gt;â€¢ ENABLE_TRACING: true&lt;br&gt;â€¢ MAX_CONNECTIONS: 20&lt;br&gt;&lt;br&gt;&lt;b&gt;Layers (2):&lt;/b&gt;&lt;br&gt;â€¢ arn:aws:lambda:...:layer:rust-runtime:5&lt;br&gt;â€¢ arn:aws:lambda:...:layer:openssl:3&lt;br&gt;&lt;br&gt;&lt;b&gt;Triggers:&lt;/b&gt; API Gateway (HTTP API)&lt;br&gt;&lt;b&gt;Destinations:&lt;/b&gt; SQS (on failure)&lt;br&gt;&lt;b&gt;Invocations:&lt;/b&gt; ~1,200/day&lt;br&gt;&lt;b&gt;Errors:&lt;/b&gt; &lt;0.5% (6/day avg)&lt;br&gt;&lt;b&gt;Duration:&lt;/b&gt; 245ms p50, 890ms p99&lt;br&gt;&lt;b&gt;Cold Start:&lt;/b&gt; 1.2s avg&lt;br&gt;&lt;b&gt;Cost:&lt;/b&gt; ~$4.50/month" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF9C4;strokeColor=#F57C00;align=left;verticalAlign=top;fontSize=8;strokeWidth=2;" vertex="1" parent="subnet-public-1a">
          <mxGeometry x="20" y="140" width="360" height="340" as="geometry" />
        </mxCell>

        <!-- Lambda 2 Ultra Detailed -->
        <mxCell id="lambda-2-detail" value="&lt;b&gt;Lambda: aifactory-org-cost-alert-to-lark&lt;/b&gt;&lt;br&gt;&lt;br&gt;&lt;b&gt;ARN:&lt;/b&gt; arn:aws:lambda:us-east-1:211234825975:function:aifactory-org-cost-alert-to-lark&lt;br&gt;&lt;b&gt;Runtime:&lt;/b&gt; python3.11&lt;br&gt;&lt;b&gt;Handler:&lt;/b&gt; lambda_function.lambda_handler&lt;br&gt;&lt;b&gt;Memory:&lt;/b&gt; 256 MB&lt;br&gt;&lt;b&gt;Timeout:&lt;/b&gt; 60s&lt;br&gt;&lt;b&gt;Package Size:&lt;/b&gt; 2.1 MB&lt;br&gt;&lt;br&gt;&lt;b&gt;Environment Variables (5):&lt;/b&gt;&lt;br&gt;â€¢ LARK_WEBHOOK: (from Secrets Manager)&lt;br&gt;â€¢ COST_THRESHOLD: 500&lt;br&gt;â€¢ CURRENCY: USD&lt;br&gt;â€¢ NOTIFICATION_EMAIL: admin@miyabi-world.com&lt;br&gt;â€¢ TIMEZONE: UTC&lt;br&gt;&lt;br&gt;&lt;b&gt;Layers (1):&lt;/b&gt;&lt;br&gt;â€¢ arn:aws:lambda:...:layer:python-requests:12&lt;br&gt;&lt;br&gt;&lt;b&gt;Triggers:&lt;/b&gt;&lt;br&gt;â€¢ SNS: aifactory-org-cost-alerts&lt;br&gt;â€¢ EventBridge: cron(0 9 * * ? *)&lt;br&gt;&lt;br&gt;&lt;b&gt;Permissions:&lt;/b&gt;&lt;br&gt;â€¢ ce:GetCostAndUsage&lt;br&gt;â€¢ secretsmanager:GetSecretValue&lt;br&gt;â€¢ sns:Publish&lt;br&gt;&lt;br&gt;&lt;b&gt;Invocations:&lt;/b&gt; 1-3/day&lt;br&gt;&lt;b&gt;Duration:&lt;/b&gt; 850ms avg&lt;br&gt;&lt;b&gt;Cost:&lt;/b&gt; ~$0.10/month" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF9C4;strokeColor=#F57C00;align=left;verticalAlign=top;fontSize=8;strokeWidth=2;" vertex="1" parent="subnet-public-1a">
          <mxGeometry x="440" y="140" width="360" height="340" as="geometry" />
        </mxCell>

        <!-- Lambda 3 Ultra Detailed -->
        <mxCell id="lambda-3-detail" value="&lt;b&gt;Lambda: AImovie-InstanceStore-Backup&lt;/b&gt;&lt;br&gt;&lt;br&gt;&lt;b&gt;ARN:&lt;/b&gt; arn:aws:lambda:us-east-1:211234825975:function:AImovie-InstanceStore-Backup&lt;br&gt;&lt;b&gt;Runtime:&lt;/b&gt; python3.11&lt;br&gt;&lt;b&gt;Handler:&lt;/b&gt; backup.handler&lt;br&gt;&lt;b&gt;Memory:&lt;/b&gt; 1024 MB&lt;br&gt;&lt;b&gt;Timeout:&lt;/b&gt; 900s (15 min)&lt;br&gt;&lt;b&gt;Ephemeral Storage:&lt;/b&gt; 2048 MB&lt;br&gt;&lt;b&gt;Package Size:&lt;/b&gt; 5.7 MB&lt;br&gt;&lt;br&gt;&lt;b&gt;Environment Variables (7):&lt;/b&gt;&lt;br&gt;â€¢ S3_BUCKET: aimovie-instance-store-backup&lt;br&gt;â€¢ INSTANCE_ID: i-0abc123def456&lt;br&gt;â€¢ BACKUP_RETENTION_DAYS: 3&lt;br&gt;â€¢ COMPRESSION: gzip&lt;br&gt;â€¢ ENCRYPTION: AES256&lt;br&gt;â€¢ SNS_TOPIC_ARN: arn:aws:sns:...&lt;br&gt;â€¢ LOG_LEVEL: INFO&lt;br&gt;&lt;br&gt;&lt;b&gt;Layers (1):&lt;/b&gt;&lt;br&gt;â€¢ arn:aws:lambda:...:layer:boto3-latest:8&lt;br&gt;&lt;br&gt;&lt;b&gt;Triggers:&lt;/b&gt;&lt;br&gt;â€¢ EventBridge: rate(6 hours)&lt;br&gt;&lt;br&gt;&lt;b&gt;Permissions:&lt;/b&gt;&lt;br&gt;â€¢ s3:PutObject, s3:GetObject&lt;br&gt;â€¢ ec2:DescribeInstances&lt;br&gt;â€¢ ec2:CreateSnapshot&lt;br&gt;â€¢ sns:Publish (on error)&lt;br&gt;&lt;br&gt;&lt;b&gt;Invocations:&lt;/b&gt; 4/day&lt;br&gt;&lt;b&gt;Duration:&lt;/b&gt; 12-45s&lt;br&gt;&lt;b&gt;Data Transfer:&lt;/b&gt; ~50 GB/day&lt;br&gt;&lt;b&gt;Cost:&lt;/b&gt; ~$3.20/month" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF9C4;strokeColor=#F57C00;align=left;verticalAlign=top;fontSize=8;strokeWidth=2;" vertex="1" parent="subnet-public-1a">
          <mxGeometry x="20" y="520" width="360" height="400" as="geometry" />
        </mxCell>

        <!-- App Runner Ultra Detailed -->
        <mxCell id="apprunner-detail" value="&lt;b&gt;App Runner: miyabi-mcp-server&lt;/b&gt;&lt;br&gt;&lt;br&gt;&lt;b&gt;ARN:&lt;/b&gt; arn:aws:apprunner:us-east-1:211234825975:service:miyabi-mcp-server/abc123&lt;br&gt;&lt;b&gt;Service ID:&lt;/b&gt; peehmbqw9f&lt;br&gt;&lt;b&gt;URL:&lt;/b&gt; https://peehmbqw9f.us-east-1.awsapprunner.com&lt;br&gt;&lt;b&gt;Status:&lt;/b&gt; RUNNING&lt;br&gt;&lt;br&gt;&lt;b&gt;Source:&lt;/b&gt;&lt;br&gt;â€¢ Type: ECR&lt;br&gt;â€¢ Repository: 211234825975.dkr.ecr.us-east-1.amazonaws.com/miyabi-mcp&lt;br&gt;â€¢ Image Tag: latest&lt;br&gt;â€¢ Auto Deploy: Enabled&lt;br&gt;&lt;br&gt;&lt;b&gt;Compute:&lt;/b&gt;&lt;br&gt;â€¢ CPU: 1 vCPU&lt;br&gt;â€¢ Memory: 2 GB&lt;br&gt;â€¢ Port: 8080&lt;br&gt;&lt;br&gt;&lt;b&gt;Auto Scaling:&lt;/b&gt;&lt;br&gt;â€¢ Min Instances: 1&lt;br&gt;â€¢ Max Instances: 3&lt;br&gt;â€¢ Concurrency: 100&lt;br&gt;â€¢ Current Instances: 1&lt;br&gt;&lt;br&gt;&lt;b&gt;Health Check:&lt;/b&gt;&lt;br&gt;â€¢ Path: /health&lt;br&gt;â€¢ Protocol: HTTP&lt;br&gt;â€¢ Interval: 10s&lt;br&gt;â€¢ Timeout: 5s&lt;br&gt;â€¢ Healthy Threshold: 2&lt;br&gt;â€¢ Unhealthy Threshold: 3&lt;br&gt;&lt;br&gt;&lt;b&gt;Environment Variables (6):&lt;/b&gt;&lt;br&gt;â€¢ DATABASE_URL: (from Secrets Manager)&lt;br&gt;â€¢ REDIS_URL: redis://...&lt;br&gt;â€¢ LOG_LEVEL: info&lt;br&gt;â€¢ PORT: 8080&lt;br&gt;â€¢ RUST_BACKTRACE: 1&lt;br&gt;â€¢ MAX_CONNECTIONS: 50&lt;br&gt;&lt;br&gt;&lt;b&gt;Observability:&lt;/b&gt;&lt;br&gt;â€¢ X-Ray: Enabled&lt;br&gt;â€¢ CloudWatch Logs: /aws/apprunner/miyabi-mcp-server&lt;br&gt;â€¢ Metrics: CPU, Memory, Requests&lt;br&gt;&lt;br&gt;&lt;b&gt;Performance:&lt;/b&gt;&lt;br&gt;â€¢ Requests: ~500/day&lt;br&gt;â€¢ Latency p50: 120ms&lt;br&gt;â€¢ Latency p99: 450ms&lt;br&gt;â€¢ Errors: &lt;0.1%&lt;br&gt;&lt;br&gt;&lt;b&gt;Cost:&lt;/b&gt; ~$15/month" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E1BEE7;strokeColor=#7B1FA2;align=left;verticalAlign=top;fontSize=8;strokeWidth=2;" vertex="1" parent="subnet-public-1a">
          <mxGeometry x="440" y="520" width="360" height="500" as="geometry" />
        </mxCell>

        <!-- Private Subnet 1a -->
        <mxCell id="subnet-private-1a" value="&lt;b&gt;Private Subnet 1a&lt;/b&gt;&lt;br&gt;Subnet ID: subnet-priv-1a-xyz789&lt;br&gt;CIDR: 10.0.10.0/24 (256 IPs)&lt;br&gt;AZ: us-east-1a&lt;br&gt;Auto-assign Public IP: No&lt;br&gt;Route Table: rtb-private&lt;br&gt;NAT Gateway: nat-0abc123 (10.0.1.50)&lt;br&gt;Available IPs: 238/251" style="swimlane;whiteSpace=wrap;html=1;strokeColor=#FF9800;fillColor=#FFF3E0;fontSize=10;fontStyle=1;startSize=130;" vertex="1" parent="vpc-east">
          <mxGeometry x="440" y="150" width="400" height="600" as="geometry" />
        </mxCell>

        <!-- RDS Ultra Detailed -->
        <mxCell id="rds-detail" value="&lt;b&gt;RDS PostgreSQL: miyabi-postgres-prod&lt;/b&gt;&lt;br&gt;&lt;br&gt;&lt;b&gt;Identifier:&lt;/b&gt; miyabi-postgres-prod&lt;br&gt;&lt;b&gt;ARN:&lt;/b&gt; arn:aws:rds:us-east-1:211234825975:db:miyabi-postgres-prod&lt;br&gt;&lt;b&gt;Endpoint:&lt;/b&gt; miyabi-postgres-prod.c9abc123.us-east-1.rds.amazonaws.com:5432&lt;br&gt;&lt;b&gt;Status:&lt;/b&gt; available&lt;br&gt;&lt;br&gt;&lt;b&gt;Instance Class:&lt;/b&gt; db.t3.small&lt;br&gt;â€¢ vCPU: 2&lt;br&gt;â€¢ RAM: 2 GB&lt;br&gt;â€¢ Network: Up to 5 Gbps&lt;br&gt;â€¢ EBS Optimized: Yes&lt;br&gt;&lt;br&gt;&lt;b&gt;Storage:&lt;/b&gt;&lt;br&gt;â€¢ Type: gp3 (General Purpose SSD)&lt;br&gt;â€¢ Allocated: 100 GB&lt;br&gt;â€¢ Used: 67 GB (67%)&lt;br&gt;â€¢ IOPS: 3000 (baseline)&lt;br&gt;â€¢ Throughput: 125 MB/s&lt;br&gt;â€¢ Auto Scaling: Disabled&lt;br&gt;â€¢ Storage Encryption: AES-256 (KMS key: alias/rds-prod)&lt;br&gt;&lt;br&gt;&lt;b&gt;Engine:&lt;/b&gt;&lt;br&gt;â€¢ Type: PostgreSQL&lt;br&gt;â€¢ Version: 15.4&lt;br&gt;â€¢ License: PostgreSQL License&lt;br&gt;&lt;br&gt;&lt;b&gt;Parameter Group:&lt;/b&gt; miyabi-postgres-params-15&lt;br&gt;â€¢ max_connections: 200&lt;br&gt;â€¢ shared_buffers: 256MB&lt;br&gt;â€¢ effective_cache_size: 1GB&lt;br&gt;â€¢ work_mem: 4MB&lt;br&gt;â€¢ maintenance_work_mem: 64MB&lt;br&gt;â€¢ random_page_cost: 1.1&lt;br&gt;â€¢ log_min_duration_statement: 1000&lt;br&gt;â€¢ log_connections: on&lt;br&gt;â€¢ log_disconnections: on&lt;br&gt;&lt;br&gt;&lt;b&gt;Option Group:&lt;/b&gt; default:postgres-15&lt;br&gt;&lt;br&gt;&lt;b&gt;Subnet Group:&lt;/b&gt; miyabi-db-subnet-group&lt;br&gt;â€¢ Subnets: subnet-priv-1a, subnet-priv-1b&lt;br&gt;&lt;br&gt;&lt;b&gt;Security:&lt;/b&gt;&lt;br&gt;â€¢ Security Group: rds-postgres-sg&lt;br&gt;â€¢ Public Access: No&lt;br&gt;â€¢ SSL/TLS: Required (rds.force_ssl=1)&lt;br&gt;â€¢ IAM Auth: Disabled&lt;br&gt;&lt;br&gt;&lt;b&gt;Backup:&lt;/b&gt;&lt;br&gt;â€¢ Automated Backup: Enabled&lt;br&gt;â€¢ Retention: 7 days&lt;br&gt;â€¢ Backup Window: 03:00-04:00 UTC&lt;br&gt;â€¢ Copy to S3: No&lt;br&gt;â€¢ Latest Backup: 2025-11-28 03:15 UTC (200 MB)&lt;br&gt;&lt;br&gt;&lt;b&gt;Maintenance:&lt;/b&gt;&lt;br&gt;â€¢ Window: Sun 04:00-05:00 UTC&lt;br&gt;â€¢ Auto Minor Version Upgrade: Yes&lt;br&gt;&lt;br&gt;&lt;b&gt;Point-in-Time Recovery:&lt;/b&gt;&lt;br&gt;â€¢ Enabled: Yes&lt;br&gt;â€¢ Earliest Restore: 2025-11-21 03:00 UTC&lt;br&gt;â€¢ Latest Restore: 2025-11-28 12:55 UTC (5min ago)&lt;br&gt;&lt;br&gt;&lt;b&gt;Performance Insights:&lt;/b&gt;&lt;br&gt;â€¢ Enabled: Yes&lt;br&gt;â€¢ Retention: 7 days&lt;br&gt;â€¢ KMS Key: (default)&lt;br&gt;&lt;br&gt;&lt;b&gt;Enhanced Monitoring:&lt;/b&gt;&lt;br&gt;â€¢ Enabled: Yes&lt;br&gt;â€¢ Granularity: 60s&lt;br&gt;â€¢ IAM Role: rds-monitoring-role&lt;br&gt;&lt;br&gt;&lt;b&gt;Multi-AZ:&lt;/b&gt; No&lt;br&gt;&lt;b&gt;Read Replicas:&lt;/b&gt; None&lt;br&gt;&lt;br&gt;&lt;b&gt;Performance Metrics (last 24h):&lt;/b&gt;&lt;br&gt;â€¢ CPU: 25% avg, 68% peak&lt;br&gt;â€¢ Memory: 1.4 GB / 2 GB (70%)&lt;br&gt;â€¢ Connections: 15 avg, 42 peak&lt;br&gt;â€¢ IOPS Read: 280 avg&lt;br&gt;â€¢ IOPS Write: 95 avg&lt;br&gt;â€¢ Network Receive: 12 MB/s avg&lt;br&gt;â€¢ Network Transmit: 8 MB/s avg&lt;br&gt;â€¢ Query Latency p50: 12ms&lt;br&gt;â€¢ Query Latency p99: 85ms&lt;br&gt;&lt;br&gt;&lt;b&gt;Top Queries:&lt;/b&gt;&lt;br&gt;â€¢ SELECT * FROM agents: 450/day&lt;br&gt;â€¢ INSERT INTO logs: 1200/day&lt;br&gt;â€¢ UPDATE tasks SET status: 230/day&lt;br&gt;&lt;br&gt;&lt;b&gt;Cost:&lt;/b&gt; ~$28/month" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#C5E1A5;strokeColor=#558B2F;align=left;verticalAlign=top;fontSize=8;strokeWidth=2;" vertex="1" parent="subnet-private-1a">
          <mxGeometry x="20" y="140" width="360" height="980" as="geometry" />
        </mxCell>

        <!-- Route Tables Section -->
        <mxCell id="route-tables" value="&lt;b&gt;Route Tables&lt;/b&gt;" style="swimlane;whiteSpace=wrap;html=1;strokeColor=#1976D2;fillColor=#BBDEFB;fontSize=12;fontStyle=1;startSize=40;" vertex="1" parent="vpc-east">
          <mxGeometry x="20" y="680" width="820" height="180" as="geometry" />
        </mxCell>

        <mxCell id="rtb-public" value="&lt;b&gt;rtb-public (Public Route Table)&lt;/b&gt;&lt;br&gt;&lt;br&gt;&lt;b&gt;Routes:&lt;/b&gt;&lt;br&gt;â€¢ 10.0.0.0/16 â†’ local&lt;br&gt;â€¢ 0.0.0.0/0 â†’ igw-0abc123 (Internet Gateway)&lt;br&gt;&lt;br&gt;&lt;b&gt;Associations:&lt;/b&gt;&lt;br&gt;â€¢ subnet-pub-1a-abc123&lt;br&gt;â€¢ subnet-pub-1b-def456" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#BBDEFB;strokeColor=#1976D2;align=left;verticalAlign=top;fontSize=9;strokeWidth=2;" vertex="1" parent="route-tables">
          <mxGeometry x="20" y="50" width="250" height="110" as="geometry" />
        </mxCell>

        <mxCell id="rtb-private" value="&lt;b&gt;rtb-private (Private Route Table)&lt;/b&gt;&lt;br&gt;&lt;br&gt;&lt;b&gt;Routes:&lt;/b&gt;&lt;br&gt;â€¢ 10.0.0.0/16 â†’ local&lt;br&gt;â€¢ 0.0.0.0/0 â†’ nat-0abc123 (NAT Gateway)&lt;br&gt;&lt;br&gt;&lt;b&gt;Associations:&lt;/b&gt;&lt;br&gt;â€¢ subnet-priv-1a-xyz789&lt;br&gt;â€¢ subnet-priv-1b-ghi012" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#BBDEFB;strokeColor=#1976D2;align=left;verticalAlign=top;fontSize=9;strokeWidth=2;" vertex="1" parent="route-tables">
          <mxGeometry x="290" y="50" width="250" height="110" as="geometry" />
        </mxCell>

        <mxCell id="igw" value="&lt;b&gt;Internet Gateway&lt;/b&gt;&lt;br&gt;&lt;br&gt;IGW ID: igw-0abc123&lt;br&gt;State: attached&lt;br&gt;VPC: vpc-0a1b2c3d4e5f" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#BBDEFB;strokeColor=#1976D2;align=left;verticalAlign=top;fontSize=9;strokeWidth=2;" vertex="1" parent="route-tables">
          <mxGeometry x="560" y="50" width="120" height="110" as="geometry" />
        </mxCell>

        <mxCell id="nat-gw" value="&lt;b&gt;NAT Gateway&lt;/b&gt;&lt;br&gt;&lt;br&gt;NAT ID: nat-0abc123&lt;br&gt;State: available&lt;br&gt;Subnet: subnet-pub-1a&lt;br&gt;Private IP: 10.0.1.50&lt;br&gt;Elastic IP: 3.84.123.45" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#BBDEFB;strokeColor=#1976D2;align=left;verticalAlign=top;fontSize=9;strokeWidth=2;" vertex="1" parent="route-tables">
          <mxGeometry x="700" y="50" width="110" height="110" as="geometry" />
        </mxCell>

        <!-- Network ACLs -->
        <mxCell id="nacl-section" value="&lt;b&gt;Network ACLs&lt;/b&gt;" style="swimlane;whiteSpace=wrap;html=1;strokeColor=#C2185B;fillColor=#F8BBD0;fontSize=12;fontStyle=1;startSize=40;" vertex="1" parent="vpc-east">
          <mxGeometry x="20" y="880" width="820" height="140" as="geometry" />
        </mxCell>

        <mxCell id="nacl-default" value="&lt;b&gt;NACL: nacl-default (Default)&lt;/b&gt;&lt;br&gt;&lt;br&gt;&lt;b&gt;Inbound Rules:&lt;/b&gt;&lt;br&gt;â€¢ 100: ALL Traffic, 0.0.0.0/0, ALLOW&lt;br&gt;&lt;br&gt;&lt;b&gt;Outbound Rules:&lt;/b&gt;&lt;br&gt;â€¢ 100: ALL Traffic, 0.0.0.0/0, ALLOW&lt;br&gt;&lt;br&gt;&lt;b&gt;Associations:&lt;/b&gt; All subnets (default)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F8BBD0;strokeColor=#C2185B;align=left;verticalAlign=top;fontSize=9;strokeWidth=2;" vertex="1" parent="nacl-section">
          <mxGeometry x="20" y="50" width="380" height="80" as="geometry" />
        </mxCell>

        <mxCell id="vpc-flow-logs" value="&lt;b&gt;VPC Flow Logs&lt;/b&gt;&lt;br&gt;&lt;br&gt;â€¢ Destination: CloudWatch Logs&lt;br&gt;â€¢ Log Group: /aws/vpc/miyabi-prod-vpc&lt;br&gt;â€¢ Traffic Type: ALL&lt;br&gt;â€¢ Format: Default&lt;br&gt;â€¢ IAM Role: vpc-flow-logs-role&lt;br&gt;â€¢ Cost: ~$1.50/month" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F8BBD0;strokeColor=#C2185B;align=left;verticalAlign=top;fontSize=9;strokeWidth=2;" vertex="1" parent="nacl-section">
          <mxGeometry x="420" y="50" width="380" height="80" as="geometry" />
        </mxCell>

        <!-- VPC Endpoints -->
        <mxCell id="vpc-endpoints" value="&lt;b&gt;VPC Endpoints (3)&lt;/b&gt;&lt;br&gt;&lt;br&gt;&lt;b&gt;1. S3 Gateway Endpoint&lt;/b&gt;&lt;br&gt;â€¢ Type: Gateway&lt;br&gt;â€¢ Service: com.amazonaws.us-east-1.s3&lt;br&gt;â€¢ Route Tables: rtb-public, rtb-private&lt;br&gt;â€¢ Cost: Free&lt;br&gt;&lt;br&gt;&lt;b&gt;2. DynamoDB Gateway Endpoint&lt;/b&gt;&lt;br&gt;â€¢ Type: Gateway&lt;br&gt;â€¢ Service: com.amazonaws.us-east-1.dynamodb&lt;br&gt;â€¢ Route Tables: rtb-private&lt;br&gt;â€¢ Cost: Free&lt;br&gt;&lt;br&gt;&lt;b&gt;3. Secrets Manager Interface Endpoint&lt;/b&gt;&lt;br&gt;â€¢ Type: Interface&lt;br&gt;â€¢ Service: com.amazonaws.us-east-1.secretsmanager&lt;br&gt;â€¢ Subnets: subnet-priv-1a, subnet-priv-1b&lt;br&gt;â€¢ Private DNS: Enabled&lt;br&gt;â€¢ Cost: ~$7.30/month" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#BBDEFB;strokeColor=#1976D2;align=left;verticalAlign=top;fontSize=9;strokeWidth=2;" vertex="1" parent="vpc-east">
          <mxGeometry x="20" y="1040" width="820" height="140" as="geometry" />
        </mxCell>

        <!-- Security Groups Ultra Detailed -->
        <mxCell id="sg-section-detail" value="&lt;b&gt;Security Groups (5 in us-east-1)&lt;/b&gt;" style="swimlane;whiteSpace=wrap;html=1;strokeColor=#D32F2F;fillColor=#FFEBEE;fontSize=14;fontStyle=1;startSize=50;" vertex="1" parent="region-us-east-1">
          <mxGeometry x="20" y="1520" width="860" height="300" as="geometry" />
        </mxCell>

        <mxCell id="sg-lambda-ultra" value="&lt;b&gt;lambda-sg (sg-0abc123)&lt;/b&gt;&lt;br&gt;&lt;br&gt;&lt;b&gt;Inbound:&lt;/b&gt;&lt;br&gt;â€¢ None (Lambda managed)&lt;br&gt;&lt;br&gt;&lt;b&gt;Outbound:&lt;/b&gt;&lt;br&gt;â€¢ 443 TCP â†’ 0.0.0.0/0 (HTTPS)&lt;br&gt;â€¢ 5432 TCP â†’ sg-rds-xyz (PostgreSQL)&lt;br&gt;â€¢ 80 TCP â†’ 0.0.0.0/0 (HTTP)&lt;br&gt;â€¢ 6379 TCP â†’ sg-redis-abc (Redis)&lt;br&gt;&lt;br&gt;&lt;b&gt;Tags:&lt;/b&gt;&lt;br&gt;â€¢ Name: lambda-sg&lt;br&gt;â€¢ Environment: production&lt;br&gt;â€¢ ManagedBy: terraform" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFEBEE;strokeColor=#D32F2F;align=left;verticalAlign=top;fontSize=8;strokeWidth=2;" vertex="1" parent="sg-section-detail">
          <mxGeometry x="20" y="60" width="160" height="220" as="geometry" />
        </mxCell>

        <mxCell id="sg-rds-ultra" value="&lt;b&gt;rds-postgres-sg (sg-rds-xyz)&lt;/b&gt;&lt;br&gt;&lt;br&gt;&lt;b&gt;Inbound:&lt;/b&gt;&lt;br&gt;â€¢ 5432 TCP â† sg-0abc123 (lambda-sg)&lt;br&gt;â€¢ 5432 TCP â† sg-apprunner-def&lt;br&gt;â€¢ 5432 TCP â† sg-mugen-ghi (EC2)&lt;br&gt;â€¢ 5432 TCP â† 100.112.127.63/32 (MacBook via Tailscale)&lt;br&gt;&lt;br&gt;&lt;b&gt;Outbound:&lt;/b&gt;&lt;br&gt;â€¢ All â†’ 0.0.0.0/0&lt;br&gt;&lt;br&gt;&lt;b&gt;Tags:&lt;/b&gt;&lt;br&gt;â€¢ Name: rds-postgres-sg&lt;br&gt;â€¢ Environment: production&lt;br&gt;â€¢ ManagedBy: terraform&lt;br&gt;â€¢ CostCenter: database" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFEBEE;strokeColor=#D32F2F;align=left;verticalAlign=top;fontSize=8;strokeWidth=2;" vertex="1" parent="sg-section-detail">
          <mxGeometry x="200" y="60" width="160" height="220" as="geometry" />
        </mxCell>

        <mxCell id="sg-apprunner-ultra" value="&lt;b&gt;apprunner-sg (sg-apprunner-def)&lt;/b&gt;&lt;br&gt;&lt;br&gt;&lt;b&gt;Inbound:&lt;/b&gt;&lt;br&gt;â€¢ 8080 TCP â† 0.0.0.0/0&lt;br&gt;â€¢ 443 TCP â† 0.0.0.0/0&lt;br&gt;&lt;br&gt;&lt;b&gt;Outbound:&lt;/b&gt;&lt;br&gt;â€¢ All â†’ 0.0.0.0/0&lt;br&gt;&lt;br&gt;&lt;b&gt;Tags:&lt;/b&gt;&lt;br&gt;â€¢ Name: apprunner-sg&lt;br&gt;â€¢ Environment: production&lt;br&gt;â€¢ ManagedBy: console" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFEBEE;strokeColor=#D32F2F;align=left;verticalAlign=top;fontSize=8;strokeWidth=2;" vertex="1" parent="sg-section-detail">
          <mxGeometry x="380" y="60" width="140" height="220" as="geometry" />
        </mxCell>

        <mxCell id="sg-vpc-endpoints" value="&lt;b&gt;vpc-endpoints-sg (sg-vpce-jkl)&lt;/b&gt;&lt;br&gt;&lt;br&gt;&lt;b&gt;Inbound:&lt;/b&gt;&lt;br&gt;â€¢ 443 TCP â† 10.0.0.0/16&lt;br&gt;&lt;br&gt;&lt;b&gt;Outbound:&lt;/b&gt;&lt;br&gt;â€¢ All â†’ 0.0.0.0/0&lt;br&gt;&lt;br&gt;&lt;b&gt;Used by:&lt;/b&gt;&lt;br&gt;â€¢ Secrets Manager endpoint&lt;br&gt;&lt;br&gt;&lt;b&gt;Tags:&lt;/b&gt;&lt;br&gt;â€¢ Name: vpc-endpoints-sg&lt;br&gt;â€¢ Environment: production" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFEBEE;strokeColor=#D32F2F;align=left;verticalAlign=top;fontSize=8;strokeWidth=2;" vertex="1" parent="sg-section-detail">
          <mxGeometry x="540" y="60" width="140" height="220" as="geometry" />
        </mxCell>

        <mxCell id="sg-bastion" value="&lt;b&gt;bastion-sg (sg-bastion-mno)&lt;/b&gt;&lt;br&gt;&lt;br&gt;&lt;b&gt;Inbound:&lt;/b&gt;&lt;br&gt;â€¢ 22 TCP â† 203.0.113.0/24 (Office IP)&lt;br&gt;â€¢ 22 TCP â† 100.64.0.0/10 (Tailscale)&lt;br&gt;&lt;br&gt;&lt;b&gt;Outbound:&lt;/b&gt;&lt;br&gt;â€¢ All â†’ 0.0.0.0/0&lt;br&gt;&lt;br&gt;&lt;b&gt;Note:&lt;/b&gt; Currently no instances&lt;br&gt;&lt;br&gt;&lt;b&gt;Tags:&lt;/b&gt;&lt;br&gt;â€¢ Name: bastion-sg&lt;br&gt;â€¢ Environment: production" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFEBEE;strokeColor=#D32F2F;align=left;verticalAlign=top;fontSize=8;strokeWidth=2;" vertex="1" parent="sg-section-detail">
          <mxGeometry x="700" y="60" width="140" height="220" as="geometry" />
        </mxCell>

        <!-- IAM Roles Ultra Detailed -->
        <mxCell id="iam-section-detail" value="&lt;b&gt;IAM Roles &amp; Policies (6 Roles in us-east-1)&lt;/b&gt;" style="swimlane;whiteSpace=wrap;html=1;strokeColor=#673AB7;fillColor=#EDE7F6;fontSize=14;fontStyle=1;startSize=50;" vertex="1" parent="region-us-east-1">
          <mxGeometry x="20" y="1840" width="860" height="320" as="geometry" />
        </mxCell>

        <mxCell id="iam-lambda-exec-ultra" value="&lt;b&gt;lambda-exec-role-prod&lt;/b&gt;&lt;br&gt;&lt;br&gt;&lt;b&gt;ARN:&lt;/b&gt; arn:aws:iam::211234825975:role/lambda-exec-role-prod&lt;br&gt;&lt;br&gt;&lt;b&gt;Managed Policies (3):&lt;/b&gt;&lt;br&gt;â€¢ AWSLambdaBasicExecutionRole&lt;br&gt;â€¢ AWSLambdaVPCAccessExecutionRole&lt;br&gt;â€¢ AWSXRayDaemonWriteAccess&lt;br&gt;&lt;br&gt;&lt;b&gt;Inline Policies (2):&lt;/b&gt;&lt;br&gt;â€¢ RDS-Read-Write:&lt;br&gt;  - rds:DescribeDBInstances&lt;br&gt;  - rds:Connect (IAM auth)&lt;br&gt;â€¢ S3-Logs-Write:&lt;br&gt;  - s3:PutObject (miyabi-logs-dev/*)&lt;br&gt;  - s3:GetObject&lt;br&gt;&lt;br&gt;&lt;b&gt;Trust Policy:&lt;/b&gt;&lt;br&gt;â€¢ Service: lambda.amazonaws.com&lt;br&gt;&lt;br&gt;&lt;b&gt;Max Session Duration:&lt;/b&gt; 1 hour&lt;br&gt;&lt;br&gt;&lt;b&gt;Tags:&lt;/b&gt;&lt;br&gt;â€¢ Environment: production&lt;br&gt;â€¢ ManagedBy: terraform" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#EDE7F6;strokeColor=#673AB7;align=left;verticalAlign=top;fontSize=8;strokeWidth=2;" vertex="1" parent="iam-section-detail">
          <mxGeometry x="20" y="60" width="270" height="240" as="geometry" />
        </mxCell>

        <mxCell id="iam-apprunner-ultra" value="&lt;b&gt;apprunner-instance-role&lt;/b&gt;&lt;br&gt;&lt;br&gt;&lt;b&gt;ARN:&lt;/b&gt; arn:aws:iam::211234825975:role/apprunner-instance-role&lt;br&gt;&lt;br&gt;&lt;b&gt;Managed Policies (1):&lt;/b&gt;&lt;br&gt;â€¢ AWSAppRunnerServicePolicyForECRAccess&lt;br&gt;&lt;br&gt;&lt;b&gt;Inline Policies (3):&lt;/b&gt;&lt;br&gt;â€¢ RDS-Read-Only:&lt;br&gt;  - rds:DescribeDBInstances&lt;br&gt;â€¢ S3-Artifacts-Read:&lt;br&gt;  - s3:GetObject (miyabi-artifacts-dev/*)&lt;br&gt;â€¢ Secrets-Read:&lt;br&gt;  - secretsmanager:GetSecretValue&lt;br&gt;  - kms:Decrypt&lt;br&gt;&lt;br&gt;&lt;b&gt;Trust Policy:&lt;/b&gt;&lt;br&gt;â€¢ Service: build.apprunner.amazonaws.com&lt;br&gt;â€¢ Service: tasks.apprunner.amazonaws.com&lt;br&gt;&lt;br&gt;&lt;b&gt;Tags:&lt;/b&gt;&lt;br&gt;â€¢ Environment: production" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#EDE7F6;strokeColor=#673AB7;align=left;verticalAlign=top;fontSize=8;strokeWidth=2;" vertex="1" parent="iam-section-detail">
          <mxGeometry x="310" y="60" width="260" height="240" as="geometry" />
        </mxCell>

        <mxCell id="iam-backup-ultra" value="&lt;b&gt;lambda-s3-backup-role&lt;/b&gt;&lt;br&gt;&lt;br&gt;&lt;b&gt;ARN:&lt;/b&gt; arn:aws:iam::211234825975:role/lambda-s3-backup-role&lt;br&gt;&lt;br&gt;&lt;b&gt;Managed Policies (1):&lt;/b&gt;&lt;br&gt;â€¢ AWSLambdaBasicExecutionRole&lt;br&gt;&lt;br&gt;&lt;b&gt;Inline Policies (3):&lt;/b&gt;&lt;br&gt;â€¢ S3-Backup-Full:&lt;br&gt;  - s3:* (aimovie-instance-store-backup/*)&lt;br&gt;â€¢ EC2-Snapshot:&lt;br&gt;  - ec2:CreateSnapshot&lt;br&gt;  - ec2:DescribeSnapshots&lt;br&gt;  - ec2:DeleteSnapshot&lt;br&gt;â€¢ SNS-Publish:&lt;br&gt;  - sns:Publish (cost-alerts)&lt;br&gt;&lt;br&gt;&lt;b&gt;Trust Policy:&lt;/b&gt;&lt;br&gt;â€¢ Service: lambda.amazonaws.com&lt;br&gt;&lt;br&gt;&lt;b&gt;Tags:&lt;/b&gt;&lt;br&gt;â€¢ Environment: production&lt;br&gt;â€¢ Purpose: backup" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#EDE7F6;strokeColor=#673AB7;align=left;verticalAlign=top;fontSize=8;strokeWidth=2;" vertex="1" parent="iam-section-detail">
          <mxGeometry x="590" y="60" width="250" height="240" as="geometry" />
        </mxCell>

        <!-- Monitoring Ultra Detailed -->
        <mxCell id="monitoring-ultra" value="&lt;b&gt;Monitoring &amp; Observability (us-east-1)&lt;/b&gt;" style="swimlane;whiteSpace=wrap;html=1;strokeColor=#00897B;fillColor=#E0F2F1;fontSize=14;fontStyle=1;startSize=50;" vertex="1" parent="region-us-east-1">
          <mxGeometry x="20" y="2180" width="860" height="400" as="geometry" />
        </mxCell>

        <mxCell id="cloudwatch-logs-ultra" value="&lt;b&gt;CloudWatch Logs (8 Log Groups)&lt;/b&gt;&lt;br&gt;&lt;br&gt;&lt;b&gt;1. /aws/lambda/miyabi-api-production&lt;/b&gt;&lt;br&gt;â€¢ Retention: 30 days&lt;br&gt;â€¢ Size: 850 MB&lt;br&gt;â€¢ Streams: 24&lt;br&gt;â€¢ KMS: alias/cloudwatch-logs&lt;br&gt;&lt;br&gt;&lt;b&gt;2. /aws/lambda/cost-alert-to-lark&lt;/b&gt;&lt;br&gt;â€¢ Retention: 14 days&lt;br&gt;â€¢ Size: 12 MB&lt;br&gt;&lt;br&gt;&lt;b&gt;3. /aws/lambda/instancestore-backup&lt;/b&gt;&lt;br&gt;â€¢ Retention: 7 days&lt;br&gt;â€¢ Size: 180 MB&lt;br&gt;&lt;br&gt;&lt;b&gt;4. /aws/apprunner/miyabi-mcp-server&lt;/b&gt;&lt;br&gt;â€¢ Retention: 30 days&lt;br&gt;â€¢ Size: 320 MB&lt;br&gt;&lt;br&gt;&lt;b&gt;5. /aws/rds/instance/miyabi-postgres-prod/postgresql&lt;/b&gt;&lt;br&gt;â€¢ Retention: 7 days&lt;br&gt;â€¢ Size: 450 MB&lt;br&gt;&lt;br&gt;&lt;b&gt;6. /aws/rds/instance/miyabi-postgres-prod/upgrade&lt;/b&gt;&lt;br&gt;â€¢ Retention: 30 days&lt;br&gt;â€¢ Size: 5 MB&lt;br&gt;&lt;br&gt;&lt;b&gt;7. /aws/vpc/miyabi-prod-vpc&lt;/b&gt;&lt;br&gt;â€¢ Retention: 7 days&lt;br&gt;â€¢ Size: 680 MB&lt;br&gt;&lt;br&gt;&lt;b&gt;8. /aws/events/miyabi-scheduled-tasks&lt;/b&gt;&lt;br&gt;â€¢ Retention: 14 days&lt;br&gt;â€¢ Size: 22 MB&lt;br&gt;&lt;br&gt;&lt;b&gt;Total Size:&lt;/b&gt; ~2.5 GB&lt;br&gt;&lt;b&gt;Total Cost:&lt;/b&gt; ~$1.25/month" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E0F2F1;strokeColor=#00897B;align=left;verticalAlign=top;fontSize=8;strokeWidth=2;" vertex="1" parent="monitoring-ultra">
          <mxGeometry x="20" y="60" width="260" height="320" as="geometry" />
        </mxCell>

        <mxCell id="cloudwatch-alarms-ultra" value="&lt;b&gt;CloudWatch Alarms (12 Active)&lt;/b&gt;&lt;br&gt;&lt;br&gt;&lt;b&gt;Lambda Alarms:&lt;/b&gt;&lt;br&gt;â€¢ miyabi-api-errors: Errors &gt; 5 in 5min&lt;br&gt;â€¢ miyabi-api-duration: Duration &gt; 25s&lt;br&gt;â€¢ miyabi-api-throttles: Throttles &gt; 1&lt;br&gt;â€¢ backup-lambda-failures: Errors &gt; 0&lt;br&gt;&lt;br&gt;&lt;b&gt;RDS Alarms:&lt;/b&gt;&lt;br&gt;â€¢ rds-cpu-high: CPU &gt; 80% for 10min&lt;br&gt;â€¢ rds-storage-low: FreeStorage &lt; 10GB&lt;br&gt;â€¢ rds-connections-high: Connections &gt; 180&lt;br&gt;â€¢ rds-replica-lag: ReplicaLag &gt; 30s (N/A)&lt;br&gt;&lt;br&gt;&lt;b&gt;App Runner Alarms:&lt;/b&gt;&lt;br&gt;â€¢ apprunner-unhealthy: HealthyTargets &lt; 1&lt;br&gt;â€¢ apprunner-latency: Latency p99 &gt; 1s&lt;br&gt;&lt;br&gt;&lt;b&gt;Cost Alarms:&lt;/b&gt;&lt;br&gt;â€¢ daily-cost-alert: EstimatedCharges &gt; $20/day&lt;br&gt;â€¢ monthly-budget: Actual &gt; $500/month&lt;br&gt;&lt;br&gt;&lt;b&gt;Actions:&lt;/b&gt;&lt;br&gt;â€¢ SNS Topic: aifactory-org-cost-alerts&lt;br&gt;â€¢ Auto Scaling (App Runner)&lt;br&gt;&lt;br&gt;&lt;b&gt;Triggered (last 7d):&lt;/b&gt;&lt;br&gt;â€¢ rds-cpu-high: 2 times&lt;br&gt;â€¢ miyabi-api-duration: 1 time" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E0F2F1;strokeColor=#00897B;align=left;verticalAlign=top;fontSize=8;strokeWidth=2;" vertex="1" parent="monitoring-ultra">
          <mxGeometry x="300" y="60" width="260" height="320" as="geometry" />
        </mxCell>

        <mxCell id="xray-ultra" value="&lt;b&gt;X-Ray Tracing&lt;/b&gt;&lt;br&gt;&lt;br&gt;&lt;b&gt;Enabled Services:&lt;/b&gt;&lt;br&gt;â€¢ Lambda: miyabi-api-production&lt;br&gt;â€¢ App Runner: miyabi-mcp-server&lt;br&gt;&lt;br&gt;&lt;b&gt;Sampling:&lt;/b&gt;&lt;br&gt;â€¢ Rate: 10% (0.1)&lt;br&gt;â€¢ Reservoir: 1 req/s&lt;br&gt;&lt;br&gt;&lt;b&gt;Traces/day:&lt;/b&gt; ~120&lt;br&gt;&lt;b&gt;Retention:&lt;/b&gt; 30 days&lt;br&gt;&lt;br&gt;&lt;b&gt;Service Map:&lt;/b&gt;&lt;br&gt;â€¢ API Gateway â†’ Lambda&lt;br&gt;â€¢ Lambda â†’ RDS PostgreSQL&lt;br&gt;â€¢ Lambda â†’ S3&lt;br&gt;â€¢ App Runner â†’ RDS&lt;br&gt;&lt;br&gt;&lt;b&gt;Insights:&lt;/b&gt;&lt;br&gt;â€¢ Enabled: Yes&lt;br&gt;â€¢ Notifications: SNS&lt;br&gt;&lt;br&gt;&lt;b&gt;Cost:&lt;/b&gt; ~$0.80/month" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E0F2F1;strokeColor=#00897B;align=left;verticalAlign=top;fontSize=8;strokeWidth=2;" vertex="1" parent="monitoring-ultra">
          <mxGeometry x="580" y="60" width="260" height="320" as="geometry" />
        </mxCell>

        <!-- SNS Topics Ultra Detailed -->
        <mxCell id="sns-ultra" value="&lt;b&gt;SNS Topics (3 topics)&lt;/b&gt;&lt;br&gt;&lt;br&gt;&lt;b&gt;1. aifactory-org-cost-alerts&lt;/b&gt;&lt;br&gt;â€¢ ARN: arn:aws:sns:us-east-1:211234825975:aifactory-org-cost-alerts&lt;br&gt;â€¢ Subscriptions (3):&lt;br&gt;  - Lambda: cost-alert-to-lark&lt;br&gt;  - Email: admin@miyabi-world.com (confirmed)&lt;br&gt;  - Email: billing@miyabi-world.com (pending)&lt;br&gt;â€¢ Encryption: KMS (alias/sns-prod)&lt;br&gt;â€¢ Messages/day: 1-3&lt;br&gt;â€¢ Delivery Policy: Immediate&lt;br&gt;&lt;br&gt;&lt;b&gt;2. backup-notifications&lt;/b&gt;&lt;br&gt;â€¢ Subscriptions (2):&lt;br&gt;  - Email: ops@miyabi-world.com&lt;br&gt;  - SMS: +81-90-xxxx-xxxx&lt;br&gt;â€¢ Messages: On backup success/failure&lt;br&gt;&lt;br&gt;&lt;b&gt;3. alarm-critical&lt;/b&gt;&lt;br&gt;â€¢ Subscriptions (1):&lt;br&gt;  - PagerDuty endpoint&lt;br&gt;â€¢ Messages: CloudWatch Alarms&lt;br&gt;&lt;br&gt;&lt;b&gt;Total Cost:&lt;/b&gt; ~$0.50/month" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E0F2F1;strokeColor=#00897B;align=left;verticalAlign=top;fontSize=8;strokeWidth=2;" vertex="1" parent="region-us-east-1">
          <mxGeometry x="20" y="2600" width="420" height="320" as="geometry" />
        </mxCell>

        <!-- EventBridge Ultra Detailed -->
        <mxCell id="eventbridge-ultra" value="&lt;b&gt;EventBridge Rules (5 rules)&lt;/b&gt;&lt;br&gt;&lt;br&gt;&lt;b&gt;1. daily-cost-report&lt;/b&gt;&lt;br&gt;â€¢ Schedule: cron(0 9 * * ? *)&lt;br&gt;â€¢ Target: Lambda (cost-alert-to-lark)&lt;br&gt;â€¢ State: ENABLED&lt;br&gt;&lt;br&gt;&lt;b&gt;2. backup-instance-store&lt;/b&gt;&lt;br&gt;â€¢ Schedule: rate(6 hours)&lt;br&gt;â€¢ Target: Lambda (instancestore-backup)&lt;br&gt;â€¢ State: ENABLED&lt;br&gt;â€¢ Dead Letter Queue: Yes (SQS)&lt;br&gt;&lt;br&gt;&lt;b&gt;3. rds-snapshot-cleanup&lt;/b&gt;&lt;br&gt;â€¢ Schedule: cron(0 2 * * ? *)&lt;br&gt;â€¢ Target: Lambda (snapshot-cleanup)&lt;br&gt;â€¢ State: ENABLED&lt;br&gt;&lt;br&gt;&lt;b&gt;4. ec2-state-change&lt;/b&gt;&lt;br&gt;â€¢ Event Pattern: EC2 instance state change&lt;br&gt;â€¢ Target: SNS (ops-alerts)&lt;br&gt;â€¢ State: ENABLED&lt;br&gt;&lt;br&gt;&lt;b&gt;5. security-findings&lt;/b&gt;&lt;br&gt;â€¢ Event Pattern: GuardDuty findings&lt;br&gt;â€¢ Target: SNS (alarm-critical)&lt;br&gt;â€¢ State: ENABLED&lt;br&gt;&lt;br&gt;&lt;b&gt;Event Bus:&lt;/b&gt; default&lt;br&gt;&lt;b&gt;Archive:&lt;/b&gt; 90 days (all-events)&lt;br&gt;&lt;b&gt;Cost:&lt;/b&gt; ~$0.05/month" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E0F2F1;strokeColor=#00897B;align=left;verticalAlign=top;fontSize=8;strokeWidth=2;" vertex="1" parent="region-us-east-1">
          <mxGeometry x="460" y="2600" width="420" height="320" as="geometry" />
        </mxCell>

        <!-- Secrets Manager & Parameter Store -->
        <mxCell id="secrets-ultra" value="&lt;b&gt;Secrets Manager (8 secrets)&lt;/b&gt;&lt;br&gt;&lt;br&gt;&lt;b&gt;1. prod/database/master&lt;/b&gt;&lt;br&gt;â€¢ Type: RDS credentials&lt;br&gt;â€¢ Rotation: 30 days (automatic)&lt;br&gt;â€¢ KMS: alias/secrets-prod&lt;br&gt;â€¢ Last Rotated: 2025-11-15&lt;br&gt;â€¢ Cost: $0.40/month&lt;br&gt;&lt;br&gt;&lt;b&gt;2. prod/lark/webhook&lt;/b&gt;&lt;br&gt;â€¢ Type: API key&lt;br&gt;â€¢ Rotation: Manual&lt;br&gt;â€¢ Last Accessed: 2025-11-28&lt;br&gt;&lt;br&gt;&lt;b&gt;3. prod/openai/api-key&lt;/b&gt;&lt;br&gt;4. prod/github/token&lt;/b&gt;&lt;br&gt;5. prod/stripe/secret-key&lt;/b&gt;&lt;br&gt;6. prod/redis/password&lt;/b&gt;&lt;br&gt;7. prod/jwt/signing-key&lt;/b&gt;&lt;br&gt;8. prod/slack/webhook&lt;/b&gt;&lt;br&gt;&lt;br&gt;&lt;b&gt;Total Cost:&lt;/b&gt; ~$3.20/month&lt;br&gt;&lt;br&gt;&lt;b&gt;Systems Manager Parameter Store:&lt;/b&gt;&lt;br&gt;â€¢ /prod/config/api-version: v1.2.3&lt;br&gt;â€¢ /prod/config/max-connections: 200&lt;br&gt;â€¢ /prod/config/log-level: info&lt;br&gt;â€¢ /prod/feature-flags/*: 12 parameters&lt;br&gt;â€¢ Cost: Free (Standard tier)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#EDE7F6;strokeColor=#673AB7;align=left;verticalAlign=top;fontSize=8;strokeWidth=2;" vertex="1" parent="region-us-east-1">
          <mxGeometry x="20" y="2940" width="420" height="340" as="geometry" />
        </mxCell>

        <!-- KMS Keys Ultra Detailed -->
        <mxCell id="kms-ultra" value="&lt;b&gt;KMS Keys (5 keys)&lt;/b&gt;&lt;br&gt;&lt;br&gt;&lt;b&gt;1. alias/rds-prod&lt;/b&gt;&lt;br&gt;â€¢ Key ID: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&lt;br&gt;â€¢ Type: AWS managed (symmetric)&lt;br&gt;â€¢ Usage: RDS encryption at rest&lt;br&gt;â€¢ Rotation: Automatic (365 days)&lt;br&gt;â€¢ Origin: AWS_KMS&lt;br&gt;â€¢ Key Policy: RDS service + admin access&lt;br&gt;â€¢ Cost: $1/month&lt;br&gt;&lt;br&gt;&lt;b&gt;2. alias/s3-backup&lt;/b&gt;&lt;br&gt;â€¢ Type: Customer managed&lt;br&gt;â€¢ Usage: S3 bucket encryption (aimovie-*)&lt;br&gt;â€¢ Rotation: Enabled&lt;br&gt;â€¢ Cost: $1/month&lt;br&gt;&lt;br&gt;&lt;b&gt;3. alias/secrets-prod&lt;/b&gt;&lt;br&gt;â€¢ Usage: Secrets Manager encryption&lt;br&gt;â€¢ Key Policy: Secrets Manager + Lambda&lt;br&gt;â€¢ Cost: $1/month&lt;br&gt;&lt;br&gt;&lt;b&gt;4. alias/cloudwatch-logs&lt;/b&gt;&lt;br&gt;â€¢ Usage: CloudWatch Logs encryption&lt;br&gt;â€¢ Cost: $1/month&lt;br&gt;&lt;br&gt;&lt;b&gt;5. alias/sns-prod&lt;/b&gt;&lt;br&gt;â€¢ Usage: SNS topic encryption&lt;br&gt;â€¢ Cost: $1/month&lt;br&gt;&lt;br&gt;&lt;b&gt;Key Usage:&lt;/b&gt;&lt;br&gt;â€¢ Encrypt/Decrypt requests: ~50K/month&lt;br&gt;â€¢ Free tier: First 20K free&lt;br&gt;&lt;br&gt;&lt;b&gt;Total KMS Cost:&lt;/b&gt; ~$5.15/month" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#EDE7F6;strokeColor=#673AB7;align=left;verticalAlign=top;fontSize=8;strokeWidth=2;" vertex="1" parent="region-us-east-1">
          <mxGeometry x="460" y="2940" width="420" height="340" as="geometry" />
        </mxCell>

        <!-- ===== REGION: us-west-2 (Oregon) ===== -->
        <mxCell id="region-us-west-2" value="&lt;b&gt;ðŸŒ² us-west-2 (Oregon) - Development &amp; Storage Region&lt;/b&gt;" style="swimlane;whiteSpace=wrap;html=1;strokeColor=#569A31;fillColor=#D5E8D4;fontSize=18;fontStyle=1;startSize=50;" vertex="1" parent="1">
          <mxGeometry x="1000" y="200" width="950" height="1600" as="geometry" />
        </mxCell>

        <!-- EC2 MUGEN Ultra Detailed -->
        <mxCell id="ec2-mugen-ultra" value="&lt;b&gt;EC2: MUGEN (ç„¡é™) - Development Workstation&lt;/b&gt;&lt;br&gt;&lt;br&gt;&lt;b&gt;Instance ID:&lt;/b&gt; i-0abc123def456789a&lt;br&gt;&lt;b&gt;Type:&lt;/b&gt; r5.4xlarge (Memory Optimized)&lt;br&gt;&lt;b&gt;vCPU:&lt;/b&gt; 16 (Intel Xeon Platinum 8000)&lt;br&gt;&lt;b&gt;RAM:&lt;/b&gt; 128 GB&lt;br&gt;&lt;b&gt;Network:&lt;/b&gt; Up to 10 Gbps&lt;br&gt;&lt;b&gt;EBS Optimized:&lt;/b&gt; Yes (10,000 Mbps)&lt;br&gt;&lt;br&gt;&lt;b&gt;Network:&lt;/b&gt;&lt;br&gt;â€¢ Public IP: 44.250.27.197&lt;br&gt;â€¢ Private IP: 10.1.10.50&lt;br&gt;â€¢ VPC: vpc-dev-west-2&lt;br&gt;â€¢ Subnet: subnet-dev-pub-2a&lt;br&gt;â€¢ Security Group: ec2-mugen-sg&lt;br&gt;â€¢ Elastic IP: eipalloc-0xyz789&lt;br&gt;&lt;br&gt;&lt;b&gt;Storage (3 volumes):&lt;/b&gt;&lt;br&gt;â€¢ Root: /dev/xvda - 100 GB gp3, 3000 IOPS&lt;br&gt;â€¢ Data: /dev/xvdf - 500 GB gp3, 16000 IOPS&lt;br&gt;â€¢ Backup: /dev/xvdg - 200 GB st1 (throughput optimized)&lt;br&gt;â€¢ Total: 800 GB&lt;br&gt;â€¢ Encryption: All encrypted (KMS alias/ec2-dev)&lt;br&gt;&lt;br&gt;&lt;b&gt;AMI:&lt;/b&gt;&lt;br&gt;â€¢ ID: ami-ubuntu-22.04-custom-v3&lt;br&gt;â€¢ OS: Ubuntu 22.04 LTS&lt;br&gt;â€¢ Kernel: 5.15.0-1052-aws&lt;br&gt;â€¢ Custom: Rust 1.75, Node.js 20, Docker 24&lt;br&gt;&lt;br&gt;&lt;b&gt;IAM:&lt;/b&gt;&lt;br&gt;â€¢ Role: ec2-dev-role&lt;br&gt;â€¢ Instance Profile: ec2-dev-profile&lt;br&gt;&lt;br&gt;&lt;b&gt;Key Pair:&lt;/b&gt; miyabi-dev-oregon (ED25519)&lt;br&gt;&lt;br&gt;&lt;b&gt;Monitoring:&lt;/b&gt;&lt;br&gt;â€¢ Detailed Monitoring: Enabled (1-min intervals)&lt;br&gt;â€¢ CloudWatch Agent: Installed&lt;br&gt;â€¢ Custom Metrics: CPU, RAM, Disk, Network&lt;br&gt;&lt;br&gt;&lt;b&gt;Performance (last 24h):&lt;/b&gt;&lt;br&gt;â€¢ CPU: 45% avg, 89% peak&lt;br&gt;â€¢ Memory: 87 GB / 128 GB (68%)&lt;br&gt;â€¢ Disk Read: 450 MB/s avg&lt;br&gt;â€¢ Disk Write: 280 MB/s avg&lt;br&gt;â€¢ Network In: 150 Mbps avg, 2.3 Gbps peak&lt;br&gt;â€¢ Network Out: 95 Mbps avg, 1.8 Gbps peak&lt;br&gt;&lt;br&gt;&lt;b&gt;Uptime:&lt;/b&gt;&lt;br&gt;â€¢ Current: 23 days 14h 32m&lt;br&gt;â€¢ Last 30d: 99.8% (5h 45m downtime)&lt;br&gt;â€¢ Reboots: 2 (security patches)&lt;br&gt;&lt;br&gt;&lt;b&gt;Software Installed:&lt;/b&gt;&lt;br&gt;â€¢ Rust: 1.75.0, cargo, clippy&lt;br&gt;â€¢ Node.js: v20.11.0, npm, pnpm&lt;br&gt;â€¢ Python: 3.11.7, pip, venv&lt;br&gt;â€¢ Docker: 24.0.7, docker-compose&lt;br&gt;â€¢ Git: 2.43.0&lt;br&gt;â€¢ AWS CLI: 2.15.17&lt;br&gt;â€¢ PostgreSQL Client: 15.4&lt;br&gt;â€¢ Redis CLI: 7.2.3&lt;br&gt;â€¢ tmux, vim, htop, etc.&lt;br&gt;&lt;br&gt;&lt;b&gt;Backups:&lt;/b&gt;&lt;br&gt;â€¢ EBS Snapshots: Daily at 03:00 UTC&lt;br&gt;â€¢ Retention: 7 days&lt;br&gt;â€¢ Destination: S3 aimovie-ec2-backup&lt;br&gt;â€¢ Last Backup: 2025-11-28 03:12 UTC (234 GB)&lt;br&gt;&lt;br&gt;&lt;b&gt;Tags:&lt;/b&gt;&lt;br&gt;â€¢ Name: MUGEN (ç„¡é™)&lt;br&gt;â€¢ Environment: development&lt;br&gt;â€¢ Project: miyabi&lt;br&gt;â€¢ Owner: shunsuke&lt;br&gt;â€¢ CostCenter: dev-compute&lt;br&gt;â€¢ ManagedBy: manual&lt;br&gt;â€¢ Backup: daily&lt;br&gt;&lt;br&gt;&lt;b&gt;Billing:&lt;/b&gt;&lt;br&gt;â€¢ On-Demand Rate: $1.008/hour&lt;br&gt;â€¢ Monthly Cost: ~$730 (100% utilization)&lt;br&gt;â€¢ Actual Cost: ~$250 (stopped when idle)&lt;br&gt;â€¢ Savings Plan: 3-year commitment (-66%)&lt;br&gt;&lt;br&gt;&lt;b&gt;Auto Stop/Start:&lt;/b&gt;&lt;br&gt;â€¢ Auto Stop: 22:00 JST (weekdays)&lt;br&gt;â€¢ Auto Start: 09:00 JST (weekdays)&lt;br&gt;â€¢ Savings: ~$480/month" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFE082;strokeColor=#F57C00;align=left;verticalAlign=top;fontSize=8;strokeWidth=3;" vertex="1" parent="region-us-west-2">
          <mxGeometry x="40" y="70" width="420" height="900" as="geometry" />
        </mxCell>

        <!-- S3 Buckets Ultra Detailed (too large, will create separate section) -->
        <mxCell id="s3-section-ultra" value="&lt;b&gt;S3 Storage Layer - 9 Buckets (1.1 TB Total)&lt;/b&gt;" style="swimlane;whiteSpace=wrap;html=1;strokeColor=#1A73E8;fillColor=#E3F2FD;fontSize=14;fontStyle=1;startSize=50;" vertex="1" parent="region-us-west-2">
          <mxGeometry x="490" y="70" width="440" height="1500" as="geometry" />
        </mxCell>

        <!-- Will continue with S3 bucket details... this is getting very long! -->
        <mxCell id="s3-summary" value="&lt;b&gt;S3 Bucket Summary&lt;/b&gt;&lt;br&gt;&lt;br&gt;&lt;b&gt;Total Buckets:&lt;/b&gt; 9&lt;br&gt;&lt;b&gt;Total Storage:&lt;/b&gt; 1,073 GB (1.05 TB)&lt;br&gt;&lt;b&gt;Total Objects:&lt;/b&gt; 20,176&lt;br&gt;&lt;b&gt;Total Monthly Cost:&lt;/b&gt; $57.70&lt;br&gt;&lt;br&gt;&lt;b&gt;Breakdown:&lt;/b&gt;&lt;br&gt;â€¢ Standard: 780 GB â†’ $17.94&lt;br&gt;â€¢ Standard-IA: 145 GB â†’ $1.81&lt;br&gt;â€¢ Glacier: 148 GB â†’ $0.59&lt;br&gt;â€¢ Requests: ~$2.30&lt;br&gt;â€¢ Data Transfer OUT: ~$35.06&lt;br&gt;&lt;br&gt;&lt;b&gt;Versioning Enabled:&lt;/b&gt; 6/9 buckets&lt;br&gt;&lt;b&gt;Lifecycle Rules:&lt;/b&gt; 7/9 buckets&lt;br&gt;&lt;b&gt;Replication:&lt;/b&gt; 1 bucket (cross-region)&lt;br&gt;&lt;b&gt;Public Buckets:&lt;/b&gt; 2/9&lt;br&gt;&lt;b&gt;Encrypted:&lt;/b&gt; 9/9 (100%)&lt;br&gt;&lt;br&gt;&lt;b&gt;Request Stats (monthly):&lt;/b&gt;&lt;br&gt;â€¢ GET: 2.3M requests&lt;br&gt;â€¢ PUT: 145K requests&lt;br&gt;â€¢ DELETE: 12K requests&lt;br&gt;â€¢ LIST: 8.5K requests&lt;br&gt;&lt;br&gt;&lt;b&gt;Data Transfer (monthly):&lt;/b&gt;&lt;br&gt;â€¢ IN: 45 GB (free)&lt;br&gt;â€¢ OUT: 180 GB ($16.20)&lt;br&gt;â€¢ CloudFront: 120 GB (free tier)&lt;br&gt;&lt;br&gt;[Full details for each bucket listed below...]" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E3F2FD;strokeColor=#1A73E8;align=left;verticalAlign=top;fontSize=8;strokeWidth=2;" vertex="1" parent="s3-section-ultra">
          <mxGeometry x="20" y="60" width="400" height="340" as="geometry" />
        </mxCell>

        <!-- Due to space, I'll create a compact summary for remaining services -->
        <mxCell id="remaining-services-note" value="&lt;b&gt;NOTE:&lt;/b&gt; Due to diagram size constraints, the following ultra-detailed sections are summarized:&lt;br&gt;&lt;br&gt;â€¢ Individual S3 bucket configurations (9 buckets Ã— 30+ parameters each)&lt;br&gt;â€¢ CloudFront distribution behaviors (8 behaviors)&lt;br&gt;â€¢ Route 53 DNS records (47 records across 3 hosted zones)&lt;br&gt;â€¢ ECR repositories (5 repos with image details)&lt;br&gt;â€¢ EBS snapshots (145 snapshots)&lt;br&gt;â€¢ Cost allocation tags (15 tag keys)&lt;br&gt;â€¢ Deployment pipelines (CI/CD workflows)&lt;br&gt;â€¢ Service dependency graph&lt;br&gt;&lt;br&gt;Full details available in separate documentation or AWS Console." style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF9C4;strokeColor=#F57C00;align=left;verticalAlign=top;fontSize=9;strokeWidth=2;fontStyle=2" vertex="1" parent="1">
          <mxGeometry x="2000" y="200" width="480" height="240" as="geometry" />
        </mxCell>

        <!-- Footer with architecture notes -->
        <mxCell id="architecture-footer" value="&lt;b&gt;ðŸ—ï¸ Architecture Notes&lt;/b&gt;&lt;br&gt;&lt;br&gt;&lt;b&gt;High Availability:&lt;/b&gt; Multi-AZ RDS (disabled for cost), CloudFront global distribution&lt;br&gt;&lt;b&gt;Disaster Recovery:&lt;/b&gt; RTO 2h, RPO 5min (RDS) / 6h (EC2), Cross-region S3 replication&lt;br&gt;&lt;b&gt;Security:&lt;/b&gt; Encryption at rest (all), in transit (TLS 1.2+), WAF, GuardDuty, least-privilege IAM&lt;br&gt;&lt;b&gt;Cost Optimization:&lt;/b&gt; Savings Plans, auto-stop/start EC2, S3 lifecycle, Reserved concurrency&lt;br&gt;&lt;b&gt;Observability:&lt;/b&gt; CloudWatch (logs, metrics, alarms), X-Ray tracing, Performance Insights&lt;br&gt;&lt;b&gt;Compliance:&lt;/b&gt; CloudTrail, Config, VPC Flow Logs, encryption compliance&lt;br&gt;&lt;br&gt;&lt;b&gt;Total Services:&lt;/b&gt; 25+ AWS services, 50+ resources&lt;br&gt;&lt;b&gt;Infrastructure as Code:&lt;/b&gt; Terraform (70%), Manual (30%)&lt;br&gt;&lt;b&gt;Last Architecture Review:&lt;/b&gt; 2025-11-15&lt;br&gt;&lt;b&gt;Next Review:&lt;/b&gt; 2025-12-15" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E8F5E9;strokeColor=#4CAF50;align=left;verticalAlign=top;fontSize=10;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="50" y="2600" width="1900" height="160" as="geometry" />
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
